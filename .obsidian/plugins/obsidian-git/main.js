/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository (https://github.com/denolehov/obsidian-git)
*/

var rk=Object.create;var Pa=Object.defineProperty;var ik=Object.getOwnPropertyDescriptor;var ak=Object.getOwnPropertyNames;var sk=Object.getPrototypeOf,ok=Object.prototype.hasOwnProperty;var lk=(e,t,n)=>t in e?Pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ck=(e,t)=>()=>(e&&(t=e(e=0)),t);var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),uk=(e,t)=>{for(var n in t)Pa(e,n,{get:t[n],enumerable:!0})},hm=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ak(t))!ok.call(e,i)&&i!==n&&Pa(e,i,{get:()=>t[i],enumerable:!(r=ik(t,i))||r.enumerable});return e};var Xe=(e,t,n)=>(n=e!=null?rk(sk(e)):{},hm(t||!e||!e.__esModule?Pa(n,"default",{value:e,enumerable:!0}):n,e)),fk=e=>hm(Pa({},"__esModule",{value:!0}),e);var ut=(e,t,n)=>lk(e,typeof t!="symbol"?t+"":t,n);var mm=R(fo=>{"use strict";v();fo.byteLength=dk;fo.toByteArray=mk;fo.fromByteArray=vk;var vn=[],Zt=[],hk=typeof Uint8Array!="undefined"?Uint8Array:Array,vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Fr=0,dm=vu.length;Fr<dm;++Fr)vn[Fr]=vu[Fr],Zt[vu.charCodeAt(Fr)]=Fr;var Fr,dm;Zt[45]=62;Zt[95]=63;function pm(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function dk(e){var t=pm(e),n=t[0],r=t[1];return(n+r)*3/4-r}function pk(e,t,n){return(t+n)*3/4-n}function mk(e){var t,n=pm(e),r=n[0],i=n[1],a=new hk(pk(e,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)t=Zt[e.charCodeAt(l)]<<18|Zt[e.charCodeAt(l+1)]<<12|Zt[e.charCodeAt(l+2)]<<6|Zt[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Zt[e.charCodeAt(l)]<<2|Zt[e.charCodeAt(l+1)]>>4,a[s++]=t&255),i===1&&(t=Zt[e.charCodeAt(l)]<<10|Zt[e.charCodeAt(l+1)]<<4|Zt[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function gk(e){return vn[e>>18&63]+vn[e>>12&63]+vn[e>>6&63]+vn[e&63]}function yk(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(gk(r));return i.join("")}function vk(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(yk(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(vn[t>>2]+vn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(vn[t>>10]+vn[t>>4&63]+vn[t<<2&63]+"=")),i.join("")}});var gm=R(wu=>{v();wu.read=function(e,t,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,a=d&(1<<-u)-1,d>>=-u,u+=o;u>0;a=a*256+e[t+f],f+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=s*256+e[t+f],f+=h,u-=8);if(a===0)a=1-c;else{if(a===l)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-c}return(d?-1:1)*s*Math.pow(2,a-r)};wu.write=function(e,t,n,r,i,a){var s,o,l,c=a*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?t+=h/l:t+=h*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=u?(o=0,s=u):s+f>=1?(o=(t*l-1)*Math.pow(2,i),s=s+f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=o&255,d+=p,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;e[n+d]=s&255,d+=p,s/=256,c-=8);e[n+d-p]|=g*128}});var Cu=R(fi=>{"use strict";v();var bu=mm(),ci=gm(),ym=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;fi.Buffer=O;fi.SlowBuffer=Ek;fi.INSPECT_MAX_BYTES=50;var ho=2147483647;fi.kMaxLength=ho;O.TYPED_ARRAY_SUPPORT=wk();!O.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function wk(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch(e){return!1}}Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}});Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}});function Ln(e){if(e>ho)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,O.prototype),t}function O(e,t,n){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Eu(e)}return xm(e,t,n)}O.poolSize=8192;function xm(e,t,n){if(typeof e=="string")return xk(e,t);if(ArrayBuffer.isView(e))return _k(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(wn(e,ArrayBuffer)||e&&wn(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(wn(e,SharedArrayBuffer)||e&&wn(e.buffer,SharedArrayBuffer)))return _u(e,t,n);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(r!=null&&r!==e)return O.from(r,t,n);let i=Sk(e);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return O.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}O.from=function(e,t,n){return xm(e,t,n)};Object.setPrototypeOf(O.prototype,Uint8Array.prototype);Object.setPrototypeOf(O,Uint8Array);function _m(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function bk(e,t,n){return _m(e),e<=0?Ln(e):t!==void 0?typeof n=="string"?Ln(e).fill(t,n):Ln(e).fill(t):Ln(e)}O.alloc=function(e,t,n){return bk(e,t,n)};function Eu(e){return _m(e),Ln(e<0?0:Au(e)|0)}O.allocUnsafe=function(e){return Eu(e)};O.allocUnsafeSlow=function(e){return Eu(e)};function xk(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!O.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let n=Sm(e,t)|0,r=Ln(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function xu(e){let t=e.length<0?0:Au(e.length)|0,n=Ln(t);for(let r=0;r<t;r+=1)n[r]=e[r]&255;return n}function _k(e){if(wn(e,Uint8Array)){let t=new Uint8Array(e);return _u(t.buffer,t.byteOffset,t.byteLength)}return xu(e)}function _u(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return t===void 0&&n===void 0?r=new Uint8Array(e):n===void 0?r=new Uint8Array(e,t):r=new Uint8Array(e,t,n),Object.setPrototypeOf(r,O.prototype),r}function Sk(e){if(O.isBuffer(e)){let t=Au(e.length)|0,n=Ln(t);return n.length===0||e.copy(n,0,0,t),n}if(e.length!==void 0)return typeof e.length!="number"||Tu(e.length)?Ln(0):xu(e);if(e.type==="Buffer"&&Array.isArray(e.data))return xu(e.data)}function Au(e){if(e>=ho)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ho.toString(16)+" bytes");return e|0}function Ek(e){return+e!=e&&(e=0),O.alloc(+e)}O.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==O.prototype};O.compare=function(t,n){if(wn(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),wn(n,Uint8Array)&&(n=O.from(n,n.offset,n.byteLength)),!O.isBuffer(t)||!O.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;let r=t.length,i=n.length;for(let a=0,s=Math.min(r,i);a<s;++a)if(t[a]!==n[a]){r=t[a],i=n[a];break}return r<i?-1:i<r?1:0};O.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};O.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return O.alloc(0);let r;if(n===void 0)for(n=0,r=0;r<t.length;++r)n+=t[r].length;let i=O.allocUnsafe(n),a=0;for(r=0;r<t.length;++r){let s=t[r];if(wn(s,Uint8Array))a+s.length>i.length?(O.isBuffer(s)||(s=O.from(s)),s.copy(i,a)):Uint8Array.prototype.set.call(i,s,a);else if(O.isBuffer(s))s.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return i};function Sm(e,t){if(O.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||wn(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Su(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Om(e).length;default:if(i)return r?-1:Su(e).length;t=(""+t).toLowerCase(),i=!0}}O.byteLength=Sm;function Ak(e,t,n){let r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Lk(this,t,n);case"utf8":case"utf-8":return Am(this,t,n);case"ascii":return Ik(this,t,n);case"latin1":case"binary":return Rk(this,t,n);case"base64":return Mk(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jk(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}O.prototype._isBuffer=!0;function Pr(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}O.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)Pr(this,n,n+1);return this};O.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)Pr(this,n,n+3),Pr(this,n+1,n+2);return this};O.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)Pr(this,n,n+7),Pr(this,n+1,n+6),Pr(this,n+2,n+5),Pr(this,n+3,n+4);return this};O.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?Am(this,0,t):Ak.apply(this,arguments)};O.prototype.toLocaleString=O.prototype.toString;O.prototype.equals=function(t){if(!O.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:O.compare(this,t)===0};O.prototype.inspect=function(){let t="",n=fi.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"};ym&&(O.prototype[ym]=O.prototype.inspect);O.prototype.compare=function(t,n,r,i,a){if(wn(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),!O.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(n===void 0&&(n=0),r===void 0&&(r=t?t.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),n<0||r>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&n>=r)return 0;if(i>=a)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,a>>>=0,this===t)return 0;let s=a-i,o=r-n,l=Math.min(s,o),c=this.slice(i,a),u=t.slice(n,r);for(let f=0;f<l;++f)if(c[f]!==u[f]){s=c[f],o=u[f];break}return s<o?-1:o<s?1:0};function Em(e,t,n,r,i){if(e.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Tu(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof t=="string"&&(t=O.from(t,r)),O.isBuffer(t))return t.length===0?-1:vm(e,t,n,r,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):vm(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function vm(e,t,n,r,i){let a=1,s=e.length,o=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,s/=2,o/=2,n/=2}function l(u,f){return a===1?u[f]:u.readUInt16BE(f*a)}let c;if(i){let u=-1;for(c=n;c<s;c++)if(l(e,c)===l(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===o)return u*a}else u!==-1&&(c-=c-u),u=-1}else for(n+o>s&&(n=s-o),c=n;c>=0;c--){let u=!0;for(let f=0;f<o;f++)if(l(e,c+f)!==l(t,f)){u=!1;break}if(u)return c}return-1}O.prototype.includes=function(t,n,r){return this.indexOf(t,n,r)!==-1};O.prototype.indexOf=function(t,n,r){return Em(this,t,n,r,!0)};O.prototype.lastIndexOf=function(t,n,r){return Em(this,t,n,r,!1)};function kk(e,t,n,r){n=Number(n)||0;let i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;let a=t.length;r>a/2&&(r=a/2);let s;for(s=0;s<r;++s){let o=parseInt(t.substr(s*2,2),16);if(Tu(o))return s;e[n+s]=o}return s}function Tk(e,t,n,r){return po(Su(t,e.length-n),e,n,r)}function Ck(e,t,n,r){return po($k(t),e,n,r)}function Fk(e,t,n,r){return po(Om(t),e,n,r)}function Pk(e,t,n,r){return po(Hk(t,e.length-n),e,n,r)}O.prototype.write=function(t,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-n;if((r===void 0||r>a)&&(r=a),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return kk(this,t,n,r);case"utf8":case"utf-8":return Tk(this,t,n,r);case"ascii":case"latin1":case"binary":return Ck(this,t,n,r);case"base64":return Fk(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pk(this,t,n,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mk(e,t,n){return t===0&&n===e.length?bu.fromByteArray(e):bu.fromByteArray(e.slice(t,n))}function Am(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let a=e[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=n){let l,c,u,f;switch(o){case 1:a<128&&(s=a);break;case 2:l=e[i+1],(l&192)===128&&(f=(a&31)<<6|l&63,f>127&&(s=f));break;case 3:l=e[i+1],c=e[i+2],(l&192)===128&&(c&192)===128&&(f=(a&15)<<12|(l&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(f=(a&15)<<18|(l&63)<<12|(c&63)<<6|u&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=o}return Ok(r)}var wm=4096;function Ok(e){let t=e.length;if(t<=wm)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=wm));return n}function Ik(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]&127);return r}function Rk(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function Lk(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let a=t;a<n;++a)i+=Uk[e[a]];return i}function jk(e,t,n){let r=e.slice(t,n),i="";for(let a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+r[a+1]*256);return i}O.prototype.slice=function(t,n){let r=this.length;t=~~t,n=n===void 0?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);let i=this.subarray(t,n);return Object.setPrototypeOf(i,O.prototype),i};function ft(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}O.prototype.readUintLE=O.prototype.readUIntLE=function(t,n,r){t=t>>>0,n=n>>>0,r||ft(t,n,this.length);let i=this[t],a=1,s=0;for(;++s<n&&(a*=256);)i+=this[t+s]*a;return i};O.prototype.readUintBE=O.prototype.readUIntBE=function(t,n,r){t=t>>>0,n=n>>>0,r||ft(t,n,this.length);let i=this[t+--n],a=1;for(;n>0&&(a*=256);)i+=this[t+--n]*a;return i};O.prototype.readUint8=O.prototype.readUInt8=function(t,n){return t=t>>>0,n||ft(t,1,this.length),this[t]};O.prototype.readUint16LE=O.prototype.readUInt16LE=function(t,n){return t=t>>>0,n||ft(t,2,this.length),this[t]|this[t+1]<<8};O.prototype.readUint16BE=O.prototype.readUInt16BE=function(t,n){return t=t>>>0,n||ft(t,2,this.length),this[t]<<8|this[t+1]};O.prototype.readUint32LE=O.prototype.readUInt32LE=function(t,n){return t=t>>>0,n||ft(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};O.prototype.readUint32BE=O.prototype.readUInt32BE=function(t,n){return t=t>>>0,n||ft(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};O.prototype.readBigUInt64LE=Qn(function(t){t=t>>>0,ui(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ma(t,this.length-8);let i=n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,a=this[++t]+this[++t]*2**8+this[++t]*2**16+r*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});O.prototype.readBigUInt64BE=Qn(function(t){t=t>>>0,ui(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ma(t,this.length-8);let i=n*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],a=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(a)});O.prototype.readIntLE=function(t,n,r){t=t>>>0,n=n>>>0,r||ft(t,n,this.length);let i=this[t],a=1,s=0;for(;++s<n&&(a*=256);)i+=this[t+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*n)),i};O.prototype.readIntBE=function(t,n,r){t=t>>>0,n=n>>>0,r||ft(t,n,this.length);let i=n,a=1,s=this[t+--i];for(;i>0&&(a*=256);)s+=this[t+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*n)),s};O.prototype.readInt8=function(t,n){return t=t>>>0,n||ft(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};O.prototype.readInt16LE=function(t,n){t=t>>>0,n||ft(t,2,this.length);let r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r};O.prototype.readInt16BE=function(t,n){t=t>>>0,n||ft(t,2,this.length);let r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r};O.prototype.readInt32LE=function(t,n){return t=t>>>0,n||ft(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};O.prototype.readInt32BE=function(t,n){return t=t>>>0,n||ft(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};O.prototype.readBigInt64LE=Qn(function(t){t=t>>>0,ui(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ma(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});O.prototype.readBigInt64BE=Qn(function(t){t=t>>>0,ui(t,"offset");let n=this[t],r=this[t+7];(n===void 0||r===void 0)&&Ma(t,this.length-8);let i=(n<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r)});O.prototype.readFloatLE=function(t,n){return t=t>>>0,n||ft(t,4,this.length),ci.read(this,t,!0,23,4)};O.prototype.readFloatBE=function(t,n){return t=t>>>0,n||ft(t,4,this.length),ci.read(this,t,!1,23,4)};O.prototype.readDoubleLE=function(t,n){return t=t>>>0,n||ft(t,8,this.length),ci.read(this,t,!0,52,8)};O.prototype.readDoubleBE=function(t,n){return t=t>>>0,n||ft(t,8,this.length),ci.read(this,t,!1,52,8)};function Pt(e,t,n,r,i,a){if(!O.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}O.prototype.writeUintLE=O.prototype.writeUIntLE=function(t,n,r,i){if(t=+t,n=n>>>0,r=r>>>0,!i){let o=Math.pow(2,8*r)-1;Pt(this,t,n,r,o,0)}let a=1,s=0;for(this[n]=t&255;++s<r&&(a*=256);)this[n+s]=t/a&255;return n+r};O.prototype.writeUintBE=O.prototype.writeUIntBE=function(t,n,r,i){if(t=+t,n=n>>>0,r=r>>>0,!i){let o=Math.pow(2,8*r)-1;Pt(this,t,n,r,o,0)}let a=r-1,s=1;for(this[n+a]=t&255;--a>=0&&(s*=256);)this[n+a]=t/s&255;return n+r};O.prototype.writeUint8=O.prototype.writeUInt8=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,1,255,0),this[n]=t&255,n+1};O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,2,65535,0),this[n]=t&255,this[n+1]=t>>>8,n+2};O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=t&255,n+2};O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t&255,n+4};O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};function km(e,t,n,r,i){Mm(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a=a>>8,e[n++]=a,a=a>>8,e[n++]=a,a=a>>8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s=s>>8,e[n++]=s,s=s>>8,e[n++]=s,s=s>>8,e[n++]=s,n}function Tm(e,t,n,r,i){Mm(t,r,i,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a=a>>8,e[n+6]=a,a=a>>8,e[n+5]=a,a=a>>8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s=s>>8,e[n+2]=s,s=s>>8,e[n+1]=s,s=s>>8,e[n]=s,n+8}O.prototype.writeBigUInt64LE=Qn(function(t,n=0){return km(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeBigUInt64BE=Qn(function(t,n=0){return Tm(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeIntLE=function(t,n,r,i){if(t=+t,n=n>>>0,!i){let l=Math.pow(2,8*r-1);Pt(this,t,n,r,l-1,-l)}let a=0,s=1,o=0;for(this[n]=t&255;++a<r&&(s*=256);)t<0&&o===0&&this[n+a-1]!==0&&(o=1),this[n+a]=(t/s>>0)-o&255;return n+r};O.prototype.writeIntBE=function(t,n,r,i){if(t=+t,n=n>>>0,!i){let l=Math.pow(2,8*r-1);Pt(this,t,n,r,l-1,-l)}let a=r-1,s=1,o=0;for(this[n+a]=t&255;--a>=0&&(s*=256);)t<0&&o===0&&this[n+a+1]!==0&&(o=1),this[n+a]=(t/s>>0)-o&255;return n+r};O.prototype.writeInt8=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=t&255,n+1};O.prototype.writeInt16LE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,2,32767,-32768),this[n]=t&255,this[n+1]=t>>>8,n+2};O.prototype.writeInt16BE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=t&255,n+2};O.prototype.writeInt32LE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,4,2147483647,-2147483648),this[n]=t&255,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4};O.prototype.writeInt32BE=function(t,n,r){return t=+t,n=n>>>0,r||Pt(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};O.prototype.writeBigInt64LE=Qn(function(t,n=0){return km(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});O.prototype.writeBigInt64BE=Qn(function(t,n=0){return Tm(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Cm(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Fm(e,t,n,r,i){return t=+t,n=n>>>0,i||Cm(e,t,n,4,34028234663852886e22,-34028234663852886e22),ci.write(e,t,n,r,23,4),n+4}O.prototype.writeFloatLE=function(t,n,r){return Fm(this,t,n,!0,r)};O.prototype.writeFloatBE=function(t,n,r){return Fm(this,t,n,!1,r)};function Pm(e,t,n,r,i){return t=+t,n=n>>>0,i||Cm(e,t,n,8,17976931348623157e292,-17976931348623157e292),ci.write(e,t,n,r,52,8),n+8}O.prototype.writeDoubleLE=function(t,n,r){return Pm(this,t,n,!0,r)};O.prototype.writeDoubleBE=function(t,n,r){return Pm(this,t,n,!1,r)};O.prototype.copy=function(t,n,r,i){if(!O.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r||t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);let a=i-r;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),n),a};O.prototype.fill=function(t,n,r,i){if(typeof t=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!O.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let s=t.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);let a;if(typeof t=="number")for(a=n;a<r;++a)this[a]=t;else{let s=O.isBuffer(t)?t:O.from(t,i),o=s.length;if(o===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%o]}return this};var li={};function ku(e,t,n){li[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}ku("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ku("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);ku("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=bm(String(n)):typeof n=="bigint"&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=bm(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);function bm(e){let t="",n=e.length,r=e[0]==="-"?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function Dk(e,t,n){ui(t,"offset"),(e[t]===void 0||e[t+n]===void 0)&&Ma(t,e.length-(n+1))}function Mm(e,t,n,r,i,a){if(e>n||e<t){let s=typeof t=="bigint"?"n":"",o;throw a>3?t===0||t===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(a+1)*8}${s}`:o=`>= -(2${s} ** ${(a+1)*8-1}${s}) and < 2 ** ${(a+1)*8-1}${s}`:o=`>= ${t}${s} and <= ${n}${s}`,new li.ERR_OUT_OF_RANGE("value",o,e)}Dk(r,i,a)}function ui(e,t){if(typeof e!="number")throw new li.ERR_INVALID_ARG_TYPE(t,"number",e)}function Ma(e,t,n){throw Math.floor(e)!==e?(ui(e,n),new li.ERR_OUT_OF_RANGE(n||"offset","an integer",e)):t<0?new li.ERR_BUFFER_OUT_OF_BOUNDS:new li.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}var Bk=/[^+/0-9A-Za-z-_]/g;function Nk(e){if(e=e.split("=")[0],e=e.trim().replace(Bk,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Su(e,t){t=t||1/0;let n,r=e.length,i=null,a=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return a}function $k(e){let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return t}function Hk(e,t){let n,r,i,a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function Om(e){return bu.toByteArray(Nk(e))}function po(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function wn(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Tu(e){return e!==e}var Uk=function(){let e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){let r=n*16;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Qn(e){return typeof BigInt=="undefined"?Gk:e}function Gk(){throw new Error("BigInt not supported")}});var Im,Fu,Buffer,v=ck(()=>{Im=require("obsidian");Im.Platform.isMobileApp?Fu=Cu().Buffer:Fu=global.Buffer;Buffer=Fu});var Lm=R((wD,Rm)=>{"use strict";v();var $t=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if(typeof process=="undefined"||typeof process.domain=="undefined")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||$t.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||$t.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||$t.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=$t.DEFAULT_MAX_PENDING};$t.DEFAULT_TIMEOUT=0;$t.DEFAULT_MAX_OCCUPATION_TIME=0;$t.DEFAULT_MAX_EXECUTION_TIME=0;$t.DEFAULT_MAX_PENDING=1e3;$t.prototype.acquire=function(e,t,n,r){if(Array.isArray(e))return this._acquireBatch(e,t,n,r);if(typeof t!="function")throw new Error("You must pass a function to execute");var i=null,a=null,s=null;typeof n!="function"&&(r=n,n=null,s=new this.Promise(function(b,S){i=b,a=S})),r=r||{};var o=!1,l=null,c=null,u=null,f=this,h=function(b,S,A){c&&(clearTimeout(c),c=null),u&&(clearTimeout(u),u=null),b&&(f.queues[e]&&f.queues[e].length===0&&delete f.queues[e],f.domainReentrant&&delete f.domains[e]),o||(s?S?a(S):i(A):typeof n=="function"&&n(S,A),o=!0),b&&f.queues[e]&&f.queues[e].length>0&&f.queues[e].shift()()},d=function(b){if(o)return h(b);l&&(clearTimeout(l),l=null),f.domainReentrant&&b&&(f.domains[e]=process.domain);var S=r.maxExecutionTime||f.maxExecutionTime;if(S&&(u=setTimeout(function(){f.queues[e]&&h(b,new Error("Maximum execution time is exceeded "+e))},S)),t.length===1){var A=!1;try{t(function(x,k){A||(A=!0,h(b,x,k))})}catch(x){A||(A=!0,h(b,x))}}else f._promiseTry(function(){return t()}).then(function(x){h(b,void 0,x)},function(x){h(b,x)})};f.domainReentrant&&process.domain&&(d=process.domain.bind(d));var p=r.maxPending||f.maxPending;if(!f.queues[e])f.queues[e]=[],d(!0);else if(f.domainReentrant&&process.domain&&process.domain===f.domains[e])d(!1);else if(f.queues[e].length>=p)h(!1,new Error("Too many pending tasks in queue "+e));else{var g=function(){d(!0)};r.skipQueue?f.queues[e].unshift(g):f.queues[e].push(g);var m=r.timeout||f.timeout;m&&(l=setTimeout(function(){l=null,h(!1,new Error("async-lock timed out in queue "+e))},m))}var w=r.maxOccupationTime||f.maxOccupationTime;if(w&&(c=setTimeout(function(){f.queues[e]&&h(!1,new Error("Maximum occupation time is exceeded in queue "+e))},w)),s)return s};$t.prototype._acquireBatch=function(e,t,n,r){typeof n!="function"&&(r=n,n=null);var i=this,a=function(o,l){return function(c){i.acquire(o,l,c,r)}},s=e.reduceRight(function(o,l){return a(l,o)},t);if(typeof n=="function")s(n);else return new this.Promise(function(o,l){s.length===1?s(function(c,u){c?l(c):o(u)}):o(s())})};$t.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0};$t.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(t){return this.Promise.reject(t)}};Rm.exports=$t});var Dm=R((xD,jm)=>{"use strict";v();jm.exports=Lm()});var Bm=R((SD,Pu)=>{v();typeof Object.create=="function"?Pu.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Pu.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}});var Ou=R((Mu,$m)=>{v();var mo=Cu(),bn=mo.Buffer;function Nm(e,t){for(var n in e)t[n]=e[n]}bn.from&&bn.alloc&&bn.allocUnsafe&&bn.allocUnsafeSlow?$m.exports=mo:(Nm(mo,Mu),Mu.Buffer=Mr);function Mr(e,t,n){return bn(e,t,n)}Mr.prototype=Object.create(bn.prototype);Nm(bn,Mr);Mr.from=function(e,t,n){if(typeof e=="number")throw new TypeError("Argument must not be a number");return bn(e,t,n)};Mr.alloc=function(e,t,n){if(typeof e!="number")throw new TypeError("Argument must be a number");var r=bn(e);return t!==void 0?typeof n=="string"?r.fill(t,n):r.fill(t):r.fill(0),r};Mr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return bn(e)};Mr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return mo.SlowBuffer(e)}});var Gm=R((kD,Um)=>{v();var Hm=Ou().Buffer;function go(e,t){this._block=Hm.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}go.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Hm.from(e,t));for(var n=this._block,r=this._blockSize,i=e.length,a=this._len,s=0;s<i;){for(var o=a%r,l=Math.min(i-s,r-o),c=0;c<l;c++)n[o+c]=e[s+c];a+=l,s+=l,a%r===0&&this._update(n)}return this._len+=i,this};go.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(n&4294967295)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a};go.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Um.exports=go});var Wm=R((CD,Vm)=>{v();var zk=Bm(),zm=Gm(),Vk=Ou().Buffer,Wk=[1518500249,1859775393,-1894007588,-899497514],qk=new Array(80);function Oa(){this.init(),this._w=qk,zm.call(this,64,56)}zk(Oa,zm);Oa.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xk(e){return e<<1|e>>>31}function Yk(e){return e<<5|e>>>27}function Zk(e){return e<<30|e>>>2}function Kk(e,t,n,r){return e===0?t&n|~t&r:e===2?t&n|t&r|n&r:t^n^r}Oa.prototype._update=function(e){for(var t=this._w,n=this._a|0,r=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=Xk(t[o-3]^t[o-8]^t[o-14]^t[o-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=Yk(n)+Kk(c,r,i,a)+s+t[l]+Wk[c]|0;s=a,a=i,i=Zk(r),r=n,n=u}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};Oa.prototype._hash=function(){var e=Vk.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};Vm.exports=Oa});var Xm=R(Iu=>{v();var qm;(function(e){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof Iu=="object"?e(Iu):typeof define=="function"&&define.amd?define(function(){var t={};return e(t),t}):e(qm={}):e(qm={})})(function(e){e.version="1.2.2";function t(){for(var y=0,E=new Array(256),_=0;_!=256;++_)y=_,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,y=y&1?-306674912^y>>>1:y>>>1,E[_]=y;return typeof Int32Array!="undefined"?new Int32Array(E):E}var n=t();function r(y){var E=0,_=0,C=0,P=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)P[C]=y[C];for(C=0;C!=256;++C)for(_=y[C],E=256+C;E<4096;E+=256)_=P[E]=_>>>8^y[_&255];var L=[];for(C=1;C!=16;++C)L[C-1]=typeof Int32Array!="undefined"?P.subarray(C*256,C*256+256):P.slice(C*256,C*256+256);return L}var i=r(n),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],d=i[8],p=i[9],g=i[10],m=i[11],w=i[12],b=i[13],S=i[14];function A(y,E){for(var _=E^-1,C=0,P=y.length;C<P;)_=_>>>8^n[(_^y.charCodeAt(C++))&255];return~_}function x(y,E){for(var _=E^-1,C=y.length-15,P=0;P<C;)_=S[y[P++]^_&255]^b[y[P++]^_>>8&255]^w[y[P++]^_>>16&255]^m[y[P++]^_>>>24]^g[y[P++]]^p[y[P++]]^d[y[P++]]^h[y[P++]]^f[y[P++]]^u[y[P++]]^c[y[P++]]^l[y[P++]]^o[y[P++]]^s[y[P++]]^a[y[P++]]^n[y[P++]];for(C+=15;P<C;)_=_>>>8^n[(_^y[P++])&255];return~_}function k(y,E){for(var _=E^-1,C=0,P=y.length,L=0,N=0;C<P;)L=y.charCodeAt(C++),L<128?_=_>>>8^n[(_^L)&255]:L<2048?(_=_>>>8^n[(_^(192|L>>6&31))&255],_=_>>>8^n[(_^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,N=y.charCodeAt(C++)&1023,_=_>>>8^n[(_^(240|L>>8&7))&255],_=_>>>8^n[(_^(128|L>>2&63))&255],_=_>>>8^n[(_^(128|N>>6&15|(L&3)<<4))&255],_=_>>>8^n[(_^(128|N&63))&255]):(_=_>>>8^n[(_^(224|L>>12&15))&255],_=_>>>8^n[(_^(128|L>>6&63))&255],_=_>>>8^n[(_^(128|L&63))&255]);return~_}e.table=n,e.bstr=A,e.buf=x,e.str=k})});var jn=R(St=>{"use strict";v();var Jk=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function Qk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}St.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var r in n)Qk(n,r)&&(e[r]=n[r])}}return e};St.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var e3={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray){e.set(t.subarray(n,n+r),i);return}for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],s.set(a,i),i+=a.length;return s}},t3={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};St.setTyped=function(e){e?(St.Buf8=Uint8Array,St.Buf16=Uint16Array,St.Buf32=Int32Array,St.assign(St,e3)):(St.Buf8=Array,St.Buf16=Array,St.Buf32=Array,St.assign(St,t3))};St.setTyped(Jk)});var yg=R(pi=>{"use strict";v();var n3=jn(),r3=4,Ym=0,Zm=1,i3=2;function di(e){for(var t=e.length;--t>=0;)e[t]=0}var a3=0,ng=1,s3=2,o3=3,l3=258,$u=29,Ba=256,Ra=Ba+1+$u,hi=30,Hu=19,rg=2*Ra+1,Or=15,Ru=16,c3=7,Uu=256,ig=16,ag=17,sg=18,Bu=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],yo=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u3=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],og=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f3=512,Dn=new Array((Ra+2)*2);di(Dn);var Ia=new Array(hi*2);di(Ia);var La=new Array(f3);di(La);var ja=new Array(l3-o3+1);di(ja);var Gu=new Array($u);di(Gu);var vo=new Array(hi);di(vo);function Lu(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var lg,cg,ug;function ju(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function fg(e){return e<256?La[e]:La[256+(e>>>7)]}function Da(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Mt(e,t,n){e.bi_valid>Ru-n?(e.bi_buf|=t<<e.bi_valid&65535,Da(e,e.bi_buf),e.bi_buf=t>>Ru-e.bi_valid,e.bi_valid+=n-Ru):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function xn(e,t,n){Mt(e,n[t*2],n[t*2+1])}function hg(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function h3(e){e.bi_valid===16?(Da(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function d3(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,f,h,d,p,g=0;for(h=0;h<=Or;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<rg;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,g++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,d=0,u>=o&&(d=s[u-o]),p=n[u*2],e.opt_len+=p*(h+d),a&&(e.static_len+=p*(i[u*2+1]+d)));if(g!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)f=e.heap[--c],!(f>r)&&(n[f*2+1]!==h&&(e.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),u--)}}function dg(e,t,n){var r=new Array(Or+1),i=0,a,s;for(a=1;a<=Or;a++)r[a]=i=i+n[a-1]<<1;for(s=0;s<=t;s++){var o=e[s*2+1];o!==0&&(e[s*2]=hg(r[o]++,o))}}function p3(){var e,t,n,r,i,a=new Array(Or+1);for(n=0,r=0;r<$u-1;r++)for(Gu[r]=n,e=0;e<1<<Bu[r];e++)ja[n++]=r;for(ja[n-1]=r,i=0,r=0;r<16;r++)for(vo[r]=i,e=0;e<1<<yo[r];e++)La[i++]=r;for(i>>=7;r<hi;r++)for(vo[r]=i<<7,e=0;e<1<<yo[r]-7;e++)La[256+i++]=r;for(t=0;t<=Or;t++)a[t]=0;for(e=0;e<=143;)Dn[e*2+1]=8,e++,a[8]++;for(;e<=255;)Dn[e*2+1]=9,e++,a[9]++;for(;e<=279;)Dn[e*2+1]=7,e++,a[7]++;for(;e<=287;)Dn[e*2+1]=8,e++,a[8]++;for(dg(Dn,Ra+1,a),e=0;e<hi;e++)Ia[e*2+1]=5,Ia[e*2]=hg(e,5);lg=new Lu(Dn,Bu,Ba+1,Ra,Or),cg=new Lu(Ia,yo,0,hi,Or),ug=new Lu(new Array(0),u3,0,Hu,c3)}function pg(e){var t;for(t=0;t<Ra;t++)e.dyn_ltree[t*2]=0;for(t=0;t<hi;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Hu;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Uu*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function mg(e){e.bi_valid>8?Da(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function m3(e,t,n,r){mg(e),r&&(Da(e,n),Da(e,~n)),n3.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function Km(e,t,n,r){var i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function Du(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&Km(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Km(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function Jm(e,t,n){var r,i,a=0,s,o;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?xn(e,i,t):(s=ja[i],xn(e,s+Ba+1,t),o=Bu[s],o!==0&&(i-=Gu[s],Mt(e,i,o)),r--,s=fg(r),xn(e,s,n),o=yo[s],o!==0&&(r-=vo[s],Mt(e,r,o)));while(a<e.last_lit);xn(e,Uu,t)}function Nu(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems,s,o,l=-1,c;for(e.heap_len=0,e.heap_max=rg,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)Du(e,n,s);c=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Du(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[c*2]=n[s*2]+n[o*2],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[s*2+1]=n[o*2+1]=c,e.heap[1]=c++,Du(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d3(e,t),dg(n,l,e.bl_count)}function Qm(e,t,n){var r,i=-1,a,s=t[0*2+1],o=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++o<l&&a===s)&&(o<c?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[ig*2]++):o<=10?e.bl_tree[ag*2]++:e.bl_tree[sg*2]++,o=0,i=a,s===0?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4))}function eg(e,t,n){var r,i=-1,a,s=t[0*2+1],o=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++o<l&&a===s)){if(o<c)do xn(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(xn(e,a,e.bl_tree),o--),xn(e,ig,e.bl_tree),Mt(e,o-3,2)):o<=10?(xn(e,ag,e.bl_tree),Mt(e,o-3,3)):(xn(e,sg,e.bl_tree),Mt(e,o-11,7));o=0,i=a,s===0?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4)}}function g3(e){var t;for(Qm(e,e.dyn_ltree,e.l_desc.max_code),Qm(e,e.dyn_dtree,e.d_desc.max_code),Nu(e,e.bl_desc),t=Hu-1;t>=3&&e.bl_tree[og[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function y3(e,t,n,r){var i;for(Mt(e,t-257,5),Mt(e,n-1,5),Mt(e,r-4,4),i=0;i<r;i++)Mt(e,e.bl_tree[og[i]*2+1],3);eg(e,e.dyn_ltree,t-1),eg(e,e.dyn_dtree,n-1)}function v3(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Ym;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Zm;for(n=32;n<Ba;n++)if(e.dyn_ltree[n*2]!==0)return Zm;return Ym}var tg=!1;function w3(e){tg||(p3(),tg=!0),e.l_desc=new ju(e.dyn_ltree,lg),e.d_desc=new ju(e.dyn_dtree,cg),e.bl_desc=new ju(e.bl_tree,ug),e.bi_buf=0,e.bi_valid=0,pg(e)}function gg(e,t,n,r){Mt(e,(a3<<1)+(r?1:0),3),m3(e,t,n,!0)}function b3(e){Mt(e,ng<<1,3),xn(e,Uu,Dn),h3(e)}function x3(e,t,n,r){var i,a,s=0;e.level>0?(e.strm.data_type===i3&&(e.strm.data_type=v3(e)),Nu(e,e.l_desc),Nu(e,e.d_desc),s=g3(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?gg(e,t,n,r):e.strategy===r3||a===i?(Mt(e,(ng<<1)+(r?1:0),3),Jm(e,Dn,Ia)):(Mt(e,(s3<<1)+(r?1:0),3),y3(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Jm(e,e.dyn_ltree,e.dyn_dtree)),pg(e),r&&mg(e)}function _3(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(ja[n]+Ba+1)*2]++,e.dyn_dtree[fg(t)*2]++),e.last_lit===e.lit_bufsize-1}pi._tr_init=w3;pi._tr_stored_block=gg;pi._tr_flush_block=x3;pi._tr_tally=_3;pi._tr_align=b3});var zu=R((jD,vg)=>{"use strict";v();function S3(e,t,n,r){for(var i=e&65535|0,a=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}vg.exports=S3});var Vu=R((BD,wg)=>{"use strict";v();function E3(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var A3=E3();function k3(e,t,n,r){var i=A3,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}wg.exports=k3});var wo=R(($D,bg)=>{"use strict";v();bg.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Fg=R(En=>{"use strict";v();var Et=jn(),Kt=yg(),Eg=zu(),er=Vu(),T3=wo(),jr=0,C3=1,F3=3,ar=4,xg=5,Sn=0,_g=1,Jt=-2,P3=-3,Wu=-5,M3=-1,O3=1,bo=2,I3=3,R3=4,L3=0,j3=2,Eo=8,D3=9,B3=15,N3=8,$3=29,H3=256,Xu=H3+1+$3,U3=30,G3=19,z3=2*Xu+1,V3=15,me=3,rr=258,cn=rr+me+1,W3=32,Ao=42,Yu=69,xo=73,_o=91,So=103,Ir=113,$a=666,lt=1,Ha=2,Rr=3,yi=4,q3=3;function ir(e,t){return e.msg=T3[t],t}function Sg(e){return(e<<1)-(e>4?9:0)}function nr(e){for(var t=e.length;--t>=0;)e[t]=0}function tr(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(Et.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function dt(e,t){Kt._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,tr(e.strm)}function ve(e,t){e.pending_buf[e.pending++]=t}function Na(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function X3(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,Et.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=Eg(e.adler,t,i,n):e.state.wrap===2&&(e.adler=er(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function Ag(e,t){var n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-cn?e.strstart-(e.w_size-cn):0,c=e.window,u=e.w_mask,f=e.prev,h=e.strstart+rr,d=c[r+s-1],p=c[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(c[i+s]!==p||c[i+s-1]!==d||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(a=rr-(h-r),r=h-rr,a>s){if(e.match_start=t,s=a,a>=o)break;d=c[r+s-1],p=c[r+s]}}while((t=f[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead}function Lr(e){var t=e.w_size,n,r,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-cn)){Et.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);a+=t}if(e.strm.avail_in===0)break;if(r=X3(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=me)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+me-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<me)););}while(e.lookahead<cn&&e.strm.avail_in!==0)}function Y3(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Lr(e),e.lookahead===0&&t===jr)return lt;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,dt(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-cn&&(dt(e,!1),e.strm.avail_out===0))return lt}return e.insert=0,t===ar?(dt(e,!0),e.strm.avail_out===0?Rr:yi):(e.strstart>e.block_start&&(dt(e,!1),e.strm.avail_out===0),lt)}function qu(e,t){for(var n,r;;){if(e.lookahead<cn){if(Lr(e),e.lookahead<cn&&t===jr)return lt;if(e.lookahead===0)break}if(n=0,e.lookahead>=me&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+me-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-cn&&(e.match_length=Ag(e,n)),e.match_length>=me)if(r=Kt._tr_tally(e,e.strstart-e.match_start,e.match_length-me),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=me){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+me-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Kt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(dt(e,!1),e.strm.avail_out===0))return lt}return e.insert=e.strstart<me-1?e.strstart:me-1,t===ar?(dt(e,!0),e.strm.avail_out===0?Rr:yi):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?lt:Ha}function mi(e,t){for(var n,r,i;;){if(e.lookahead<cn){if(Lr(e),e.lookahead<cn&&t===jr)return lt;if(e.lookahead===0)break}if(n=0,e.lookahead>=me&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+me-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=me-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-cn&&(e.match_length=Ag(e,n),e.match_length<=5&&(e.strategy===O3||e.match_length===me&&e.strstart-e.match_start>4096)&&(e.match_length=me-1)),e.prev_length>=me&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-me,r=Kt._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-me),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+me-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=me-1,e.strstart++,r&&(dt(e,!1),e.strm.avail_out===0))return lt}else if(e.match_available){if(r=Kt._tr_tally(e,0,e.window[e.strstart-1]),r&&dt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return lt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Kt._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<me-1?e.strstart:me-1,t===ar?(dt(e,!0),e.strm.avail_out===0?Rr:yi):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?lt:Ha}function Z3(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=rr){if(Lr(e),e.lookahead<=rr&&t===jr)return lt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=me&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+rr;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=rr-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=me?(n=Kt._tr_tally(e,1,e.match_length-me),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Kt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(dt(e,!1),e.strm.avail_out===0))return lt}return e.insert=0,t===ar?(dt(e,!0),e.strm.avail_out===0?Rr:yi):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?lt:Ha}function K3(e,t){for(var n;;){if(e.lookahead===0&&(Lr(e),e.lookahead===0)){if(t===jr)return lt;break}if(e.match_length=0,n=Kt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(dt(e,!1),e.strm.avail_out===0))return lt}return e.insert=0,t===ar?(dt(e,!0),e.strm.avail_out===0?Rr:yi):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?lt:Ha}function _n(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var gi;gi=[new _n(0,0,0,0,Y3),new _n(4,4,8,4,qu),new _n(4,5,16,8,qu),new _n(4,6,32,32,qu),new _n(4,4,16,16,mi),new _n(8,16,32,32,mi),new _n(8,16,128,128,mi),new _n(8,32,128,256,mi),new _n(32,128,258,1024,mi),new _n(32,258,258,4096,mi)];function J3(e){e.window_size=2*e.w_size,nr(e.head),e.max_lazy_match=gi[e.level].max_lazy,e.good_match=gi[e.level].good_length,e.nice_match=gi[e.level].nice_length,e.max_chain_length=gi[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=me-1,e.match_available=0,e.ins_h=0}function Q3(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Eo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Et.Buf16(z3*2),this.dyn_dtree=new Et.Buf16((2*U3+1)*2),this.bl_tree=new Et.Buf16((2*G3+1)*2),nr(this.dyn_ltree),nr(this.dyn_dtree),nr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Et.Buf16(V3+1),this.heap=new Et.Buf16(2*Xu+1),nr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Et.Buf16(2*Xu+1),nr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function kg(e){var t;return!e||!e.state?ir(e,Jt):(e.total_in=e.total_out=0,e.data_type=j3,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Ao:Ir,e.adler=t.wrap===2?0:1,t.last_flush=jr,Kt._tr_init(t),Sn)}function Tg(e){var t=kg(e);return t===Sn&&J3(e.state),t}function eT(e,t){return!e||!e.state||e.state.wrap!==2?Jt:(e.state.gzhead=t,Sn)}function Cg(e,t,n,r,i,a){if(!e)return Jt;var s=1;if(t===M3&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>D3||n!==Eo||r<8||r>15||t<0||t>9||a<0||a>R3)return ir(e,Jt);r===8&&(r=9);var o=new Q3;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+me-1)/me),o.window=new Et.Buf8(o.w_size*2),o.head=new Et.Buf16(o.hash_size),o.prev=new Et.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Et.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=n,Tg(e)}function tT(e,t){return Cg(e,t,Eo,B3,N3,L3)}function nT(e,t){var n,r,i,a;if(!e||!e.state||t>xg||t<0)return e?ir(e,Jt):Jt;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===$a&&t!==ar)return ir(e,e.avail_out===0?Wu:Jt);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===Ao)if(r.wrap===2)e.adler=0,ve(r,31),ve(r,139),ve(r,8),r.gzhead?(ve(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ve(r,r.gzhead.time&255),ve(r,r.gzhead.time>>8&255),ve(r,r.gzhead.time>>16&255),ve(r,r.gzhead.time>>24&255),ve(r,r.level===9?2:r.strategy>=bo||r.level<2?4:0),ve(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ve(r,r.gzhead.extra.length&255),ve(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=er(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Yu):(ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,r.level===9?2:r.strategy>=bo||r.level<2?4:0),ve(r,q3),r.status=Ir);else{var s=Eo+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=bo||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,s|=o<<6,r.strstart!==0&&(s|=W3),s+=31-s%31,r.status=Ir,Na(r,s),r.strstart!==0&&(Na(r,e.adler>>>16),Na(r,e.adler&65535)),e.adler=1}if(r.status===Yu)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=er(e.adler,r.pending_buf,r.pending-i,i)),tr(e),i=r.pending,r.pending===r.pending_buf_size));)ve(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=er(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=xo)}else r.status=xo;if(r.status===xo)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=er(e.adler,r.pending_buf,r.pending-i,i)),tr(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,ve(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=er(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.gzindex=0,r.status=_o)}else r.status=_o;if(r.status===_o)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=er(e.adler,r.pending_buf,r.pending-i,i)),tr(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,ve(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=er(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.status=So)}else r.status=So;if(r.status===So&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tr(e),r.pending+2<=r.pending_buf_size&&(ve(r,e.adler&255),ve(r,e.adler>>8&255),e.adler=0,r.status=Ir)):r.status=Ir),r.pending!==0){if(tr(e),e.avail_out===0)return r.last_flush=-1,Sn}else if(e.avail_in===0&&Sg(t)<=Sg(n)&&t!==ar)return ir(e,Wu);if(r.status===$a&&e.avail_in!==0)return ir(e,Wu);if(e.avail_in!==0||r.lookahead!==0||t!==jr&&r.status!==$a){var l=r.strategy===bo?K3(r,t):r.strategy===I3?Z3(r,t):gi[r.level].func(r,t);if((l===Rr||l===yi)&&(r.status=$a),l===lt||l===Rr)return e.avail_out===0&&(r.last_flush=-1),Sn;if(l===Ha&&(t===C3?Kt._tr_align(r):t!==xg&&(Kt._tr_stored_block(r,0,0,!1),t===F3&&(nr(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),tr(e),e.avail_out===0))return r.last_flush=-1,Sn}return t!==ar?Sn:r.wrap<=0?_g:(r.wrap===2?(ve(r,e.adler&255),ve(r,e.adler>>8&255),ve(r,e.adler>>16&255),ve(r,e.adler>>24&255),ve(r,e.total_in&255),ve(r,e.total_in>>8&255),ve(r,e.total_in>>16&255),ve(r,e.total_in>>24&255)):(Na(r,e.adler>>>16),Na(r,e.adler&65535)),tr(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Sn:_g)}function rT(e){var t;return!e||!e.state?Jt:(t=e.state.status,t!==Ao&&t!==Yu&&t!==xo&&t!==_o&&t!==So&&t!==Ir&&t!==$a?ir(e,Jt):(e.state=null,t===Ir?ir(e,P3):Sn))}function iT(e,t){var n=t.length,r,i,a,s,o,l,c,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==Ao||r.lookahead))return Jt;for(s===1&&(e.adler=Eg(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(nr(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new Et.Buf8(r.w_size),Et.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),o=e.avail_in,l=e.next_in,c=e.input,e.avail_in=n,e.next_in=0,e.input=t,Lr(r);r.lookahead>=me;){i=r.strstart,a=r.lookahead-(me-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+me-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--a);r.strstart=i,r.lookahead=me-1,Lr(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=me-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=o,r.wrap=s,Sn}En.deflateInit=tT;En.deflateInit2=Cg;En.deflateReset=Tg;En.deflateResetKeep=kg;En.deflateSetHeader=eT;En.deflate=nT;En.deflateEnd=rT;En.deflateSetDictionary=iT;En.deflateInfo="pako deflate (from Nodeca project)"});var Zu=R(vi=>{"use strict";v();var ko=jn(),Pg=!0,Mg=!0;try{String.fromCharCode.apply(null,[0])}catch(e){Pg=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Mg=!1}var Ua=new ko.Buf8(256);for(Bn=0;Bn<256;Bn++)Ua[Bn]=Bn>=252?6:Bn>=248?5:Bn>=240?4:Bn>=224?3:Bn>=192?2:1;var Bn;Ua[254]=Ua[254]=1;vi.string2buf=function(e){var t,n,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new ko.Buf8(o),a=0,i=0;a<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};function Og(e,t){if(t<65534&&(e.subarray&&Mg||!e.subarray&&Pg))return String.fromCharCode.apply(null,ko.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}vi.buf2binstring=function(e){return Og(e,e.length)};vi.binstring2buf=function(e){for(var t=new ko.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};vi.buf2string=function(e,t){var n,r,i,a,s=t||e.length,o=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){o[r++]=i;continue}if(a=Ua[i],a>4){o[r++]=65533,n+=a-1;continue}for(i&=a===2?31:a===3?15:7;a>1&&n<s;)i=i<<6|e[n++]&63,a--;if(a>1){o[r++]=65533;continue}i<65536?o[r++]=i:(i-=65536,o[r++]=55296|i>>10&1023,o[r++]=56320|i&1023)}return Og(o,r)};vi.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Ua[e[n]]>t?n:t}});var Ku=R((WD,Ig)=>{"use strict";v();function aT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Ig.exports=aT});var Dg=R(Va=>{"use strict";v();var Ga=Fg(),za=jn(),Qu=Zu(),ef=wo(),sT=Ku(),jg=Object.prototype.toString,oT=0,Ju=4,wi=0,Rg=1,Lg=2,lT=-1,cT=0,uT=8;function Dr(e){if(!(this instanceof Dr))return new Dr(e);this.options=za.assign({level:lT,method:uT,chunkSize:16384,windowBits:15,memLevel:8,strategy:cT,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sT,this.strm.avail_out=0;var n=Ga.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==wi)throw new Error(ef[n]);if(t.header&&Ga.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=Qu.string2buf(t.dictionary):jg.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Ga.deflateSetDictionary(this.strm,r),n!==wi)throw new Error(ef[n]);this._dict_set=!0}}Dr.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,a;if(this.ended)return!1;a=t===~~t?t:t===!0?Ju:oT,typeof e=="string"?n.input=Qu.string2buf(e):jg.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new za.Buf8(r),n.next_out=0,n.avail_out=r),i=Ga.deflate(n,a),i!==Rg&&i!==wi)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(a===Ju||a===Lg))&&(this.options.to==="string"?this.onData(Qu.buf2binstring(za.shrinkBuf(n.output,n.next_out))):this.onData(za.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==Rg);return a===Ju?(i=Ga.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===wi):(a===Lg&&(this.onEnd(wi),n.avail_out=0),!0)};Dr.prototype.onData=function(e){this.chunks.push(e)};Dr.prototype.onEnd=function(e){e===wi&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=za.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function tf(e,t){var n=new Dr(t);if(n.push(e,!0),n.err)throw n.msg||ef[n.err];return n.result}function fT(e,t){return t=t||{},t.raw=!0,tf(e,t)}function hT(e,t){return t=t||{},t.gzip=!0,tf(e,t)}Va.Deflate=Dr;Va.deflate=tf;Va.deflateRaw=fT;Va.gzip=hT});var Ng=R((ZD,Bg)=>{"use strict";v();var To=30,dT=12;Bg.exports=function(t,n){var r,i,a,s,o,l,c,u,f,h,d,p,g,m,w,b,S,A,x,k,y,E,_,C,P;r=t.state,i=t.next_in,C=t.input,a=i+(t.avail_in-5),s=t.next_out,P=t.output,o=s-(n-t.avail_out),l=s+(t.avail_out-257),c=r.dmax,u=r.wsize,f=r.whave,h=r.wnext,d=r.window,p=r.hold,g=r.bits,m=r.lencode,w=r.distcode,b=(1<<r.lenbits)-1,S=(1<<r.distbits)-1;e:do{g<15&&(p+=C[i++]<<g,g+=8,p+=C[i++]<<g,g+=8),A=m[p&b];t:for(;;){if(x=A>>>24,p>>>=x,g-=x,x=A>>>16&255,x===0)P[s++]=A&65535;else if(x&16){k=A&65535,x&=15,x&&(g<x&&(p+=C[i++]<<g,g+=8),k+=p&(1<<x)-1,p>>>=x,g-=x),g<15&&(p+=C[i++]<<g,g+=8,p+=C[i++]<<g,g+=8),A=w[p&S];n:for(;;){if(x=A>>>24,p>>>=x,g-=x,x=A>>>16&255,x&16){if(y=A&65535,x&=15,g<x&&(p+=C[i++]<<g,g+=8,g<x&&(p+=C[i++]<<g,g+=8)),y+=p&(1<<x)-1,y>c){t.msg="invalid distance too far back",r.mode=To;break e}if(p>>>=x,g-=x,x=s-o,y>x){if(x=y-x,x>f&&r.sane){t.msg="invalid distance too far back",r.mode=To;break e}if(E=0,_=d,h===0){if(E+=u-x,x<k){k-=x;do P[s++]=d[E++];while(--x);E=s-y,_=P}}else if(h<x){if(E+=u+h-x,x-=h,x<k){k-=x;do P[s++]=d[E++];while(--x);if(E=0,h<k){x=h,k-=x;do P[s++]=d[E++];while(--x);E=s-y,_=P}}}else if(E+=h-x,x<k){k-=x;do P[s++]=d[E++];while(--x);E=s-y,_=P}for(;k>2;)P[s++]=_[E++],P[s++]=_[E++],P[s++]=_[E++],k-=3;k&&(P[s++]=_[E++],k>1&&(P[s++]=_[E++]))}else{E=s-y;do P[s++]=P[E++],P[s++]=P[E++],P[s++]=P[E++],k-=3;while(k>2);k&&(P[s++]=P[E++],k>1&&(P[s++]=P[E++]))}}else if(x&64){t.msg="invalid distance code",r.mode=To;break e}else{A=w[(A&65535)+(p&(1<<x)-1)];continue n}break}}else if(x&64)if(x&32){r.mode=dT;break e}else{t.msg="invalid literal/length code",r.mode=To;break e}else{A=m[(A&65535)+(p&(1<<x)-1)];continue t}break}}while(i<a&&s<l);k=g>>3,i-=k,g-=k<<3,p&=(1<<g)-1,t.next_in=i,t.next_out=s,t.avail_in=i<a?5+(a-i):5-(i-a),t.avail_out=s<l?257+(l-s):257-(s-l),r.hold=p,r.bits=g}});var Wg=R((JD,Vg)=>{"use strict";v();var $g=jn(),bi=15,Hg=852,Ug=592,Gg=0,nf=1,zg=2,pT=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],mT=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],gT=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],yT=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Vg.exports=function(t,n,r,i,a,s,o,l){var c=l.bits,u=0,f=0,h=0,d=0,p=0,g=0,m=0,w=0,b=0,S=0,A,x,k,y,E,_=null,C=0,P,L=new $g.Buf16(bi+1),N=new $g.Buf16(bi+1),j=null,Y=0,le,he,ae;for(u=0;u<=bi;u++)L[u]=0;for(f=0;f<i;f++)L[n[r+f]]++;for(p=c,d=bi;d>=1&&L[d]===0;d--);if(p>d&&(p=d),d===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<d&&L[h]===0;h++);for(p<h&&(p=h),w=1,u=1;u<=bi;u++)if(w<<=1,w-=L[u],w<0)return-1;if(w>0&&(t===Gg||d!==1))return-1;for(N[1]=0,u=1;u<bi;u++)N[u+1]=N[u]+L[u];for(f=0;f<i;f++)n[r+f]!==0&&(o[N[n[r+f]]++]=f);if(t===Gg?(_=j=o,P=19):t===nf?(_=pT,C-=257,j=mT,Y-=257,P=256):(_=gT,j=yT,P=-1),S=0,f=0,u=h,E=s,g=p,m=0,k=-1,b=1<<p,y=b-1,t===nf&&b>Hg||t===zg&&b>Ug)return 1;for(;;){le=u-m,o[f]<P?(he=0,ae=o[f]):o[f]>P?(he=j[Y+o[f]],ae=_[C+o[f]]):(he=96,ae=0),A=1<<u-m,x=1<<g,h=x;do x-=A,a[E+(S>>m)+x]=le<<24|he<<16|ae|0;while(x!==0);for(A=1<<u-1;S&A;)A>>=1;if(A!==0?(S&=A-1,S+=A):S=0,f++,--L[u]===0){if(u===d)break;u=n[r+o[f]]}if(u>p&&(S&y)!==k){for(m===0&&(m=p),E+=h,g=u-m,w=1<<g;g+m<d&&(w-=L[g+m],!(w<=0));)g++,w<<=1;if(b+=1<<g,t===nf&&b>Hg||t===zg&&b>Ug)return 1;k=S&y,a[k]=p<<24|g<<16|E-s|0}}return S!==0&&(a[E+S]=u-m<<24|64<<16|0),l.bits=p,0}});var T0=R(un=>{"use strict";v();var Ht=jn(),cf=zu(),An=Vu(),vT=Ng(),Wa=Wg(),wT=0,v0=1,w0=2,qg=4,bT=5,Co=6,Br=0,xT=1,_T=2,Qt=-2,b0=-3,uf=-4,ST=-5,Xg=8,x0=1,Yg=2,Zg=3,Kg=4,Jg=5,Qg=6,e0=7,t0=8,n0=9,r0=10,Mo=11,Nn=12,rf=13,i0=14,af=15,a0=16,s0=17,o0=18,l0=19,Fo=20,Po=21,c0=22,u0=23,f0=24,h0=25,d0=26,sf=27,p0=28,m0=29,Ne=30,ff=31,ET=32,AT=852,kT=592,TT=15,CT=TT;function g0(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function FT(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ht.Buf16(320),this.work=new Ht.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _0(e){var t;return!e||!e.state?Qt:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=x0,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ht.Buf32(AT),t.distcode=t.distdyn=new Ht.Buf32(kT),t.sane=1,t.back=-1,Br)}function S0(e){var t;return!e||!e.state?Qt:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,_0(e))}function E0(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Qt:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,S0(e))}function A0(e,t){var n,r;return e?(r=new FT,e.state=r,r.window=null,n=E0(e,t),n!==Br&&(e.state=null),n):Qt}function PT(e){return A0(e,CT)}var y0=!0,of,lf;function MT(e){if(y0){var t;for(of=new Ht.Buf32(512),lf=new Ht.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Wa(v0,e.lens,0,288,of,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Wa(w0,e.lens,0,32,lf,0,e.work,{bits:5}),y0=!1}e.lencode=of,e.lenbits=9,e.distcode=lf,e.distbits=5}function k0(e,t,n,r){var i,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Ht.Buf8(a.wsize)),r>=a.wsize?(Ht.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),Ht.arraySet(a.window,t,n-r,i,a.wnext),r-=i,r?(Ht.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function OT(e,t){var n,r,i,a,s,o,l,c,u,f,h,d,p,g,m=0,w,b,S,A,x,k,y,E,_=new Ht.Buf8(4),C,P,L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Qt;n=e.state,n.mode===Nn&&(n.mode=rf),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,f=o,h=l,E=Br;e:for(;;)switch(n.mode){case x0:if(n.wrap===0){n.mode=rf;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.check=0,_[0]=c&255,_[1]=c>>>8&255,n.check=An(n.check,_,2,0),c=0,u=0,n.mode=Yg;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ne;break}if((c&15)!==Xg){e.msg="unknown compression method",n.mode=Ne;break}if(c>>>=4,u-=4,y=(c&15)+8,n.wbits===0)n.wbits=y;else if(y>n.wbits){e.msg="invalid window size",n.mode=Ne;break}n.dmax=1<<y,e.adler=n.check=1,n.mode=c&512?r0:Nn,c=0,u=0;break;case Yg:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==Xg){e.msg="unknown compression method",n.mode=Ne;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ne;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(_[0]=c&255,_[1]=c>>>8&255,n.check=An(n.check,_,2,0)),c=0,u=0,n.mode=Zg;case Zg:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&(_[0]=c&255,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,n.check=An(n.check,_,4,0)),c=0,u=0,n.mode=Kg;case Kg:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(_[0]=c&255,_[1]=c>>>8&255,n.check=An(n.check,_,2,0)),c=0,u=0,n.mode=Jg;case Jg:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(_[0]=c&255,_[1]=c>>>8&255,n.check=An(n.check,_,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=Qg;case Qg:if(n.flags&1024&&(d=n.length,d>o&&(d=o),d&&(n.head&&(y=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Ht.arraySet(n.head.extra,r,a,d,y)),n.flags&512&&(n.check=An(n.check,r,d,a)),o-=d,a+=d,n.length-=d),n.length))break e;n.length=0,n.mode=e0;case e0:if(n.flags&2048){if(o===0)break e;d=0;do y=r[a+d++],n.head&&y&&n.length<65536&&(n.head.name+=String.fromCharCode(y));while(y&&d<o);if(n.flags&512&&(n.check=An(n.check,r,d,a)),o-=d,a+=d,y)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=t0;case t0:if(n.flags&4096){if(o===0)break e;d=0;do y=r[a+d++],n.head&&y&&n.length<65536&&(n.head.comment+=String.fromCharCode(y));while(y&&d<o);if(n.flags&512&&(n.check=An(n.check,r,d,a)),o-=d,a+=d,y)break e}else n.head&&(n.head.comment=null);n.mode=n0;case n0:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ne;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Nn;break;case r0:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}e.adler=n.check=g0(c),c=0,u=0,n.mode=Mo;case Mo:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=u,_T;e.adler=n.check=1,n.mode=Nn;case Nn:if(t===bT||t===Co)break e;case rf:if(n.last){c>>>=u&7,u-=u&7,n.mode=sf;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=i0;break;case 1:if(MT(n),n.mode=Fo,t===Co){c>>>=2,u-=2;break e}break;case 2:n.mode=s0;break;case 3:e.msg="invalid block type",n.mode=Ne}c>>>=2,u-=2;break;case i0:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ne;break}if(n.length=c&65535,c=0,u=0,n.mode=af,t===Co)break e;case af:n.mode=a0;case a0:if(d=n.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break e;Ht.arraySet(i,r,a,d,s),o-=d,a+=d,l-=d,s+=d,n.length-=d;break}n.mode=Nn;break;case s0:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ne;break}n.have=0,n.mode=o0;case o0:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[L[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},E=Wa(wT,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,E){e.msg="invalid code lengths set",n.mode=Ne;break}n.have=0,n.mode=l0;case l0:for(;n.have<n.nlen+n.ndist;){for(;m=n.lencode[c&(1<<n.lenbits)-1],w=m>>>24,b=m>>>16&255,S=m&65535,!(w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(S<16)c>>>=w,u-=w,n.lens[n.have++]=S;else{if(S===16){for(P=w+2;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=w,u-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=Ne;break}y=n.lens[n.have-1],d=3+(c&3),c>>>=2,u-=2}else if(S===17){for(P=w+3;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=w,u-=w,y=0,d=3+(c&7),c>>>=3,u-=3}else{for(P=w+7;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=w,u-=w,y=0,d=11+(c&127),c>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ne;break}for(;d--;)n.lens[n.have++]=y}}if(n.mode===Ne)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ne;break}if(n.lenbits=9,C={bits:n.lenbits},E=Wa(v0,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,E){e.msg="invalid literal/lengths set",n.mode=Ne;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},E=Wa(w0,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,E){e.msg="invalid distances set",n.mode=Ne;break}if(n.mode=Fo,t===Co)break e;case Fo:n.mode=Po;case Po:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=u,vT(e,h),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,n.mode===Nn&&(n.back=-1);break}for(n.back=0;m=n.lencode[c&(1<<n.lenbits)-1],w=m>>>24,b=m>>>16&255,S=m&65535,!(w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(b&&!(b&240)){for(A=w,x=b,k=S;m=n.lencode[k+((c&(1<<A+x)-1)>>A)],w=m>>>24,b=m>>>16&255,S=m&65535,!(A+w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=w,u-=w,n.back+=w,n.length=S,b===0){n.mode=d0;break}if(b&32){n.back=-1,n.mode=Nn;break}if(b&64){e.msg="invalid literal/length code",n.mode=Ne;break}n.extra=b&15,n.mode=c0;case c0:if(n.extra){for(P=n.extra;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=u0;case u0:for(;m=n.distcode[c&(1<<n.distbits)-1],w=m>>>24,b=m>>>16&255,S=m&65535,!(w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(!(b&240)){for(A=w,x=b,k=S;m=n.distcode[k+((c&(1<<A+x)-1)>>A)],w=m>>>24,b=m>>>16&255,S=m&65535,!(A+w<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=w,u-=w,n.back+=w,b&64){e.msg="invalid distance code",n.mode=Ne;break}n.offset=S,n.extra=b&15,n.mode=f0;case f0:if(n.extra){for(P=n.extra;u<P;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ne;break}n.mode=h0;case h0:if(l===0)break e;if(d=h-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ne;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),g=n.window}else g=i,p=s-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do i[s++]=g[p++];while(--d);n.length===0&&(n.mode=Po);break;case d0:if(l===0)break e;i[s++]=n.length,l--,n.mode=Po;break;case sf:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?An(n.check,i,h,s-h):cf(n.check,i,h,s-h)),h=l,(n.flags?c:g0(c))!==n.check){e.msg="incorrect data check",n.mode=Ne;break}c=0,u=0}n.mode=p0;case p0:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ne;break}c=0,u=0}n.mode=m0;case m0:E=xT;break e;case Ne:E=b0;break e;case ff:return uf;case ET:default:return Qt}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Ne&&(n.mode<sf||t!==qg))&&k0(e,e.output,e.next_out,h-e.avail_out)?(n.mode=ff,uf):(f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?An(n.check,i,h,e.next_out-h):cf(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Nn?128:0)+(n.mode===Fo||n.mode===af?256:0),(f===0&&h===0||t===qg)&&E===Br&&(E=ST),E)}function IT(e){if(!e||!e.state)return Qt;var t=e.state;return t.window&&(t.window=null),e.state=null,Br}function RT(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?Qt:(n.head=t,t.done=!1,Br)}function LT(e,t){var n=t.length,r,i,a;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==Mo)?Qt:r.mode===Mo&&(i=1,i=cf(i,t,n,0),i!==r.check)?b0:(a=k0(e,t,n,n),a?(r.mode=ff,uf):(r.havedict=1,Br))}un.inflateReset=S0;un.inflateReset2=E0;un.inflateResetKeep=_0;un.inflateInit=PT;un.inflateInit2=A0;un.inflate=OT;un.inflateEnd=IT;un.inflateGetHeader=RT;un.inflateSetDictionary=LT;un.inflateInfo="pako inflate (from Nodeca project)"});var hf=R((n7,C0)=>{"use strict";v();C0.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var P0=R((i7,F0)=>{"use strict";v();function jT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}F0.exports=jT});var O0=R(Xa=>{"use strict";v();var xi=T0(),qa=jn(),Oo=Zu(),Je=hf(),df=wo(),DT=Ku(),BT=P0(),M0=Object.prototype.toString;function Nr(e){if(!(this instanceof Nr))return new Nr(e);this.options=qa.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new DT,this.strm.avail_out=0;var n=xi.inflateInit2(this.strm,t.windowBits);if(n!==Je.Z_OK)throw new Error(df[n]);if(this.header=new BT,xi.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Oo.string2buf(t.dictionary):M0.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=xi.inflateSetDictionary(this.strm,t.dictionary),n!==Je.Z_OK)))throw new Error(df[n])}Nr.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,a,s,o,l,c,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Je.Z_FINISH:Je.Z_NO_FLUSH,typeof e=="string"?n.input=Oo.binstring2buf(e):M0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new qa.Buf8(r),n.next_out=0,n.avail_out=r),a=xi.inflate(n,Je.Z_NO_FLUSH),a===Je.Z_NEED_DICT&&i&&(a=xi.inflateSetDictionary(this.strm,i)),a===Je.Z_BUF_ERROR&&u===!0&&(a=Je.Z_OK,u=!1),a!==Je.Z_STREAM_END&&a!==Je.Z_OK)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out===0||a===Je.Z_STREAM_END||n.avail_in===0&&(s===Je.Z_FINISH||s===Je.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=Oo.utf8border(n.output,n.next_out),l=n.next_out-o,c=Oo.buf2string(n.output,o),n.next_out=l,n.avail_out=r-l,l&&qa.arraySet(n.output,n.output,o,l,0),this.onData(c)):this.onData(qa.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==Je.Z_STREAM_END);return a===Je.Z_STREAM_END&&(s=Je.Z_FINISH),s===Je.Z_FINISH?(a=xi.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Je.Z_OK):(s===Je.Z_SYNC_FLUSH&&(this.onEnd(Je.Z_OK),n.avail_out=0),!0)};Nr.prototype.onData=function(e){this.chunks.push(e)};Nr.prototype.onEnd=function(e){e===Je.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qa.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function pf(e,t){var n=new Nr(t);if(n.push(e,!0),n.err)throw n.msg||df[n.err];return n.result}function NT(e,t){return t=t||{},t.raw=!0,pf(e,t)}Xa.Inflate=Nr;Xa.inflate=pf;Xa.inflateRaw=NT;Xa.ungzip=pf});var L0=R((l7,R0)=>{"use strict";v();var $T=jn().assign,HT=Dg(),UT=O0(),GT=hf(),I0={};$T(I0,HT,UT,GT);R0.exports=I0});var B0=R((u7,D0)=>{"use strict";v();var j0=(e,t)=>function(...n){let r=t.promiseModule;return new r((i,a)=>{t.multiArgs?n.push((...s)=>{t.errorFirst?s[0]?a(s):(s.shift(),i(s)):i(s)}):t.errorFirst?n.push((s,o)=>{s?a(s):i(o)}):n.push(i),e.apply(this,n)})};D0.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);let n=typeof e;if(!(e!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":n}\``);let r=a=>{let s=o=>typeof o=="string"?a===o:o.test(a);return t.include?t.include.some(s):!t.exclude.some(s)},i;n==="function"?i=function(...a){return t.excludeMain?e(...a):j0(e,t).apply(this,a)}:i=Object.create(Object.getPrototypeOf(e));for(let a in e){let s=e[a];i[a]=typeof s=="function"&&r(a)?j0(s,t):s}return i}});var q0=R((h7,W0)=>{v();function N0(e){return Array.isArray(e)?e:[e]}var yf="",$0=" ",mf="\\",zT=/^\s+$/,VT=/(?:[^\\]|^)\\$/,WT=/^\\!/,qT=/^\\#/,XT=/\r?\n/g,YT=/^\.*\/|^\.+$/,gf="/",G0="node-ignore";typeof Symbol!="undefined"&&(G0=Symbol.for("node-ignore"));var H0=G0,ZT=(e,t,n)=>Object.defineProperty(e,t,{value:n}),KT=/([0-z])-([0-z])/g,z0=()=>!1,JT=e=>e.replace(KT,(t,n,r)=>n.charCodeAt(0)<=r.charCodeAt(0)?t:yf),QT=e=>{let{length:t}=e;return e.slice(0,t-t%2)},e5=[[/^\uFEFF/,()=>yf],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,n)=>t+(n.indexOf("\\")===0?$0:yf)],[/(\\+?)\s/g,(e,t)=>{let{length:n}=t;return t.slice(0,n-n%2)+$0}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,n)=>t+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,n)=>{let r=n.replace(/\\\*/g,"[^\\/]*");return t+r}],[/\\\\\\(?=[$.|*+(){^])/g,()=>mf],[/\\\\/g,()=>mf],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,n,r,i)=>t===mf?`\\[${n}${QT(r)}${i}`:i==="]"&&r.length%2===0?`[${JT(n)}${r}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],U0=Object.create(null),t5=(e,t)=>{let n=U0[e];return n||(n=e5.reduce((r,[i,a])=>r.replace(i,a.bind(e)),e),U0[e]=n),t?new RegExp(n,"i"):new RegExp(n)},bf=e=>typeof e=="string",n5=e=>e&&bf(e)&&!zT.test(e)&&!VT.test(e)&&e.indexOf("#")!==0,r5=e=>e.split(XT),vf=class{constructor(t,n,r,i){this.origin=t,this.pattern=n,this.negative=r,this.regex=i}},i5=(e,t)=>{let n=e,r=!1;e.indexOf("!")===0&&(r=!0,e=e.substr(1)),e=e.replace(WT,"!").replace(qT,"#");let i=t5(e,t);return new vf(n,e,r,i)},a5=(e,t)=>{throw new t(e)},$n=(e,t,n)=>bf(e)?e?$n.isNotRelative(e)?n(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:n("path must not be empty",TypeError):n(`path must be a string, but got \`${t}\``,TypeError),V0=e=>YT.test(e);$n.isNotRelative=V0;$n.convert=e=>e;var wf=class{constructor({ignorecase:t=!0,ignoreCase:n=t,allowRelativePaths:r=!1}={}){ZT(this,H0,!0),this._rules=[],this._ignoreCase=n,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[H0]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(n5(t)){let n=i5(t,this._ignoreCase);this._added=!0,this._rules.push(n)}}add(t){return this._added=!1,N0(bf(t)?r5(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,n){let r=!1,i=!1;return this._rules.forEach(a=>{let{negative:s}=a;if(i===s&&r!==i||s&&!r&&!i&&!n)return;a.regex.test(t)&&(r=!s,i=s)}),{ignored:r,unignored:i}}_test(t,n,r,i){let a=t&&$n.convert(t);return $n(a,t,this._allowRelativePaths?z0:a5),this._t(a,n,r,i)}_t(t,n,r,i){if(t in n)return n[t];if(i||(i=t.split(gf)),i.pop(),!i.length)return n[t]=this._testOne(t,r);let a=this._t(i.join(gf)+gf,n,r,i);return n[t]=a.ignored?a:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return N0(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Io=e=>new wf(e),s5=e=>$n(e&&$n.convert(e),e,z0);Io.isPathValid=s5;Io.default=Io;W0.exports=Io;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=n=>/^\\\\\?\\/.test(n)||/["<>|\u0000-\u001F]+/u.test(n)?n:n.replace(/\\/g,"/");$n.convert=e;let t=/^[a-z]:\//i;$n.isNotRelative=n=>t.test(n)||V0(n)}});var Y0=R((p7,X0)=>{"use strict";v();function o5(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kn(e,t,n){return t=t instanceof RegExp?t:new RegExp(o5(t),"g"),e.replace(t,n)}var l5={clean:function(t){if(typeof t!="string")throw new Error("Expected a string, received: "+t);return t=kn(t,"./","/"),t=kn(t,"..","."),t=kn(t," ","-"),t=kn(t,/^[~^:?*\\\-]/g,""),t=kn(t,/[~^:?*\\]/g,"-"),t=kn(t,/[~^:?*\\\-]$/g,""),t=kn(t,"@{","-"),t=kn(t,/\.$/g,""),t=kn(t,/\/$/g,""),t=kn(t,/\.lock$/g,""),t}};X0.exports=l5});var K0=R((g7,Z0)=>{v();Z0.exports=function(e,t){var n=e,r=t,i=n.length,a=r.length,s=!1,o=null,l=i+1,c=[],u=[],f=[],h="",d=-1,p=0,g=1,m,w,b=function(){i>=a&&(m=n,w=i,n=r,r=m,i=a,a=w,s=!0,l=i+1)},S=function(y,E,_){return{x:y,y:E,k:_}},A=function(y,E){return{elem:y,t:E}},x=function(y,E,_){var C,P,L;for(E>_?C=c[y-1+l]:C=c[y+1+l],L=Math.max(E,_),P=L-y;P<i&&L<a&&n[P]===r[L];)++P,++L;return c[y+l]=u.length,u[u.length]=new S(P,L,C),L},k=function(y){var E,_,C,P,L;for(E=_=1,C=P=0,L=y.length-1;L>=0;--L)for(;C<y[L].x||P<y[L].y;)y[L].y-y[L].x>P-C?(s?f[f.length]=new A(r[P],d):f[f.length]=new A(r[P],g),++_,++P):y[L].y-y[L].x<P-C?(s?f[f.length]=new A(n[C],g):f[f.length]=new A(n[C],d),++E,++C):(f[f.length]=new A(n[C],p),h+=n[C],++E,++_,++C,++P)};return b(),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return o},getlcs:function(){return h},getses:function(){return f},compose:function(){var y,E,_,C,P,L,N,j;for(y=a-i,E=i+a+3,_={},N=0;N<E;++N)_[N]=-1,c[N]=-1;C=-1;do{for(++C,j=-C;j<=y-1;++j)_[j+l]=x(j,_[j-1+l]+1,_[j+1+l]);for(j=y+C;j>=y+1;--j)_[j+l]=x(j,_[j-1+l]+1,_[j+1+l]);_[y+l]=x(y,_[y-1+l]+1,_[y+1+l])}while(_[y+l]!==a);for(o=y+2*C,P=c[y+l],L=[];P!==-1;)L[L.length]=new S(u[P].x,u[P].y,null),P=u[P].k;k(L)}}}});var e1=R((v7,Q0)=>{v();var c5=K0();function u5(e,t){var n=new c5(e,t);n.compose();for(var r=n.getses(),i,a,s=e.length-1,o=t.length-1,l=r.length-1;l>=0;--l)r[l].t===n.SES_COMMON?(a?(a.chain={file1index:s,file2index:o,chain:null},a=a.chain):(i={file1index:s,file2index:o,chain:null},a=i),s--,o--):r[l].t===n.SES_DELETE?s--:r[l].t===n.SES_ADD&&o--;var c={file1index:-1,file2index:-1,chain:null};return a?(a.chain=c,i):c}function J0(e,t){for(var n=[],r=e.length,i=t.length,a=u5(e,t);a!==null;a=a.chain){var s=r-a.file1index-1,o=i-a.file2index-1;r=a.file1index,i=a.file2index,(s||o)&&n.push({file1:[r+1,s],file2:[i+1,o]})}return n.reverse(),n}function f5(e,t,n){var r,i=J0(t,e),a=J0(t,n),s=[];function o(N,j){s.push([N.file1[0],j,N.file1[1],N.file2[0],N.file2[1]])}for(r=0;r<i.length;r++)o(i[r],0);for(r=0;r<a.length;r++)o(a[r],2);s.sort(function(N,j){return N[0]-j[0]});var l=[],c=0;function u(N){N>c&&(l.push([1,c,N-c]),c=N)}for(var f=0;f<s.length;f++){for(var h=f,d=s[f],p=d[0],g=p+d[2];f<s.length-1;){var m=s[f+1],w=m[0];if(w>g)break;g=Math.max(g,w+m[2]),f++}if(u(p),h==f)d[4]>0&&l.push([d[1],d[3],d[4]]);else{var b={0:[e.length,-1,t.length,-1],2:[n.length,-1,t.length,-1]};for(r=h;r<=f;r++){d=s[r];var S=d[1],A=b[S],x=d[0],k=x+d[2],y=d[3],E=y+d[4];A[0]=Math.min(y,A[0]),A[1]=Math.max(E,A[1]),A[2]=Math.min(x,A[2]),A[3]=Math.max(k,A[3])}var _=b[0][0]+(p-b[0][2]),C=b[0][1]+(g-b[0][3]),P=b[2][0]+(p-b[2][2]),L=b[2][1]+(g-b[2][3]);l.push([-1,_,C-_,p,g-p,P,L-P])}c=g}return u(t.length),l}function h5(e,t,n){var r=[],i=[e,t,n],a=f5(e,t,n),s=[];function o(){s.length&&r.push({ok:s}),s=[]}function l(d){for(var p=0;p<d.length;p++)s.push(d[p])}function c(d){if(d[2]!=d[6])return!0;for(var p=d[1],g=d[5],m=0;m<d[2];m++)if(e[m+p]!=n[m+g])return!0;return!1}for(var u=0;u<a.length;u++){var f=a[u],h=f[0];h==-1?c(f)?(o(),r.push({conflict:{a:e.slice(f[1],f[1]+f[2]),aIndex:f[1],o:t.slice(f[3],f[3]+f[4]),oIndex:f[3],b:n.slice(f[5],f[5]+f[6]),bIndex:f[5]}})):l(i[0].slice(f[1],f[1]+f[2])):l(i[h].slice(f[1],f[1]+f[2]))}return o(),r}Q0.exports=h5});var iy=R((A7,ry)=>{v();var Ni=1e3,$i=Ni*60,Hi=$i*60,Wr=Hi*24,m6=Wr*7,g6=Wr*365.25;ry.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return y6(e);if(n==="number"&&isFinite(e))return t.long?w6(e):v6(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function y6(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*g6;case"weeks":case"week":case"w":return n*m6;case"days":case"day":case"d":return n*Wr;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Hi;case"minutes":case"minute":case"mins":case"min":case"m":return n*$i;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ni;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function v6(e){var t=Math.abs(e);return t>=Wr?Math.round(e/Wr)+"d":t>=Hi?Math.round(e/Hi)+"h":t>=$i?Math.round(e/$i)+"m":t>=Ni?Math.round(e/Ni)+"s":e+"ms"}function w6(e){var t=Math.abs(e);return t>=Wr?el(e,t,Wr,"day"):t>=Hi?el(e,t,Hi,"hour"):t>=$i?el(e,t,$i,"minute"):t>=Ni?el(e,t,Ni,"second"):e+" ms"}function el(e,t,n,r){var i=t>=n*1.5;return Math.round(e/n)+" "+r+(i?"s":"")}});var sy=R((T7,ay)=>{v();function b6(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=i,n.enabled=s,n.humanize=iy(),n.destroy=c,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let f=0;for(let h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(u){let f,h=null,d,p;function g(...m){if(!g.enabled)return;let w=g,b=Number(new Date),S=b-(f||b);w.diff=S,w.prev=f,w.curr=b,f=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let A=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(k,y)=>{if(k==="%%")return"%";A++;let E=n.formatters[y];if(typeof E=="function"){let _=m[A];k=E.call(w,_),m.splice(A,1),A--}return k}),n.formatArgs.call(w,m),(w.log||n.log).apply(w,m)}return g.namespace=u,g.useColors=n.useColors(),g.color=n.selectColor(u),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==n.namespaces&&(d=n.namespaces,p=n.enabled(u)),p),set:m=>{h=m}}),typeof n.init=="function"&&n.init(g),g}function r(u,f){let h=n(this.namespace+(typeof f=="undefined"?":":f)+u);return h.log=this.log,h}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f,h=(typeof u=="string"?u:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)h[f]&&(u=h[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function a(){let u=[...n.names.map(o),...n.skips.map(o).map(f=>"-"+f)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,h;for(f=0,h=n.skips.length;f<h;f++)if(n.skips[f].test(u))return!1;for(f=0,h=n.names.length;f<h;f++)if(n.names[f].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}ay.exports=b6});var nl=R((zt,tl)=>{v();zt.formatArgs=_6;zt.save=S6;zt.load=E6;zt.useColors=x6;zt.storage=A6();zt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();zt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function x6(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function _6(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+tl.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),e.splice(r,0,t)}zt.log=console.debug||console.log||(()=>{});function S6(e){try{e?zt.storage.setItem("debug",e):zt.storage.removeItem("debug")}catch(t){}}function E6(){let e;try{e=zt.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function A6(){try{return localStorage}catch(e){}}tl.exports=sy()(zt);var{formatters:k6}=tl.exports;k6.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var oy=R(Vt=>{"use strict";v();var T6=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vt,"__esModule",{value:!0});var C6=require("fs"),F6=T6(nl()),Ui=F6.default("@kwsites/file-exists");function P6(e,t,n){Ui("checking %s",e);try{let r=C6.statSync(e);return r.isFile()&&t?(Ui("[OK] path represents a file"),!0):r.isDirectory()&&n?(Ui("[OK] path represents a directory"),!0):(Ui("[FAIL] path represents something other than a file or directory"),!1)}catch(r){if(r.code==="ENOENT")return Ui("[FAIL] path is not accessible: %o",r),!1;throw Ui("[FATAL] %o",r),r}}function M6(e,t=Vt.READABLE){return P6(e,(t&Vt.FILE)>0,(t&Vt.FOLDER)>0)}Vt.exists=M6;Vt.FILE=1;Vt.FOLDER=2;Vt.READABLE=Vt.FILE+Vt.FOLDER});var ly=R(rl=>{"use strict";v();function O6(e){for(var t in e)rl.hasOwnProperty(t)||(rl[t]=e[t])}Object.defineProperty(rl,"__esModule",{value:!0});O6(oy())});var Zf=R(qr=>{"use strict";v();Object.defineProperty(qr,"__esModule",{value:!0});qr.createDeferred=qr.deferred=void 0;function Yf(){let e,t,n="pending";return{promise:new Promise((i,a)=>{e=i,t=a}),done(i){n==="pending"&&(n="resolved",e(i))},fail(i){n==="pending"&&(n="rejected",t(i))},get fulfilled(){return n!=="pending"},get status(){return n}}}qr.deferred=Yf;qr.createDeferred=Yf;qr.default=Yf});var Zw=R((w9,Yw)=>{"use strict";v();Yw.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Jw=R((x9,Kw)=>{v();var Uh={px:{px:1,cm:37.79527559055118,mm:3.7795275590551185,in:96,pt:1.3333333333333333,pc:16},cm:{px:.026458333333333334,cm:1,mm:.1,in:2.54,pt:.035277777777777776,pc:.42333333333333334},mm:{px:.26458333333333334,cm:10,mm:1,in:25.4,pt:.35277777777777775,pc:4.233333333333333},in:{px:.010416666666666666,cm:.39370078740157477,mm:.03937007874015748,in:1,pt:.013888888888888888,pc:.16666666666666666},pt:{px:.75,cm:28.346456692913385,mm:2.834645669291339,in:72,pt:1,pc:12},pc:{px:.0625,cm:2.3622047244094486,mm:.2362204724409449,in:6,pt:.08333333333333333,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:1.1111111111111112,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:.002777777777777778,grad:.0025,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:.39370078740157477,dppx:.010416666666666666},dpcm:{dpi:2.54,dpcm:1,dppx:.026458333333333334},dppx:{dpi:96,dpcm:37.79527559055118,dppx:1}};Kw.exports=function(e,t,n,r){if(!Uh.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!Uh[n].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+n);var i=Uh[n][t]*e;return r!==!1?(r=Math.pow(10,parseInt(r)||5),Math.round(i*r)/r):i}});var h2=R(Vn=>{"use strict";v();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.fromRgba=Yi;Vn.fromRgb=Gh;Vn.fromHsla=Cl;Vn.fromHsl=u2;Vn.fromString=f2;Vn.default=void 0;var Qw=n2(Zw()),zP=n2(Jw());function n2(e){return e&&e.__esModule?e:{default:e}}function VP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WP(e,t,n){return t&&e2(e.prototype,t),n&&e2(e,n),e}function Ft(e,t){return ZP(e)||YP(e,t)||XP(e,t)||qP()}function qP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(e,t){if(e){if(typeof e=="string")return t2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YP(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function ZP(e){if(Array.isArray(e))return e}var r2=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/,i2=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/,a2=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,s2=/^rgba?\(\s*(\d+)\s+(\d+)\s+(\d+)(?:\s*\/\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,o2=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,l2=/^rgba?\(\s*(\d+%)\s+(\d+%)\s+(\d+%)(?:\s*\/\s*(0|1|0?\.\d+|\d+%))?\s*\)$/,c2=/^hsla?\(\s*(\d+)(deg|rad|grad|turn)?\s*,\s*(\d+)%\s*,\s*(\d+)%(?:\s*,\s*(0|1|0?\.\d+|\d+%))?\s*\)$/;function Ps(e,t){return e.indexOf(t)>-1}function KP(e,t,n){var r=e/255,i=t/255,a=n/255,s=Math.max(r,i,a),o=Math.min(r,i,a),l=s-o,c=(s+o)/2;if(l===0)return[0,0,c*100];var u=l/(1-Math.abs(2*c-1)),f=function(){switch(s){case r:return(i-a)/l%6;case i:return(a-r)/l+2;default:return(r-i)/l+4}}();return[f*60,u*100,c*100]}function JP(e,t,n){var r=e/60,i=t/100,a=n/100,s=(1-Math.abs(2*a-1))*i,o=s*(1-Math.abs(r%2-1)),l=a-s/2,c=function(){return r<1?[s,o,0]:r<2?[o,s,0]:r<3?[0,s,o]:r<4?[0,o,s]:r<5?[o,0,s]:[s,0,o]}(),u=Ft(c,3),f=u[0],h=u[1],d=u[2];return[(f+l)*255,(h+l)*255,(d+l)*255]}var QP=function(){function e(t){var n=Ft(t,4),r=n[0],i=n[1],a=n[2],s=n[3];VP(this,e),this.values=[Math.max(Math.min(parseInt(r,10),255),0),Math.max(Math.min(parseInt(i,10),255),0),Math.max(Math.min(parseInt(a,10),255),0),s==null?1:Math.max(Math.min(parseFloat(s),255),0)]}return WP(e,[{key:"toRgbString",value:function(){var n=Ft(this.values,4),r=n[0],i=n[1],a=n[2],s=n[3];return s===1?"rgb(".concat(r,", ").concat(i,", ").concat(a,")"):"rgba(".concat(r,", ").concat(i,", ").concat(a,", ").concat(s,")")}},{key:"toHslString",value:function(){var n=this.toHslaArray(),r=Ft(n,4),i=r[0],a=r[1],s=r[2],o=r[3];return o===1?"hsl(".concat(i,", ").concat(a,"%, ").concat(s,"%)"):"hsla(".concat(i,", ").concat(a,"%, ").concat(s,"%, ").concat(o,")")}},{key:"toHexString",value:function(){var n=Ft(this.values,4),r=n[0],i=n[1],a=n[2],s=n[3];return r=Number(r).toString(16).padStart(2,"0"),i=Number(i).toString(16).padStart(2,"0"),a=Number(a).toString(16).padStart(2,"0"),s=s<1?parseInt(s*255,10).toString(16).padStart(2,"0"):"","#".concat(r).concat(i).concat(a).concat(s)}},{key:"toRgbaArray",value:function(){return this.values}},{key:"toHslaArray",value:function(){var n=Ft(this.values,4),r=n[0],i=n[1],a=n[2],s=n[3],o=KP(r,i,a),l=Ft(o,3),c=l[0],u=l[1],f=l[2];return[c,u,f,s]}}]),e}();function Yi(e){var t=Ft(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return new QP([n,r,i,a])}function Gh(e){var t=Ft(e,3),n=t[0],r=t[1],i=t[2];return Yi([n,r,i,1])}function Cl(e){var t=Ft(e,4),n=t[0],r=t[1],i=t[2],a=t[3],s=JP(n,r,i),o=Ft(s,3),l=o[0],c=o[1],u=o[2];return Yi([l,c,u,a])}function u2(e){var t=Ft(e,3),n=t[0],r=t[1],i=t[2];return Cl([n,r,i,1])}function eM(e){var t=r2.exec(e)||i2.exec(e),n=Ft(t,5),r=n[1],i=n[2],a=n[3],s=n[4];return r=parseInt(r.length<2?r.repeat(2):r,16),i=parseInt(i.length<2?i.repeat(2):i,16),a=parseInt(a.length<2?a.repeat(2):a,16),s=s&&(parseInt(s.length<2?s.repeat(2):s,16)/255).toPrecision(1)||1,Yi([r,i,a,s])}function tM(e){var t=a2.exec(e)||o2.exec(e)||s2.exec(e)||l2.exec(e),n=Ft(t,5),r=n[1],i=n[2],a=n[3],s=n[4];return r=Ps(r,"%")?parseInt(r,10)*255/100:parseInt(r,10),i=Ps(i,"%")?parseInt(i,10)*255/100:parseInt(i,10),a=Ps(a,"%")>0?parseInt(a,10)*255/100:parseInt(a,10),s=s===void 0?1:parseFloat(s)/(Ps(s,"%")?100:1),Yi([r,i,a,s])}function nM(e){var t=c2.exec(e),n=Ft(t,6),r=n[1],i=n[2],a=n[3],s=n[4],o=n[5];return i=i||"deg",r=(0,zP.default)(parseFloat(r),i,"deg"),a=parseFloat(a),s=parseFloat(s),o=o===void 0?1:parseFloat(o)/(Ps(o,"%")?100:1),Cl([r,a,s,o])}function f2(e){return Qw.default[e]?Gh(Qw.default[e]):r2.test(e)||i2.test(e)?eM(e):a2.test(e)||o2.test(e)||s2.test(e)||l2.test(e)?tM(e):c2.test(e)?nM(e):null}var rM={fromString:f2,fromRgb:Gh,fromRgba:Yi,fromHsl:u2,fromHsla:Cl};Vn.default=rM});var zh=R((A9,p2)=>{"use strict";v();var d2=Object.prototype.toString;p2.exports=function(t){var n=d2.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&d2.call(t.callee)==="[object Function]"),r}});var S2=R((T9,_2)=>{"use strict";v();var x2;Object.keys||(Ms=Object.prototype.hasOwnProperty,Vh=Object.prototype.toString,m2=zh(),Wh=Object.prototype.propertyIsEnumerable,g2=!Wh.call({toString:null},"toString"),y2=Wh.call(function(){},"prototype"),Os=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Fl=function(e){var t=e.constructor;return t&&t.prototype===e},v2={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},w2=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!v2["$"+e]&&Ms.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{Fl(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),b2=function(e){if(typeof window=="undefined"||!w2)return Fl(e);try{return Fl(e)}catch(t){return!1}},x2=function(t){var n=t!==null&&typeof t=="object",r=Vh.call(t)==="[object Function]",i=m2(t),a=n&&Vh.call(t)==="[object String]",s=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var o=y2&&r;if(a&&t.length>0&&!Ms.call(t,0))for(var l=0;l<t.length;++l)s.push(String(l));if(i&&t.length>0)for(var c=0;c<t.length;++c)s.push(String(c));else for(var u in t)!(o&&u==="prototype")&&Ms.call(t,u)&&s.push(String(u));if(g2)for(var f=b2(t),h=0;h<Os.length;++h)!(f&&Os[h]==="constructor")&&Ms.call(t,Os[h])&&s.push(Os[h]);return s});var Ms,Vh,m2,Wh,g2,y2,Os,Fl,v2,w2,b2;_2.exports=x2});var Ml=R((F9,k2)=>{"use strict";v();var iM=Array.prototype.slice,aM=zh(),E2=Object.keys,Pl=E2?function(t){return E2(t)}:S2(),A2=Object.keys;Pl.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return aM(r)?A2(iM.call(r)):A2(r)})}else Object.keys=Pl;return Object.keys||Pl};k2.exports=Pl});var C2=R((M9,T2)=>{"use strict";v();T2.exports=Error});var P2=R((I9,F2)=>{"use strict";v();F2.exports=EvalError});var O2=R((L9,M2)=>{"use strict";v();M2.exports=RangeError});var R2=R((D9,I2)=>{"use strict";v();I2.exports=ReferenceError});var qh=R((N9,L2)=>{"use strict";v();L2.exports=SyntaxError});var Wn=R((H9,j2)=>{"use strict";v();j2.exports=TypeError});var B2=R((G9,D2)=>{"use strict";v();D2.exports=URIError});var Is=R((V9,N2)=>{"use strict";v();N2.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var Ol=R((q9,H2)=>{"use strict";v();var $2=typeof Symbol!="undefined"&&Symbol,sM=Is();H2.exports=function(){return typeof $2!="function"||typeof Symbol!="function"||typeof $2("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:sM()}});var G2=R((Y9,U2)=>{"use strict";v();var Xh={__proto__:null,foo:{}},oM=Object;U2.exports=function(){return{__proto__:Xh}.foo===Xh.foo&&!(Xh instanceof oM)}});var W2=R((K9,V2)=>{"use strict";v();var lM="Function.prototype.bind called on incompatible ",cM=Object.prototype.toString,uM=Math.max,fM="[object Function]",z2=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var a=0;a<n.length;a+=1)r[a+t.length]=n[a];return r},hM=function(t,n){for(var r=[],i=n||0,a=0;i<t.length;i+=1,a+=1)r[a]=t[i];return r},dM=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};V2.exports=function(t){var n=this;if(typeof n!="function"||cM.apply(n)!==fM)throw new TypeError(lM+n);for(var r=hM(arguments,1),i,a=function(){if(this instanceof i){var u=n.apply(this,z2(r,arguments));return Object(u)===u?u:this}return n.apply(t,z2(r,arguments))},s=uM(0,n.length-r.length),o=[],l=0;l<s;l++)o[l]="$"+l;if(i=Function("binder","return function ("+dM(o,",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i}});var Il=R((Q9,q2)=>{"use strict";v();var pM=W2();q2.exports=Function.prototype.bind||pM});var Yh=R((tB,X2)=>{"use strict";v();var mM=Function.prototype.call,gM=Object.prototype.hasOwnProperty,yM=Il();X2.exports=yM.call(mM,gM)});var pn=R((rB,Q2)=>{"use strict";v();var pe,vM=C2(),wM=P2(),bM=O2(),xM=R2(),Qi=qh(),Ji=Wn(),_M=B2(),J2=Function,Zh=function(e){try{return J2('"use strict"; return ('+e+").constructor;")()}catch(t){}},Kr=Object.getOwnPropertyDescriptor;if(Kr)try{Kr({},"")}catch(e){Kr=null}var Kh=function(){throw new Ji},SM=Kr?function(){try{return arguments.callee,Kh}catch(e){try{return Kr(arguments,"callee").get}catch(t){return Kh}}}():Kh,Zi=Ol()(),EM=G2()(),ht=Object.getPrototypeOf||(EM?function(e){return e.__proto__}:null),Ki={},AM=typeof Uint8Array=="undefined"||!ht?pe:ht(Uint8Array),Jr={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?pe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?pe:ArrayBuffer,"%ArrayIteratorPrototype%":Zi&&ht?ht([][Symbol.iterator]()):pe,"%AsyncFromSyncIteratorPrototype%":pe,"%AsyncFunction%":Ki,"%AsyncGenerator%":Ki,"%AsyncGeneratorFunction%":Ki,"%AsyncIteratorPrototype%":Ki,"%Atomics%":typeof Atomics=="undefined"?pe:Atomics,"%BigInt%":typeof BigInt=="undefined"?pe:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?pe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?pe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?pe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":vM,"%eval%":eval,"%EvalError%":wM,"%Float32Array%":typeof Float32Array=="undefined"?pe:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?pe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?pe:FinalizationRegistry,"%Function%":J2,"%GeneratorFunction%":Ki,"%Int8Array%":typeof Int8Array=="undefined"?pe:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?pe:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?pe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zi&&ht?ht(ht([][Symbol.iterator]())):pe,"%JSON%":typeof JSON=="object"?JSON:pe,"%Map%":typeof Map=="undefined"?pe:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Zi||!ht?pe:ht(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?pe:Promise,"%Proxy%":typeof Proxy=="undefined"?pe:Proxy,"%RangeError%":bM,"%ReferenceError%":xM,"%Reflect%":typeof Reflect=="undefined"?pe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?pe:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Zi||!ht?pe:ht(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?pe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zi&&ht?ht(""[Symbol.iterator]()):pe,"%Symbol%":Zi?Symbol:pe,"%SyntaxError%":Qi,"%ThrowTypeError%":SM,"%TypedArray%":AM,"%TypeError%":Ji,"%Uint8Array%":typeof Uint8Array=="undefined"?pe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?pe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?pe:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?pe:Uint32Array,"%URIError%":_M,"%WeakMap%":typeof WeakMap=="undefined"?pe:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?pe:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?pe:WeakSet};if(ht)try{null.error}catch(e){Y2=ht(ht(e)),Jr["%Error.prototype%"]=Y2}var Y2,kM=function e(t){var n;if(t==="%AsyncFunction%")n=Zh("async function () {}");else if(t==="%GeneratorFunction%")n=Zh("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Zh("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&ht&&(n=ht(i.prototype))}return Jr[t]=n,n},Z2={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Rs=Il(),Rl=Yh(),TM=Rs.call(Function.call,Array.prototype.concat),CM=Rs.call(Function.apply,Array.prototype.splice),K2=Rs.call(Function.call,String.prototype.replace),Ll=Rs.call(Function.call,String.prototype.slice),FM=Rs.call(Function.call,RegExp.prototype.exec),PM=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,MM=/\\(\\)?/g,OM=function(t){var n=Ll(t,0,1),r=Ll(t,-1);if(n==="%"&&r!=="%")throw new Qi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Qi("invalid intrinsic syntax, expected opening `%`");var i=[];return K2(t,PM,function(a,s,o,l){i[i.length]=o?K2(l,MM,"$1"):s||a}),i},IM=function(t,n){var r=t,i;if(Rl(Z2,r)&&(i=Z2[r],r="%"+i[0]+"%"),Rl(Jr,r)){var a=Jr[r];if(a===Ki&&(a=kM(r)),typeof a=="undefined"&&!n)throw new Ji("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:a}}throw new Qi("intrinsic "+t+" does not exist!")};Q2.exports=function(t,n){if(typeof t!="string"||t.length===0)throw new Ji("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Ji('"allowMissing" argument must be a boolean');if(FM(/^%?[^%]*%?$/,t)===null)throw new Qi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=OM(t),i=r.length>0?r[0]:"",a=IM("%"+i+"%",n),s=a.name,o=a.value,l=!1,c=a.alias;c&&(i=c[0],CM(r,TM([0,1],c)));for(var u=1,f=!0;u<r.length;u+=1){var h=r[u],d=Ll(h,0,1),p=Ll(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Qi("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",Rl(Jr,s))o=Jr[s];else if(o!=null){if(!(h in o)){if(!n)throw new Ji("base intrinsic for "+t+" exists, but the property is not available.");return}if(Kr&&u+1>=r.length){var g=Kr(o,h);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?o=g.get:o=o[h]}else f=Rl(o,h),o=o[h];f&&!l&&(Jr[s]=o)}}return o}});var Dl=R((aB,eb)=>{"use strict";v();var RM=pn(),jl=RM("%Object.defineProperty%",!0)||!1;if(jl)try{jl({},"a",{value:1})}catch(e){jl=!1}eb.exports=jl});var Nl=R((oB,tb)=>{"use strict";v();var LM=pn(),Bl=LM("%Object.getOwnPropertyDescriptor%",!0);if(Bl)try{Bl([],"length")}catch(e){Bl=null}tb.exports=Bl});var $l=R((cB,ib)=>{"use strict";v();var nb=Dl(),jM=qh(),ea=Wn(),rb=Nl();ib.exports=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new ea("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new ea("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ea("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ea("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ea("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ea("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,l=!!rb&&rb(t,n);if(nb)nb(t,n,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:a===null&&l?l.writable:!a});else if(o||!i&&!a&&!s)t[n]=r;else throw new jM("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Hl=R((fB,sb)=>{"use strict";v();var Jh=Dl(),ab=function(){return!!Jh};ab.hasArrayLengthDefineBug=function(){if(!Jh)return null;try{return Jh([],"length",{value:1}).length!==1}catch(t){return!0}};sb.exports=ab});var pr=R((dB,ub)=>{"use strict";v();var DM=Ml(),BM=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",NM=Object.prototype.toString,$M=Array.prototype.concat,ob=$l(),HM=function(e){return typeof e=="function"&&NM.call(e)==="[object Function]"},lb=Hl()(),UM=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!HM(r)||!r())return}lb?ob(e,t,n,!0):ob(e,t,n)},cb=function(e,t){var n=arguments.length>2?arguments[2]:{},r=DM(t);BM&&(r=$M.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)UM(e,r[i],t[r[i]],n[r[i]])};cb.supportsDescriptors=!!lb;ub.exports=cb});var mb=R((mB,pb)=>{"use strict";v();var GM=pn(),fb=$l(),zM=Hl()(),hb=Nl(),db=Wn(),VM=GM("%Math.floor%");pb.exports=function(t,n){if(typeof t!="function")throw new db("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||VM(n)!==n)throw new db("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in t&&hb){var s=hb(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(a=!1)}return(i||a||!r)&&(zM?fb(t,"length",n,!0,!0):fb(t,"length",n)),t}});var Qr=R((yB,Ul)=>{"use strict";v();var Qh=Il(),Gl=pn(),WM=mb(),qM=Wn(),vb=Gl("%Function.prototype.apply%"),wb=Gl("%Function.prototype.call%"),bb=Gl("%Reflect.apply%",!0)||Qh.call(wb,vb),gb=Dl(),XM=Gl("%Math.max%");Ul.exports=function(t){if(typeof t!="function")throw new qM("a function is required");var n=bb(Qh,wb,arguments);return WM(n,1+XM(0,t.length-(arguments.length-1)),!0)};var yb=function(){return bb(Qh,vb,arguments)};gb?gb(Ul.exports,"apply",{value:yb}):Ul.exports.apply=yb});var qt=R((wB,Sb)=>{"use strict";v();var xb=pn(),_b=Qr(),YM=_b(xb("String.prototype.indexOf"));Sb.exports=function(t,n){var r=xb(t,!!n);return typeof r=="function"&&YM(t,".prototype.")>-1?_b(r):r}});var ed=R((xB,Cb)=>{"use strict";v();var ZM=Ml(),kb=Is()(),Tb=qt(),Eb=Object,KM=Tb("Array.prototype.push"),Ab=Tb("Object.prototype.propertyIsEnumerable"),JM=kb?Object.getOwnPropertySymbols:null;Cb.exports=function(t,n){if(t==null)throw new TypeError("target must be an object");var r=Eb(t);if(arguments.length===1)return r;for(var i=1;i<arguments.length;++i){var a=Eb(arguments[i]),s=ZM(a),o=kb&&(Object.getOwnPropertySymbols||JM);if(o)for(var l=o(a),c=0;c<l.length;++c){var u=l[c];Ab(a,u)&&KM(s,u)}for(var f=0;f<s.length;++f){var h=s[f];if(Ab(a,h)){var d=a[h];r[h]=d}}}return r}});var nd=R((SB,Fb)=>{"use strict";v();var td=ed(),QM=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),a="";for(var s in i)a+=s;return e!==a},eO=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}return!1};Fb.exports=function(){return!Object.assign||QM()||eO()?td:Object.assign}});var Mb=R((AB,Pb)=>{"use strict";v();var tO=pr(),nO=nd();Pb.exports=function(){var t=nO();return tO(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}});var Lb=R((TB,Rb)=>{"use strict";v();var rO=pr(),iO=Qr(),aO=ed(),Ob=nd(),sO=Mb(),oO=iO.apply(Ob()),Ib=function(t,n){return oO(Object,arguments)};rO(Ib,{getPolyfill:Ob,implementation:aO,shim:sO});Rb.exports=Ib});var Db=R((FB,jb)=>{"use strict";v();var js=function(){return typeof function(){}.name=="string"},Ls=Object.getOwnPropertyDescriptor;if(Ls)try{Ls([],"length")}catch(e){Ls=null}js.functionsHaveConfigurableNames=function(){if(!js()||!Ls)return!1;var t=Ls(function(){},"name");return!!t&&!!t.configurable};var lO=Function.prototype.bind;js.boundFunctionsHaveNames=function(){return js()&&typeof lO=="function"&&function(){}.bind().name!==""};jb.exports=js});var $b=R((MB,Nb)=>{"use strict";v();var Bb=$l(),cO=Hl()(),uO=Db().functionsHaveConfigurableNames(),fO=Wn();Nb.exports=function(t,n){if(typeof t!="function")throw new fO("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||uO)&&(cO?Bb(t,"name",n,!0,!0):Bb(t,"name",n)),t}});var rd=R((IB,Hb)=>{"use strict";v();var hO=$b(),dO=Wn(),pO=Object;Hb.exports=hO(function(){if(this==null||this!==pO(this))throw new dO("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0)});var id=R((LB,Ub)=>{"use strict";v();var mO=rd(),gO=pr().supportsDescriptors,yO=Object.getOwnPropertyDescriptor;Ub.exports=function(){if(gO&&/a/mig.flags==="gim"){var t=yO(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var n="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){n+="d"}}),Object.defineProperty(r,"sticky",{get:function(){n+="y"}}),t.get.call(r),n==="dy")return t.get}}return mO}});var Vb=R((DB,zb)=>{"use strict";v();var vO=pr().supportsDescriptors,wO=id(),bO=Object.getOwnPropertyDescriptor,xO=Object.defineProperty,_O=TypeError,Gb=Object.getPrototypeOf,SO=/a/;zb.exports=function(){if(!vO||!Gb)throw new _O("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=wO(),n=Gb(SO),r=bO(n,"flags");return(!r||r.get!==t)&&xO(n,"flags",{configurable:!0,enumerable:!1,get:t}),t}});var Yb=R((NB,Xb)=>{"use strict";v();var EO=pr(),AO=Qr(),kO=rd(),Wb=id(),TO=Vb(),qb=AO(Wb());EO(qb,{getPolyfill:Wb,implementation:kO,shim:TO});Xb.exports=qb});var mr=R((HB,Zb)=>{"use strict";v();var CO=Is();Zb.exports=function(){return CO()&&!!Symbol.toStringTag}});var sd=R((GB,Jb)=>{"use strict";v();var FO=mr()(),PO=qt(),ad=PO("Object.prototype.toString"),zl=function(t){return FO&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:ad(t)==="[object Arguments]"},Kb=function(t){return zl(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&ad(t)!=="[object Array]"&&ad(t.callee)==="[object Function]"},MO=function(){return zl(arguments)}();zl.isLegacyArguments=Kb;Jb.exports=MO?zl:Kb});var Qb=R(()=>{v()});var wx=R((XB,vx)=>{v();var gd=typeof Map=="function"&&Map.prototype,od=Object.getOwnPropertyDescriptor&&gd?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wl=gd&&od&&typeof od.get=="function"?od.get:null,ex=gd&&Map.prototype.forEach,yd=typeof Set=="function"&&Set.prototype,ld=Object.getOwnPropertyDescriptor&&yd?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ql=yd&&ld&&typeof ld.get=="function"?ld.get:null,tx=yd&&Set.prototype.forEach,OO=typeof WeakMap=="function"&&WeakMap.prototype,Bs=OO?WeakMap.prototype.has:null,IO=typeof WeakSet=="function"&&WeakSet.prototype,Ns=IO?WeakSet.prototype.has:null,RO=typeof WeakRef=="function"&&WeakRef.prototype,nx=RO?WeakRef.prototype.deref:null,LO=Boolean.prototype.valueOf,jO=Object.prototype.toString,DO=Function.prototype.toString,BO=String.prototype.match,vd=String.prototype.slice,yr=String.prototype.replace,NO=String.prototype.toUpperCase,rx=String.prototype.toLowerCase,hx=RegExp.prototype.test,ix=Array.prototype.concat,Mn=Array.prototype.join,$O=Array.prototype.slice,ax=Math.floor,fd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cd=Object.getOwnPropertySymbols,hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ta=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ta||!0)?Symbol.toStringTag:null,dx=Object.prototype.propertyIsEnumerable,sx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function ox(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||hx.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-ax(-e):ax(e);if(r!==e){var i=String(r),a=vd.call(t,i.length+1);return yr.call(i,n,"$&_")+"."+yr.call(yr.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return yr.call(t,n,"$&_")}var dd=Qb(),lx=dd.custom,cx=mx(lx)?lx:null;vx.exports=function e(t,n,r,i){var a=n||{};if(gr(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(gr(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=gr(a,"customInspect")?a.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(gr(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(gr(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=a.numericSeparator;if(typeof t=="undefined")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return yx(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return o?ox(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return o?ox(t,c):c}var u=typeof a.depth=="undefined"?5:a.depth;if(typeof r=="undefined"&&(r=0),r>=u&&u>0&&typeof t=="object")return pd(t)?"[Array]":"[Object]";var f=iI(a,r);if(typeof i=="undefined")i=[];else if(gx(i,t)>=0)return"[Circular]";function h(N,j,Y){if(j&&(i=$O.call(i),i.push(j)),Y){var le={depth:a.depth};return gr(a,"quoteStyle")&&(le.quoteStyle=a.quoteStyle),e(N,le,r+1,i)}return e(N,a,r+1,i)}if(typeof t=="function"&&!ux(t)){var d=YO(t),p=Vl(t,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Mn.call(p,", ")+" }":"")}if(mx(t)){var g=ta?yr.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):hd.call(t);return typeof t=="object"&&!ta?Ds(g):g}if(tI(t)){for(var m="<"+rx.call(String(t.nodeName)),w=t.attributes||[],b=0;b<w.length;b++)m+=" "+w[b].name+"="+px(HO(w[b].value),"double",a);return m+=">",t.childNodes&&t.childNodes.length&&(m+="..."),m+="</"+rx.call(String(t.nodeName))+">",m}if(pd(t)){if(t.length===0)return"[]";var S=Vl(t,h);return f&&!rI(S)?"["+md(S,f)+"]":"[ "+Mn.call(S,", ")+" ]"}if(GO(t)){var A=Vl(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!dx.call(t,"cause")?"{ ["+String(t)+"] "+Mn.call(ix.call("[cause]: "+h(t.cause),A),", ")+" }":A.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Mn.call(A,", ")+" }"}if(typeof t=="object"&&s){if(cx&&typeof t[cx]=="function"&&dd)return dd(t,{depth:u-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(ZO(t)){var x=[];return ex&&ex.call(t,function(N,j){x.push(h(j,t,!0)+" => "+h(N,t))}),fx("Map",Wl.call(t),x,f)}if(QO(t)){var k=[];return tx&&tx.call(t,function(N){k.push(h(N,t))}),fx("Set",ql.call(t),k,f)}if(KO(t))return ud("WeakMap");if(eI(t))return ud("WeakSet");if(JO(t))return ud("WeakRef");if(VO(t))return Ds(h(Number(t)));if(qO(t))return Ds(h(fd.call(t)));if(WO(t))return Ds(LO.call(t));if(zO(t))return Ds(h(String(t)));if(typeof window!="undefined"&&t===window)return"{ [object Window] }";if(typeof globalThis!="undefined"&&t===globalThis||typeof global!="undefined"&&t===global)return"{ [object globalThis] }";if(!UO(t)&&!ux(t)){var y=Vl(t,h),E=sx?sx(t)===Object.prototype:t instanceof Object||t.constructor===Object,_=t instanceof Object?"":"null prototype",C=!E&&vt&&Object(t)===t&&vt in t?vd.call(vr(t),8,-1):_?"Object":"",P=E||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",L=P+(C||_?"["+Mn.call(ix.call([],C||[],_||[]),": ")+"] ":"");return y.length===0?L+"{}":f?L+"{"+md(y,f)+"}":L+"{ "+Mn.call(y,", ")+" }"}return String(t)};function px(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function HO(e){return yr.call(String(e),/"/g,"&quot;")}function pd(e){return vr(e)==="[object Array]"&&(!vt||!(typeof e=="object"&&vt in e))}function UO(e){return vr(e)==="[object Date]"&&(!vt||!(typeof e=="object"&&vt in e))}function ux(e){return vr(e)==="[object RegExp]"&&(!vt||!(typeof e=="object"&&vt in e))}function GO(e){return vr(e)==="[object Error]"&&(!vt||!(typeof e=="object"&&vt in e))}function zO(e){return vr(e)==="[object String]"&&(!vt||!(typeof e=="object"&&vt in e))}function VO(e){return vr(e)==="[object Number]"&&(!vt||!(typeof e=="object"&&vt in e))}function WO(e){return vr(e)==="[object Boolean]"&&(!vt||!(typeof e=="object"&&vt in e))}function mx(e){if(ta)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!hd)return!1;try{return hd.call(e),!0}catch(t){}return!1}function qO(e){if(!e||typeof e!="object"||!fd)return!1;try{return fd.call(e),!0}catch(t){}return!1}var XO=Object.prototype.hasOwnProperty||function(e){return e in this};function gr(e,t){return XO.call(e,t)}function vr(e){return jO.call(e)}function YO(e){if(e.name)return e.name;var t=BO.call(DO.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function gx(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ZO(e){if(!Wl||!e||typeof e!="object")return!1;try{Wl.call(e);try{ql.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}function KO(e){if(!Bs||!e||typeof e!="object")return!1;try{Bs.call(e,Bs);try{Ns.call(e,Ns)}catch(t){return!0}return e instanceof WeakMap}catch(t){}return!1}function JO(e){if(!nx||!e||typeof e!="object")return!1;try{return nx.call(e),!0}catch(t){}return!1}function QO(e){if(!ql||!e||typeof e!="object")return!1;try{ql.call(e);try{Wl.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}function eI(e){if(!Ns||!e||typeof e!="object")return!1;try{Ns.call(e,Ns);try{Bs.call(e,Bs)}catch(t){return!0}return e instanceof WeakSet}catch(t){}return!1}function tI(e){return!e||typeof e!="object"?!1:typeof HTMLElement!="undefined"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function yx(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return yx(vd.call(e,0,t.maxStringLength),t)+r}var i=yr.call(yr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,nI);return px(i,"single",t)}function nI(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+NO.call(t.toString(16))}function Ds(e){return"Object("+e+")"}function ud(e){return e+" { ? }"}function fx(e,t,n,r){var i=r?md(n,r):Mn.call(n,", ");return e+" ("+t+") {"+i+"}"}function rI(e){for(var t=0;t<e.length;t++)if(gx(e[t],`
`)>=0)return!1;return!0}function iI(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Mn.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Mn.call(Array(t+1),n)}}function md(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Mn.call(e,","+n)+`
`+t.prev}function Vl(e,t){var n=pd(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=gr(e,i)?t(e[i],e):""}var a=typeof cd=="function"?cd(e):[],s;if(ta){s={};for(var o=0;o<a.length;o++)s["$"+a[o]]=a[o]}for(var l in e)gr(e,l)&&(n&&String(Number(l))===l&&l<e.length||ta&&s["$"+l]instanceof Symbol||(hx.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof cd=="function")for(var c=0;c<a.length;c++)dx.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}});var bd=R((ZB,xx)=>{"use strict";v();var bx=pn(),na=qt(),aI=wx(),sI=Wn(),Xl=bx("%WeakMap%",!0),Yl=bx("%Map%",!0),oI=na("WeakMap.prototype.get",!0),lI=na("WeakMap.prototype.set",!0),cI=na("WeakMap.prototype.has",!0),uI=na("Map.prototype.get",!0),fI=na("Map.prototype.set",!0),hI=na("Map.prototype.has",!0),wd=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},dI=function(e,t){var n=wd(e,t);return n&&n.value},pI=function(e,t,n){var r=wd(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},mI=function(e,t){return!!wd(e,t)};xx.exports=function(){var t,n,r,i={assert:function(a){if(!i.has(a))throw new sI("Side channel does not contain "+aI(a))},get:function(a){if(Xl&&a&&(typeof a=="object"||typeof a=="function")){if(t)return oI(t,a)}else if(Yl){if(n)return uI(n,a)}else if(r)return dI(r,a)},has:function(a){if(Xl&&a&&(typeof a=="object"||typeof a=="function")){if(t)return cI(t,a)}else if(Yl){if(n)return hI(n,a)}else if(r)return mI(r,a);return!1},set:function(a,s){Xl&&a&&(typeof a=="object"||typeof a=="function")?(t||(t=new Xl),lI(t,a,s)):Yl?(n||(n=new Yl),fI(n,a,s)):(r||(r={key:{},next:null}),pI(r,a,s))}};return i}});var Sx=R((JB,_x)=>{"use strict";v();var gI=Yh(),$s=bd()(),qn=Wn(),xd={assert:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new qn("`O` is not an object");if(typeof t!="string")throw new qn("`slot` must be a string");if($s.assert(e),!xd.has(e,t))throw new qn("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new qn("`O` is not an object");if(typeof t!="string")throw new qn("`slot` must be a string");var n=$s.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new qn("`O` is not an object");if(typeof t!="string")throw new qn("`slot` must be a string");var n=$s.get(e);return!!n&&gI(n,"$"+t)},set:function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new qn("`O` is not an object");if(typeof t!="string")throw new qn("`slot` must be a string");var r=$s.get(e);r||(r={},$s.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(xd);_x.exports=xd});var kx=R((eN,Ax)=>{"use strict";v();var Hs=Sx(),yI=SyntaxError,Ex=typeof StopIteration=="object"?StopIteration:null;Ax.exports=function(t){if(!Ex)throw new yI("this environment lacks StopIteration");Hs.set(t,"[[Done]]",!1);var n={next:function(){var i=Hs.get(this,"[[Iterator]]"),a=Hs.get(i,"[[Done]]");try{return{done:a,value:a?void 0:i.next()}}catch(s){if(Hs.set(i,"[[Done]]",!0),s!==Ex)throw s;return{done:!0,value:void 0}}}};return Hs.set(n,"[[Iterator]]",t),n}});var _d=R((nN,Tx)=>{v();var vI={}.toString;Tx.exports=Array.isArray||function(e){return vI.call(e)=="[object Array]"}});var Sd=R((iN,Cx)=>{"use strict";v();var wI=String.prototype.valueOf,bI=function(t){try{return wI.call(t),!0}catch(n){return!1}},xI=Object.prototype.toString,_I="[object String]",SI=mr()();Cx.exports=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:SI?bI(t):xI.call(t)===_I}});var Ad=R((sN,Mx)=>{"use strict";v();var Ed=typeof Map=="function"&&Map.prototype?Map:null,EI=typeof Set=="function"&&Set.prototype?Set:null,Zl;Ed||(Zl=function(t){return!1});var Px=Ed?Map.prototype.has:null,Fx=EI?Set.prototype.has:null;!Zl&&!Px&&(Zl=function(t){return!1});Mx.exports=Zl||function(t){if(!t||typeof t!="object")return!1;try{if(Px.call(t),Fx)try{Fx.call(t)}catch(n){return!0}return t instanceof Ed}catch(n){}return!1}});var Td=R((lN,Rx)=>{"use strict";v();var AI=typeof Map=="function"&&Map.prototype?Map:null,kd=typeof Set=="function"&&Set.prototype?Set:null,Kl;kd||(Kl=function(t){return!1});var Ox=AI?Map.prototype.has:null,Ix=kd?Set.prototype.has:null;!Kl&&!Ix&&(Kl=function(t){return!1});Rx.exports=Kl||function(t){if(!t||typeof t!="object")return!1;try{if(Ix.call(t),Ox)try{Ox.call(t)}catch(n){return!0}return t instanceof kd}catch(n){}return!1}});var Wx=R((uN,ec)=>{"use strict";v();var Lx=sd(),jx=kx();Ol()()||Is()()?(Jl=Symbol.iterator,ec.exports=function(t){if(t!=null&&typeof t[Jl]!="undefined")return t[Jl]();if(Lx(t))return Array.prototype[Jl].call(t)}):(Dx=_d(),Bx=Sd(),Cd=pn(),Nx=Cd("%Map%",!0),$x=Cd("%Set%",!0),rn=qt(),Fd=rn("Array.prototype.push"),Pd=rn("String.prototype.charCodeAt"),Hx=rn("String.prototype.slice"),Ux=function(t,n){var r=t.length;if(n+1>=r)return n+1;var i=Pd(t,n);if(i<55296||i>56319)return n+1;var a=Pd(t,n+1);return a<56320||a>57343?n+1:n+2},Ql=function(t){var n=0;return{next:function(){var i=n>=t.length,a;return i||(a=t[n],n+=1),{done:i,value:a}}}},Md=function(t,n){if(Dx(t)||Lx(t))return Ql(t);if(Bx(t)){var r=0;return{next:function(){var a=Ux(t,r),s=Hx(t,r,a);return r=a,{done:a>t.length,value:s}}}}if(n&&typeof t["_es6-shim iterator_"]!="undefined")return t["_es6-shim iterator_"]()},!Nx&&!$x?ec.exports=function(t){if(t!=null)return Md(t,!0)}:(Gx=Ad(),zx=Td(),Od=rn("Map.prototype.forEach",!0),Id=rn("Set.prototype.forEach",!0),(typeof process=="undefined"||!process.versions||!process.versions.node)&&(Rd=rn("Map.prototype.iterator",!0),Ld=rn("Set.prototype.iterator",!0)),jd=rn("Map.prototype.@@iterator",!0)||rn("Map.prototype._es6-shim iterator_",!0),Dd=rn("Set.prototype.@@iterator",!0)||rn("Set.prototype._es6-shim iterator_",!0),Vx=function(t){if(Gx(t)){if(Rd)return jx(Rd(t));if(jd)return jd(t);if(Od){var n=[];return Od(t,function(i,a){Fd(n,[a,i])}),Ql(n)}}if(zx(t)){if(Ld)return jx(Ld(t));if(Dd)return Dd(t);if(Id){var r=[];return Id(t,function(i){Fd(r,i)}),Ql(r)}}},ec.exports=function(t){return Vx(t)||Md(t)}));var Jl,Dx,Bx,Cd,Nx,$x,rn,Fd,Pd,Hx,Ux,Ql,Md,Gx,zx,Od,Id,Rd,Ld,jd,Dd,Vx});var Bd=R((hN,Xx)=>{"use strict";v();var qx=function(e){return e!==e};Xx.exports=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||qx(t)&&qx(n))}});var Nd=R((pN,Yx)=>{"use strict";v();var kI=Bd();Yx.exports=function(){return typeof Object.is=="function"?Object.is:kI}});var Kx=R((gN,Zx)=>{"use strict";v();var TI=Nd(),CI=pr();Zx.exports=function(){var t=TI();return CI(Object,{is:t},{is:function(){return Object.is!==t}}),t}});var t_=R((vN,e_)=>{"use strict";v();var FI=pr(),PI=Qr(),MI=Bd(),Jx=Nd(),OI=Kx(),Qx=PI(Jx(),Object);FI(Qx,{getPolyfill:Jx,implementation:MI,shim:OI});e_.exports=Qx});var Hd=R((bN,a_)=>{"use strict";v();var II=Qr(),i_=qt(),RI=pn(),$d=RI("%ArrayBuffer%",!0),tc=i_("ArrayBuffer.prototype.byteLength",!0),LI=i_("Object.prototype.toString"),n_=!!$d&&!tc&&new $d(0).slice,r_=!!n_&&II(n_);a_.exports=tc||r_?function(t){if(!t||typeof t!="object")return!1;try{return tc?tc(t):r_(t,0),!0}catch(n){return!1}}:$d?function(t){return LI(t)==="[object ArrayBuffer]"}:function(t){return!1}});var o_=R((_N,s_)=>{"use strict";v();var jI=Date.prototype.getDay,DI=function(t){try{return jI.call(t),!0}catch(n){return!1}},BI=Object.prototype.toString,NI="[object Date]",$I=mr()();s_.exports=function(t){return typeof t!="object"||t===null?!1:$I?DI(t):BI.call(t)===NI}});var h_=R((EN,f_)=>{"use strict";v();var Ud=qt(),l_=mr()(),c_,u_,Gd,zd;l_&&(c_=Ud("Object.prototype.hasOwnProperty"),u_=Ud("RegExp.prototype.exec"),Gd={},nc=function(){throw Gd},zd={toString:nc,valueOf:nc},typeof Symbol.toPrimitive=="symbol"&&(zd[Symbol.toPrimitive]=nc));var nc,HI=Ud("Object.prototype.toString"),UI=Object.getOwnPropertyDescriptor,GI="[object RegExp]";f_.exports=l_?function(t){if(!t||typeof t!="object")return!1;var n=UI(t,"lastIndex"),r=n&&c_(n,"value");if(!r)return!1;try{u_(t,zd)}catch(i){return i===Gd}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:HI(t)===GI}});var m_=R((kN,p_)=>{"use strict";v();var zI=qt(),d_=zI("SharedArrayBuffer.prototype.byteLength",!0);p_.exports=d_?function(t){if(!t||typeof t!="object")return!1;try{return d_(t),!0}catch(n){return!1}}:function(t){return!1}});var y_=R((CN,g_)=>{"use strict";v();var VI=Number.prototype.toString,WI=function(t){try{return VI.call(t),!0}catch(n){return!1}},qI=Object.prototype.toString,XI="[object Number]",YI=mr()();g_.exports=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:YI?WI(t):qI.call(t)===XI}});var b_=R((PN,w_)=>{"use strict";v();var v_=qt(),ZI=v_("Boolean.prototype.toString"),KI=v_("Object.prototype.toString"),JI=function(t){try{return ZI(t),!0}catch(n){return!1}},QI="[object Boolean]",eR=mr()();w_.exports=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:eR&&Symbol.toStringTag in t?JI(t):KI(t)===QI}});var E_=R((ON,Vd)=>{"use strict";v();var tR=Object.prototype.toString,nR=Ol()();nR?(x_=Symbol.prototype.toString,__=/^Symbol\(.*\)$/,S_=function(t){return typeof t.valueOf()!="symbol"?!1:__.test(x_.call(t))},Vd.exports=function(t){if(typeof t=="symbol")return!0;if(tR.call(t)!=="[object Symbol]")return!1;try{return S_(t)}catch(n){return!1}}):Vd.exports=function(t){return!1};var x_,__,S_});var T_=R((RN,k_)=>{"use strict";v();var A_=typeof BigInt!="undefined"&&BigInt;k_.exports=function(){return typeof A_=="function"&&typeof BigInt=="function"&&typeof A_(42)=="bigint"&&typeof BigInt(42)=="bigint"}});var P_=R((jN,Wd)=>{"use strict";v();var rR=T_()();rR?(C_=BigInt.prototype.valueOf,F_=function(t){try{return C_.call(t),!0}catch(n){}return!1},Wd.exports=function(t){return t===null||typeof t=="undefined"||typeof t=="boolean"||typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="function"?!1:typeof t=="bigint"?!0:F_(t)}):Wd.exports=function(t){return!1};var C_,F_});var O_=R((BN,M_)=>{"use strict";v();var iR=Sd(),aR=y_(),sR=b_(),oR=E_(),lR=P_();M_.exports=function(t){if(t==null||typeof t!="object"&&typeof t!="function")return null;if(iR(t))return"String";if(aR(t))return"Number";if(sR(t))return"Boolean";if(oR(t))return"Symbol";if(lR(t))return"BigInt"}});var L_=R(($N,R_)=>{"use strict";v();var rc=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,I_=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,ic;rc||(ic=function(t){return!1});var Xd=rc?rc.prototype.has:null,qd=I_?I_.prototype.has:null;!ic&&!Xd&&(ic=function(t){return!1});R_.exports=ic||function(t){if(!t||typeof t!="object")return!1;try{if(Xd.call(t,Xd),qd)try{qd.call(t,qd)}catch(n){return!0}return t instanceof rc}catch(n){}return!1}});var D_=R((UN,Zd)=>{"use strict";v();var cR=pn(),j_=qt(),uR=cR("%WeakSet%",!0),Yd=j_("WeakSet.prototype.has",!0);Yd?(ac=j_("WeakMap.prototype.has",!0),Zd.exports=function(t){if(!t||typeof t!="object")return!1;try{if(Yd(t,Yd),ac)try{ac(t,ac)}catch(n){return!0}return t instanceof uR}catch(n){}return!1}):Zd.exports=function(t){return!1};var ac});var N_=R((zN,B_)=>{"use strict";v();var fR=Ad(),hR=Td(),dR=L_(),pR=D_();B_.exports=function(t){if(t&&typeof t=="object"){if(fR(t))return"Map";if(hR(t))return"Set";if(dR(t))return"WeakMap";if(pR(t))return"WeakSet"}return!1}});var G_=R((WN,U_)=>{"use strict";v();var H_=Function.prototype.toString,ra=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Jd,sc;if(typeof ra=="function"&&typeof Object.defineProperty=="function")try{Jd=Object.defineProperty({},"length",{get:function(){throw sc}}),sc={},ra(function(){throw 42},null,Jd)}catch(e){e!==sc&&(ra=null)}else ra=null;var mR=/^\s*class\b/,Qd=function(t){try{var n=H_.call(t);return mR.test(n)}catch(r){return!1}},Kd=function(t){try{return Qd(t)?!1:(H_.call(t),!0)}catch(n){return!1}},oc=Object.prototype.toString,gR="[object Object]",yR="[object Function]",vR="[object GeneratorFunction]",wR="[object HTMLAllCollection]",bR="[object HTML document.all class]",xR="[object HTMLCollection]",_R=typeof Symbol=="function"&&!!Symbol.toStringTag,SR=!(0 in[,]),ep=function(){return!1};typeof document=="object"&&($_=document.all,oc.call($_)===oc.call(document.all)&&(ep=function(t){if((SR||!t)&&(typeof t=="undefined"||typeof t=="object"))try{var n=oc.call(t);return(n===wR||n===bR||n===xR||n===gR)&&t("")==null}catch(r){}return!1}));var $_;U_.exports=ra?function(t){if(ep(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{ra(t,null,Jd)}catch(n){if(n!==sc)return!1}return!Qd(t)&&Kd(t)}:function(t){if(ep(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(_R)return Kd(t);if(Qd(t))return!1;var n=oc.call(t);return n!==yR&&n!==vR&&!/^\[object HTML/.test(n)?!1:Kd(t)}});var W_=R((XN,V_)=>{"use strict";v();var ER=G_(),AR=Object.prototype.toString,z_=Object.prototype.hasOwnProperty,kR=function(t,n,r){for(var i=0,a=t.length;i<a;i++)z_.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},TR=function(t,n,r){for(var i=0,a=t.length;i<a;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},CR=function(t,n,r){for(var i in t)z_.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},FR=function(t,n,r){if(!ER(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),AR.call(t)==="[object Array]"?kR(t,n,i):typeof t=="string"?TR(t,n,i):CR(t,n,i)};V_.exports=FR});var X_=R((ZN,q_)=>{"use strict";v();q_.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var Z_=R((JN,Y_)=>{"use strict";v();var tp=X_(),PR=typeof globalThis=="undefined"?global:globalThis;Y_.exports=function(){for(var t=[],n=0;n<tp.length;n++)typeof PR[tp[n]]=="function"&&(t[t.length]=tp[n]);return t}});var tS=R((e$,eS)=>{"use strict";v();var cc=W_(),MR=Z_(),K_=Qr(),ip=qt(),lc=Nl(),OR=ip("Object.prototype.toString"),Q_=mr()(),J_=typeof globalThis=="undefined"?global:globalThis,rp=MR(),ap=ip("String.prototype.slice"),np=Object.getPrototypeOf,IR=ip("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},uc={__proto__:null};Q_&&lc&&np?cc(rp,function(e){var t=new J_[e];if(Symbol.toStringTag in t){var n=np(t),r=lc(n,Symbol.toStringTag);if(!r){var i=np(n);r=lc(i,Symbol.toStringTag)}uc["$"+e]=K_(r.get)}}):cc(rp,function(e){var t=new J_[e],n=t.slice||t.set;n&&(uc["$"+e]=K_(n))});var RR=function(t){var n=!1;return cc(uc,function(r,i){if(!n)try{"$"+r(t)===i&&(n=ap(i,1))}catch(a){}}),n},LR=function(t){var n=!1;return cc(uc,function(r,i){if(!n)try{r(t),n=ap(i,1)}catch(a){}}),n};eS.exports=function(t){if(!t||typeof t!="object")return!1;if(!Q_){var n=ap(OR(t),8,-1);return IR(rp,n)>-1?n:n!=="Object"?!1:LR(t)}return lc?RR(t):null}});var iS=R((n$,rS)=>{"use strict";v();var jR=qt(),nS=jR("ArrayBuffer.prototype.byteLength",!0),DR=Hd();rS.exports=function(t){return DR(t)?nS?nS(t):t.byteLength:NaN}});var FS=R((i$,CS)=>{"use strict";v();var AS=Lb(),On=qt(),aS=Yb(),BR=pn(),ia=Wx(),NR=bd(),sS=t_(),oS=sd(),lS=_d(),cS=Hd(),uS=o_(),fS=h_(),hS=m_(),dS=Ml(),pS=O_(),mS=N_(),gS=tS(),yS=iS(),vS=On("SharedArrayBuffer.prototype.byteLength",!0),wS=On("Date.prototype.getTime"),sp=Object.getPrototypeOf,bS=On("Object.prototype.toString"),hc=BR("%Set%",!0),op=On("Map.prototype.has",!0),dc=On("Map.prototype.get",!0),xS=On("Map.prototype.size",!0),pc=On("Set.prototype.add",!0),kS=On("Set.prototype.delete",!0),mc=On("Set.prototype.has",!0),fc=On("Set.prototype.size",!0);function _S(e,t,n,r){for(var i=ia(e),a;(a=i.next())&&!a.done;)if(mn(t,a.value,n,r))return kS(e,a.value),!0;return!1}function TS(e){if(typeof e=="undefined")return null;if(typeof e!="object")return typeof e=="symbol"?!1:typeof e=="string"||typeof e=="number"?+e==+e:!0}function $R(e,t,n,r,i,a){var s=TS(n);if(s!=null)return s;var o=dc(t,s),l=AS({},i,{strict:!1});return typeof o=="undefined"&&!op(t,s)||!mn(r,o,l,a)?!1:!op(e,s)&&mn(r,o,l,a)}function HR(e,t,n){var r=TS(n);return r!=null?r:mc(t,r)&&!mc(e,r)}function SS(e,t,n,r,i,a){for(var s=ia(e),o,l;(o=s.next())&&!o.done;)if(l=o.value,mn(n,l,i,a)&&mn(r,dc(t,l),i,a))return kS(e,l),!0;return!1}function mn(e,t,n,r){var i=n||{};if(i.strict?sS(e,t):e===t)return!0;var a=pS(e),s=pS(t);if(a!==s)return!1;if(!e||!t||typeof e!="object"&&typeof t!="object")return i.strict?sS(e,t):e==t;var o=r.has(e),l=r.has(t),c;if(o&&l){if(r.get(e)===r.get(t))return!0}else c={};return o||r.set(e,c),l||r.set(t,c),zR(e,t,i,r)}function ES(e){return!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function UR(e,t,n,r){if(fc(e)!==fc(t))return!1;for(var i=ia(e),a=ia(t),s,o,l;(s=i.next())&&!s.done;)if(s.value&&typeof s.value=="object")l||(l=new hc),pc(l,s.value);else if(!mc(t,s.value)){if(n.strict||!HR(e,t,s.value))return!1;l||(l=new hc),pc(l,s.value)}if(l){for(;(o=a.next())&&!o.done;)if(o.value&&typeof o.value=="object"){if(!_S(l,o.value,n.strict,r))return!1}else if(!n.strict&&!mc(e,o.value)&&!_S(l,o.value,n.strict,r))return!1;return fc(l)===0}return!0}function GR(e,t,n,r){if(xS(e)!==xS(t))return!1;for(var i=ia(e),a=ia(t),s,o,l,c,u,f;(s=i.next())&&!s.done;)if(c=s.value[0],u=s.value[1],c&&typeof c=="object")l||(l=new hc),pc(l,c);else if(f=dc(t,c),typeof f=="undefined"&&!op(t,c)||!mn(u,f,n,r)){if(n.strict||!$R(e,t,c,u,n,r))return!1;l||(l=new hc),pc(l,c)}if(l){for(;(o=a.next())&&!o.done;)if(c=o.value[0],f=o.value[1],c&&typeof c=="object"){if(!SS(l,e,c,f,n,r))return!1}else if(!n.strict&&(!e.has(c)||!mn(dc(e,c),f,n,r))&&!SS(l,e,c,f,AS({},n,{strict:!1}),r))return!1;return fc(l)===0}return!0}function zR(e,t,n,r){var i,a;if(typeof e!=typeof t||e==null||t==null||bS(e)!==bS(t)||oS(e)!==oS(t))return!1;var s=lS(e),o=lS(t);if(s!==o)return!1;var l=e instanceof Error,c=t instanceof Error;if(l!==c||(l||c)&&(e.name!==t.name||e.message!==t.message))return!1;var u=fS(e),f=fS(t);if(u!==f||(u||f)&&(e.source!==t.source||aS(e)!==aS(t)))return!1;var h=uS(e),d=uS(t);if(h!==d||(h||d)&&wS(e)!==wS(t)||n.strict&&sp&&sp(e)!==sp(t))return!1;var p=gS(e),g=gS(t);if(p!==g)return!1;if(p||g){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var m=ES(e),w=ES(t);if(m!==w)return!1;if(m||w){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var b=cS(e),S=cS(t);if(b!==S)return!1;if(b||S)return yS(e)!==yS(t)?!1:typeof Uint8Array=="function"&&mn(new Uint8Array(e),new Uint8Array(t),n,r);var A=hS(e),x=hS(t);if(A!==x)return!1;if(A||x)return vS(e)!==vS(t)?!1:typeof Uint8Array=="function"&&mn(new Uint8Array(e),new Uint8Array(t),n,r);if(typeof e!=typeof t)return!1;var k=dS(e),y=dS(t);if(k.length!==y.length)return!1;for(k.sort(),y.sort(),i=k.length-1;i>=0;i--)if(k[i]!=y[i])return!1;for(i=k.length-1;i>=0;i--)if(a=k[i],!mn(e[a],t[a],n,r))return!1;var E=mS(e),_=mS(t);return E!==_?!1:E==="Set"||_==="Set"?UR(e,t,n,r):E==="Map"?GR(e,t,n,r):!0}CS.exports=function(t,n,r){return mn(t,n,r,NR())}});var pp=R((exports,module)=>{v();(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(i){return t.create().update(i)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if(typeof e=="string")return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(e==null)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(i){return new HmacSha256(i,e)},t.update=function(i,a){return t.create(i).update(a)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);t=!0}for(var r,i=0,a,s=e.length,o=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(a=this.start;i<s&&a<64;++i)o[a>>2]|=e[i]<<SHIFT[a++&3];else for(a=this.start;i<s&&a<64;++i)r=e.charCodeAt(i),r<128?o[a>>2]|=r<<SHIFT[a++&3]:r<2048?(o[a>>2]|=(192|r>>6)<<SHIFT[a++&3],o[a>>2]|=(128|r&63)<<SHIFT[a++&3]):r<55296||r>=57344?(o[a>>2]|=(224|r>>12)<<SHIFT[a++&3],o[a>>2]|=(128|r>>6&63)<<SHIFT[a++&3],o[a>>2]|=(128|r&63)<<SHIFT[a++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++i)&1023),o[a>>2]|=(240|r>>18)<<SHIFT[a++&3],o[a>>2]|=(128|r>>12&63)<<SHIFT[a++&3],o[a>>2]|=(128|r>>6&63)<<SHIFT[a++&3],o[a>>2]|=(128|r&63)<<SHIFT[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=this.blocks,c,u,f,h,d,p,g,m,w,b,S;for(c=16;c<64;++c)d=l[c-15],u=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,d=l[c-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,l[c]=l[c-16]+u+l[c-7]+f<<0;for(S=t&n,c=0;c<64;c+=4)this.first?(this.is224?(m=300032,d=l[0]-1413257819,o=d-150054599<<0,r=d+24177077<<0):(m=704751109,d=l[0]-210244248,o=d-1521486534<<0,r=d+143694565<<0),this.first=!1):(u=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),m=e&t,h=m^e&n^S,g=i&a^~i&s,d=o+f+g+K[c]+l[c],p=u+h,o=r+d<<0,r=d+p<<0),u=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),w=r&e,h=w^r&t^m,g=o&i^~o&a,d=s+f+g+K[c+1]+l[c+1],p=u+h,s=n+d<<0,n=d+p<<0,u=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),b=n&r,h=b^n&e^w,g=s&o^~s&i,d=a+f+g+K[c+2]+l[c+2],p=u+h,a=t+d<<0,t=d+p<<0,u=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),S=t&n,h=S^t&r^b,g=a&s^~a&o,d=i+f+g+K[c+3]+l[c+3],p=u+h,i=e+d<<0,e=d+p<<0;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+o<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15];return this.is224||(l+=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255,a>>24&255,a>>16&255,a>>8&255,a&255,s>>24&255,s>>16&255,s>>8&255,s&255];return this.is224||l.push(o>>24&255,o>>16&255,o>>8&255,o&255),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e};function HmacSha256(e,t,n){var r,i=typeof e;if(i==="string"){var a=[],s=e.length,o=0,l;for(r=0;r<s;++r)l=e.charCodeAt(r),l<128?a[o++]=l:l<2048?(a[o++]=192|l>>6,a[o++]=128|l&63):l<55296||l>=57344?(a[o++]=224|l>>12,a[o++]=128|l>>6&63,a[o++]=128|l&63):(l=65536+((l&1023)<<10|e.charCodeAt(++r)&1023),a[o++]=240|l>>18,a[o++]=128|l>>12&63,a[o++]=128|l>>6&63,a[o++]=128|l&63);e=a}else if(i==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],u=[];for(r=0;r<64;++r){var f=e[r]||0;c[r]=92^f,u[r]=54^f}Sha256.call(this,t,n),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var YE=R(Gp=>{v();(function(e){var t=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,a=/\\/g,s=/\u2028/,o=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(E,_){var C=E.length,P=0,L=1,N=2,j=P,Y=null,le=null,he="",ae=[],Pe=!1,de=0,$=0,z="{{",D="}}";function se(){he.length>0&&(ae.push({tag:"_t",text:new String(he)}),he="")}function Se(){for(var ot=!0,ee=$;ee<ae.length;ee++)if(ot=e.tags[ae[ee].tag]<e.tags._v||ae[ee].tag=="_t"&&ae[ee].text.match(t)===null,!ot)return!1;return ot}function gt(ot,ee){if(se(),ot&&Se())for(var Ie=$,Ee;Ie<ae.length;Ie++)ae[Ie].text&&((Ee=ae[Ie+1])&&Ee.tag==">"&&(Ee.indent=ae[Ie].text.toString()),ae.splice(Ie,1));else ee||ae.push({tag:`
`});Pe=!1,$=ae.length}function be(ot,ee){var Ie="="+D,Ee=ot.indexOf(Ie,ee),G=c(ot.substring(ot.indexOf("=",ee)+1,Ee)).split(" ");return z=G[0],D=G[G.length-1],Ee+Ie.length-1}for(_&&(_=_.split(" "),z=_[0],D=_[1]),de=0;de<C;de++)j==P?u(z,E,de)?(--de,se(),j=L):E.charAt(de)==`
`?gt(Pe):he+=E.charAt(de):j==L?(de+=z.length-1,le=e.tags[E.charAt(de+1)],Y=le?E.charAt(de+1):"_v",Y=="="?(de=be(E,de),j=P):(le&&de++,j=N),Pe=de):u(D,E,de)?(ae.push({tag:Y,n:c(he),otag:z,ctag:D,i:Y=="/"?Pe-z.length:de+D.length}),he="",de+=D.length-1,j=P,Y=="{"&&(D=="}}"?de++:l(ae[ae.length-1]))):he+=E.charAt(de);return gt(Pe,!0),ae};function l(y){y.n.substr(y.n.length-1)==="}"&&(y.n=y.n.substring(0,y.n.length-1))}function c(y){return y.trim?y.trim():y.replace(/^\s*|\s*$/g,"")}function u(y,E,_){if(E.charAt(_)!=y.charAt(0))return!1;for(var C=1,P=y.length;C<P;C++)if(E.charAt(_+C)!=y.charAt(C))return!1;return!0}var f={_t:!0,"\n":!0,$:!0,"/":!0};function h(y,E,_,C){var P=[],L=null,N=null,j=null;for(N=_[_.length-1];y.length>0;){if(j=y.shift(),N&&N.tag=="<"&&!(j.tag in f))throw new Error("Illegal content in < super tag.");if(e.tags[j.tag]<=e.tags.$||d(j,C))_.push(j),j.nodes=h(y,j.tag,_,C);else if(j.tag=="/"){if(_.length===0)throw new Error("Closing tag without opener: /"+j.n);if(L=_.pop(),j.n!=L.n&&!p(j.n,L.n,C))throw new Error("Nesting error: "+L.n+" vs. "+j.n);return L.end=j.i,P}else j.tag==`
`&&(j.last=y.length==0||y[0].tag==`
`);P.push(j)}if(_.length>0)throw new Error("missing closing tag: "+_.pop().n);return P}function d(y,E){for(var _=0,C=E.length;_<C;_++)if(E[_].o==y.n)return y.tag="#",!0}function p(y,E,_){for(var C=0,P=_.length;C<P;C++)if(_[C].c==y&&_[C].o==E)return!0}function g(y){var E=[];for(var _ in y)E.push('"'+b(_)+'": function(c,p,t,i) {'+y[_]+"}");return"{ "+E.join(",")+" }"}function m(y){var E=[];for(var _ in y.partials)E.push('"'+b(_)+'":{name:"'+b(y.partials[_].name)+'", '+m(y.partials[_])+"}");return"partials: {"+E.join(",")+"}, subs: "+g(y.subs)}e.stringify=function(y,E,_){return"{code: function (c,p,i) { "+e.wrapMain(y.code)+" },"+m(y)+"}"};var w=0;e.generate=function(y,E,_){w=0;var C={code:"",subs:{},partials:{}};return e.walk(y,C),_.asString?this.stringify(C,E,_):this.makeTemplate(C,E,_)},e.wrapMain=function(y){return'var t=this;t.b(i=i||"");'+y+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(y,E,_){var C=this.makePartials(y);return C.code=new Function("c","p","i",this.wrapMain(y.code)),new this.template(C,E,this,_)},e.makePartials=function(y){var E,_={subs:{},partials:y.partials,name:y.name};for(E in _.partials)_.partials[E]=this.makePartials(_.partials[E]);for(E in y.subs)_.subs[E]=new Function("c","p","t","i",y.subs[E]);return _};function b(y){return y.replace(a,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r").replace(s,"\\u2028").replace(o,"\\u2029")}function S(y){return~y.indexOf(".")?"d":"f"}function A(y,E){var _="<"+(E.prefix||""),C=_+y.n+w++;return E.partials[C]={name:y.n,partials:{}},E.code+='t.b(t.rp("'+b(C)+'",c,p,"'+(y.indent||"")+'"));',C}e.codegen={"#":function(y,E){E.code+="if(t.s(t."+S(y.n)+'("'+b(y.n)+'",c,p,1),c,p,0,'+y.i+","+y.end+',"'+y.otag+" "+y.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(y.nodes,E),E.code+="});c.pop();}"},"^":function(y,E){E.code+="if(!t.s(t."+S(y.n)+'("'+b(y.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(y.nodes,E),E.code+="};"},">":A,"<":function(y,E){var _={partials:{},code:"",subs:{},inPartial:!0};e.walk(y.nodes,_);var C=E.partials[A(y,E)];C.subs=_.subs,C.partials=_.partials},$:function(y,E){var _={subs:{},code:"",partials:E.partials,prefix:y.n};e.walk(y.nodes,_),E.subs[y.n]=_.code,E.inPartial||(E.code+='t.sub("'+b(y.n)+'",c,p,i);')},"\n":function(y,E){E.code+=k('"\\n"'+(y.last?"":" + i"))},_v:function(y,E){E.code+="t.b(t.v(t."+S(y.n)+'("'+b(y.n)+'",c,p,0)));'},_t:function(y,E){E.code+=k('"'+b(y.text)+'"')},"{":x,"&":x};function x(y,E){E.code+="t.b(t.t(t."+S(y.n)+'("'+b(y.n)+'",c,p,0)));'}function k(y){return"t.b("+y+");"}e.walk=function(y,E){for(var _,C=0,P=y.length;C<P;C++)_=e.codegen[y[C].tag],_&&_(y[C],E);return E},e.parse=function(y,E,_){return _=_||{},h(y,"",[],_.sectionTags||[])},e.cache={},e.cacheKey=function(y,E){return[y,!!E.asString,!!E.disableLambda,E.delimiters,!!E.modelGet].join("||")},e.compile=function(y,E){E=E||{};var _=e.cacheKey(y,E),C=this.cache[_];if(C){var P=C.partials;for(var L in P)delete P[L].instance;return C}return C=this.generate(this.parse(this.scan(y,E.delimiters),y,E),y,E),this.cache[_]=C}})(typeof Gp!="undefined"?Gp:Hogan)});var ZE=R(zp=>{v();var nj={};(function(e){e.Template=function(h,d,p,g){h=h||{},this.r=h.code||this.r,this.c=p,this.options=g||{},this.text=d||"",this.partials=h.partials||{},this.subs=h.subs||{},this.buf=""},e.Template.prototype={r:function(h,d,p){return""},v:u,t:c,render:function(d,p,g){return this.ri([d],p||{},g)},ri:function(h,d,p){return this.r(h,d,p)},ep:function(h,d){var p=this.partials[h],g=d[p.name];if(p.instance&&p.base==g)return p.instance;if(typeof g=="string"){if(!this.c)throw new Error("No compiler available.");g=this.c.compile(g,this.options)}if(!g)return null;if(this.partials[h].base=g,p.subs){d.stackText||(d.stackText={});for(key in p.subs)d.stackText[key]||(d.stackText[key]=this.activeSub!==void 0&&d.stackText[this.activeSub]?d.stackText[this.activeSub]:this.text);g=n(g,p.subs,p.partials,this.stackSubs,this.stackPartials,d.stackText)}return this.partials[h].instance=g,g},rp:function(h,d,p,g){var m=this.ep(h,p);return m?m.ri(d,p,g):""},rs:function(h,d,p){var g=h[h.length-1];if(!f(g)){p(h,d,this);return}for(var m=0;m<g.length;m++)h.push(g[m]),p(h,d,this),h.pop()},s:function(h,d,p,g,m,w,b){var S;return f(h)&&h.length===0?!1:(typeof h=="function"&&(h=this.ms(h,d,p,g,m,w,b)),S=!!h,!g&&S&&d&&d.push(typeof h=="object"?h:d[d.length-1]),S)},d:function(h,d,p,g){var m,w=h.split("."),b=this.f(w[0],d,p,g),S=this.options.modelGet,A=null;if(h==="."&&f(d[d.length-2]))b=d[d.length-1];else for(var x=1;x<w.length;x++)m=t(w[x],b,S),m!==void 0?(A=b,b=m):b="";return g&&!b?!1:(!g&&typeof b=="function"&&(d.push(A),b=this.mv(b,d,p),d.pop()),b)},f:function(h,d,p,g){for(var m=!1,w=null,b=!1,S=this.options.modelGet,A=d.length-1;A>=0;A--)if(w=d[A],m=t(h,w,S),m!==void 0){b=!0;break}return b?(!g&&typeof m=="function"&&(m=this.mv(m,d,p)),m):g?!1:""},ls:function(h,d,p,g,m){var w=this.options.delimiters;return this.options.delimiters=m,this.b(this.ct(c(h.call(d,g)),d,p)),this.options.delimiters=w,!1},ct:function(h,d,p){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(h,this.options).render(d,p)},b:function(h){this.buf+=h},fl:function(){var h=this.buf;return this.buf="",h},ms:function(h,d,p,g,m,w,b){var S,A=d[d.length-1],x=h.call(A);return typeof x=="function"?g?!0:(S=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(x,A,p,S.substring(m,w),b)):x},mv:function(h,d,p){var g=d[d.length-1],m=h.call(g);return typeof m=="function"?this.ct(c(m.call(g)),g,p):m},sub:function(h,d,p,g){var m=this.subs[h];m&&(this.activeSub=h,m(d,p,this,g),this.activeSub=!1)}};function t(h,d,p){var g;return d&&typeof d=="object"&&(d[h]!==void 0?g=d[h]:p&&d.get&&typeof d.get=="function"&&(g=d.get(h))),g}function n(h,d,p,g,m,w){function b(){}b.prototype=h;function S(){}S.prototype=h.subs;var A,x=new b;x.subs=new S,x.subsText={},x.buf="",g=g||{},x.stackSubs=g,x.subsText=w;for(A in d)g[A]||(g[A]=d[A]);for(A in g)x.subs[A]=g[A];m=m||{},x.stackPartials=m;for(A in p)m[A]||(m[A]=p[A]);for(A in m)x.partials[A]=m[A];return x}var r=/&/g,i=/</g,a=/>/g,s=/\'/g,o=/\"/g,l=/[&<>\"\']/;function c(h){return String(h==null?"":h)}function u(h){return h=c(h),l.test(h)?h.replace(r,"&amp;").replace(i,"&lt;").replace(a,"&gt;").replace(s,"&#39;").replace(o,"&quot;"):h}var f=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}})(typeof zp!="undefined"?zp:nj)});var Vp=R((aG,KE)=>{v();var Yc=YE();Yc.Template=ZE().Template;Yc.template=Yc.Template;KE.exports=Yc});var RA=R((lo,sm)=>{v();(function(t,n){typeof lo=="object"&&typeof sm=="object"?sm.exports=n():typeof define=="function"&&define.amd?define([],n):typeof lo=="object"?lo.feather=n():t.feather=n()})(typeof self!="undefined"?self:lo,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:a})},n.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=0)}({"./dist/icons.json":function(e){e.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(e,t,n){var r,i;(function(){"use strict";var a=function(){function s(){}s.prototype=Object.create(null);function o(g,m){for(var w=m.length,b=0;b<w;++b)d(g,m[b])}var l={}.hasOwnProperty;function c(g,m){g[m]=!0}function u(g,m){for(var w in m)l.call(m,w)&&(g[w]=!!m[w])}var f=/\s+/;function h(g,m){for(var w=m.split(f),b=w.length,S=0;S<b;++S)g[w[S]]=!0}function d(g,m){if(m){var w=typeof m;w==="string"?h(g,m):Array.isArray(m)?o(g,m):w==="object"?u(g,m):w==="number"&&c(g,m)}}function p(){for(var g=arguments.length,m=Array(g),w=0;w<g;w++)m[w]=arguments[w];var b=new s;o(b,m);var S=[];for(var A in b)b[A]&&S.push(A);return S.join(" ")}return p}();typeof e!="undefined"&&e.exports?e.exports=a:(r=[],i=function(){return a}.apply(t,r),i!==void 0&&(e.exports=i))})()},"./node_modules/core-js/es/array/from.js":function(e,t,n){n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js");var r=n("./node_modules/core-js/internals/path.js");e.exports=r.Array.from},"./node_modules/core-js/internals/a-function.js":function(e,t){e.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},"./node_modules/core-js/internals/an-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js");e.exports=function(i){if(!r(i))throw TypeError(String(i)+" is not an object");return i}},"./node_modules/core-js/internals/array-from.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/bind-context.js"),i=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),s=n("./node_modules/core-js/internals/is-array-iterator-method.js"),o=n("./node_modules/core-js/internals/to-length.js"),l=n("./node_modules/core-js/internals/create-property.js"),c=n("./node_modules/core-js/internals/get-iterator-method.js");e.exports=function(f){var h=i(f),d=typeof this=="function"?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=g!==void 0,w=0,b=c(h),S,A,x,k;if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),b!=null&&!(d==Array&&s(b)))for(k=b.call(h),A=new d;!(x=k.next()).done;w++)l(A,w,m?a(k,g,[x.value,w],!0):x.value);else for(S=o(h.length),A=new d(S);S>w;w++)l(A,w,m?g(h[w],w):h[w]);return A.length=w,A}},"./node_modules/core-js/internals/array-includes.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/to-length.js"),a=n("./node_modules/core-js/internals/to-absolute-index.js");e.exports=function(s){return function(o,l,c){var u=r(o),f=i(u.length),h=a(c,f),d;if(s&&l!=l){for(;f>h;)if(d=u[h++],d!=d)return!0}else for(;f>h;h++)if((s||h in u)&&u[h]===l)return s||h||0;return!s&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(e,t,n){var r=n("./node_modules/core-js/internals/a-function.js");e.exports=function(i,a,s){if(r(i),a===void 0)return i;switch(s){case 0:return function(){return i.call(a)};case 1:return function(o){return i.call(a,o)};case 2:return function(o,l){return i.call(a,o,l)};case 3:return function(o,l,c){return i.call(a,o,l,c)}}return function(){return i.apply(a,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js");e.exports=function(i,a,s,o){try{return o?a(r(s)[0],s[1]):a(s)}catch(c){var l=i.return;throw l!==void 0&&r(l.call(i)),c}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js"),i=r("iterator"),a=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){a=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch(l){}e.exports=function(l,c){if(!c&&!a)return!1;var u=!1;try{var f={};f[i]=function(){return{next:function(){return{done:u=!0}}}},l(f)}catch(h){}return u}},"./node_modules/core-js/internals/classof-raw.js":function(e,t){var n={}.toString;e.exports=function(r){return n.call(r).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js"),a=i("toStringTag"),s=r(function(){return arguments}())=="Arguments",o=function(l,c){try{return l[c]}catch(u){}};e.exports=function(l){var c,u,f;return l===void 0?"Undefined":l===null?"Null":typeof(u=o(c=Object(l),a))=="string"?u:s?r(c):(f=r(c))=="Object"&&typeof c.callee=="function"?"Arguments":f}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/own-keys.js"),a=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),s=n("./node_modules/core-js/internals/object-define-property.js");e.exports=function(o,l){for(var c=i(l),u=s.f,f=a.f,h=0;h<c.length;h++){var d=c[h];r(o,d)||u(o,d,f(l,d))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,i=n("./node_modules/core-js/internals/object-create.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js"),s=n("./node_modules/core-js/internals/set-to-string-tag.js"),o=n("./node_modules/core-js/internals/iterators.js"),l=function(){return this};e.exports=function(c,u,f){var h=u+" Iterator";return c.prototype=i(r,{next:a(1,f)}),s(c,h,!1,!0),o[h]=l,c}},"./node_modules/core-js/internals/create-property-descriptor.js":function(e,t){e.exports=function(n,r){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:r}}},"./node_modules/core-js/internals/create-property.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-primitive.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(s,o,l){var c=r(o);c in s?i.f(s,c,a(0,l)):s[c]=l}},"./node_modules/core-js/internals/define-iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/create-iterator-constructor.js"),a=n("./node_modules/core-js/internals/object-get-prototype-of.js"),s=n("./node_modules/core-js/internals/object-set-prototype-of.js"),o=n("./node_modules/core-js/internals/set-to-string-tag.js"),l=n("./node_modules/core-js/internals/hide.js"),c=n("./node_modules/core-js/internals/redefine.js"),u=n("./node_modules/core-js/internals/well-known-symbol.js"),f=n("./node_modules/core-js/internals/is-pure.js"),h=n("./node_modules/core-js/internals/iterators.js"),d=n("./node_modules/core-js/internals/iterators-core.js"),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=u("iterator"),w="keys",b="values",S="entries",A=function(){return this};e.exports=function(x,k,y,E,_,C,P){i(y,k,E);var L=function(z){if(z===_&&he)return he;if(!g&&z in Y)return Y[z];switch(z){case w:return function(){return new y(this,z)};case b:return function(){return new y(this,z)};case S:return function(){return new y(this,z)}}return function(){return new y(this)}},N=k+" Iterator",j=!1,Y=x.prototype,le=Y[m]||Y["@@iterator"]||_&&Y[_],he=!g&&le||L(_),ae=k=="Array"&&Y.entries||le,Pe,de,$;if(ae&&(Pe=a(ae.call(new x)),p!==Object.prototype&&Pe.next&&(!f&&a(Pe)!==p&&(s?s(Pe,p):typeof Pe[m]!="function"&&l(Pe,m,A)),o(Pe,N,!0,!0),f&&(h[N]=A))),_==b&&le&&le.name!==b&&(j=!0,he=function(){return le.call(this)}),(!f||P)&&Y[m]!==he&&l(Y,m,he),h[k]=he,_)if(de={values:L(b),keys:C?he:L(w),entries:L(S)},P)for($ in de)(g||j||!($ in Y))&&c(Y,$,de[$]);else r({target:k,proto:!0,forced:g||j},de);return de}},"./node_modules/core-js/internals/descriptors.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/is-object.js"),a=r.document,s=i(a)&&i(a.createElement);e.exports=function(o){return s?a.createElement(o):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=n("./node_modules/core-js/internals/hide.js"),s=n("./node_modules/core-js/internals/redefine.js"),o=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/copy-constructor-properties.js"),c=n("./node_modules/core-js/internals/is-forced.js");e.exports=function(u,f){var h=u.target,d=u.global,p=u.stat,g,m,w,b,S,A;if(d?m=r:p?m=r[h]||o(h,{}):m=(r[h]||{}).prototype,m)for(w in f){if(S=f[w],u.noTargetGet?(A=i(m,w),b=A&&A.value):b=m[w],g=c(d?w:h+(p?".":"#")+w,u.forced),!g&&b!==void 0){if(typeof S==typeof b)continue;l(S,b)}(u.sham||b&&b.sham)&&a(S,"sham",!0),s(m,w,S,u)}}},"./node_modules/core-js/internals/fails.js":function(e,t){e.exports=function(n){try{return!!n()}catch(r){return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js");e.exports=r("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof.js"),i=n("./node_modules/core-js/internals/iterators.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js"),s=a("iterator");e.exports=function(o){if(o!=null)return o[s]||o["@@iterator"]||i[r(o)]}},"./node_modules/core-js/internals/global.js":function(e,t,n){(function(r){var i="object",a=function(s){return s&&s.Math==Math&&s};e.exports=a(typeof globalThis==i&&globalThis)||a(typeof window==i&&window)||a(typeof self==i&&self)||a(typeof r==i&&r)||Function("return this")()}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(r,i){return n.call(r,i)}},"./node_modules/core-js/internals/hidden-keys.js":function(e,t){e.exports={}},"./node_modules/core-js/internals/hide.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=r?function(s,o,l){return i.f(s,o,a(1,l))}:function(s,o,l){return s[o]=l,s}},"./node_modules/core-js/internals/html.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=r.document;e.exports=i&&i.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/document-create-element.js");e.exports=!r&&!i(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),a="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(s){return i(s)=="String"?a.call(s,""):Object(s)}:Object},"./node_modules/core-js/internals/internal-state.js":function(e,t,n){var r=n("./node_modules/core-js/internals/native-weak-map.js"),i=n("./node_modules/core-js/internals/global.js"),a=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/hide.js"),o=n("./node_modules/core-js/internals/has.js"),l=n("./node_modules/core-js/internals/shared-key.js"),c=n("./node_modules/core-js/internals/hidden-keys.js"),u=i.WeakMap,f,h,d,p=function(x){return d(x)?h(x):f(x,{})},g=function(x){return function(k){var y;if(!a(k)||(y=h(k)).type!==x)throw TypeError("Incompatible receiver, "+x+" required");return y}};if(r){var m=new u,w=m.get,b=m.has,S=m.set;f=function(x,k){return S.call(m,x,k),k},h=function(x){return w.call(m,x)||{}},d=function(x){return b.call(m,x)}}else{var A=l("state");c[A]=!0,f=function(x,k){return s(x,A,k),k},h=function(x){return o(x,A)?x[A]:{}},d=function(x){return o(x,A)}}e.exports={set:f,get:h,has:d,enforce:p,getterFor:g}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js"),i=n("./node_modules/core-js/internals/iterators.js"),a=r("iterator"),s=Array.prototype;e.exports=function(o){return o!==void 0&&(i.Array===o||s[a]===o)}},"./node_modules/core-js/internals/is-forced.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=/#|\.prototype\./,a=function(u,f){var h=o[s(u)];return h==c?!0:h==l?!1:typeof f=="function"?r(f):!!f},s=a.normalize=function(u){return String(u).replace(i,".").toLowerCase()},o=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},"./node_modules/core-js/internals/is-object.js":function(e,t){e.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},"./node_modules/core-js/internals/is-pure.js":function(e,t){e.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/object-get-prototype-of.js"),i=n("./node_modules/core-js/internals/hide.js"),a=n("./node_modules/core-js/internals/has.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js"),o=n("./node_modules/core-js/internals/is-pure.js"),l=s("iterator"),c=!1,u=function(){return this},f,h,d;[].keys&&(d=[].keys(),"next"in d?(h=r(r(d)),h!==Object.prototype&&(f=h)):c=!0),f==null&&(f={}),!o&&!a(f,l)&&i(f,l,u),e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:c}},"./node_modules/core-js/internals/iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-to-string.js"),a=r.WeakMap;e.exports=typeof a=="function"&&/native code/.test(i.call(a))},"./node_modules/core-js/internals/object-create.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/object-define-properties.js"),a=n("./node_modules/core-js/internals/enum-bug-keys.js"),s=n("./node_modules/core-js/internals/hidden-keys.js"),o=n("./node_modules/core-js/internals/html.js"),l=n("./node_modules/core-js/internals/document-create-element.js"),c=n("./node_modules/core-js/internals/shared-key.js"),u=c("IE_PROTO"),f="prototype",h=function(){},d=function(){var p=l("iframe"),g=a.length,m="<",w="script",b=">",S="java"+w+":",A;for(p.style.display="none",o.appendChild(p),p.src=String(S),A=p.contentWindow.document,A.open(),A.write(m+w+b+"document.F=Object"+m+"/"+w+b),A.close(),d=A.F;g--;)delete d[f][a[g]];return d()};e.exports=Object.create||function(g,m){var w;return g!==null?(h[f]=r(g),w=new h,h[f]=null,w[u]=g):w=d(),m===void 0?w:i(w,m)},s[u]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),a=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/object-keys.js");e.exports=r?Object.defineProperties:function(l,c){a(l);for(var u=s(c),f=u.length,h=0,d;f>h;)i.f(l,d=u[h++],c[d]);return l}},"./node_modules/core-js/internals/object-define-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/ie8-dom-define.js"),a=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/to-primitive.js"),o=Object.defineProperty;t.f=r?o:function(c,u,f){if(a(c),u=s(u,!0),a(f),i)try{return o(c,u,f)}catch(h){}if("get"in f||"set"in f)throw TypeError("Accessors not supported");return"value"in f&&(c[u]=f.value),c}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),a=n("./node_modules/core-js/internals/create-property-descriptor.js"),s=n("./node_modules/core-js/internals/to-indexed-object.js"),o=n("./node_modules/core-js/internals/to-primitive.js"),l=n("./node_modules/core-js/internals/has.js"),c=n("./node_modules/core-js/internals/ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(h,d){if(h=s(h),d=o(d,!0),c)try{return u(h,d)}catch(p){}if(l(h,d))return a(!i.f.call(h,d),h[d])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js"),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(o){return r(o,a)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/shared-key.js"),s=n("./node_modules/core-js/internals/correct-prototype-getter.js"),o=a("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(c){return c=i(c),r(c,o)?c[o]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?l:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/to-indexed-object.js"),a=n("./node_modules/core-js/internals/array-includes.js"),s=n("./node_modules/core-js/internals/hidden-keys.js"),o=a(!1);e.exports=function(l,c){var u=i(l),f=0,h=[],d;for(d in u)!r(s,d)&&r(u,d)&&h.push(d);for(;c.length>f;)r(u,d=c[f++])&&(~o(h,d)||h.push(d));return h}},"./node_modules/core-js/internals/object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(s){return r(s,i)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(o){var l=i(this,o);return!!l&&l.enumerable}:r},"./node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,a={},s;try{s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,s.call(a,[]),i=a instanceof Array}catch(o){}return function(l,c){return r(l,c),i?s.call(l,c):l.__proto__=c,l}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/object-get-own-property-names.js"),a=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),s=n("./node_modules/core-js/internals/an-object.js"),o=r.Reflect;e.exports=o&&o.ownKeys||function(c){var u=i.f(s(c)),f=a.f;return f?u.concat(f(c)):u}},"./node_modules/core-js/internals/path.js":function(e,t,n){e.exports=n("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/shared.js"),a=n("./node_modules/core-js/internals/hide.js"),s=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/function-to-string.js"),c=n("./node_modules/core-js/internals/internal-state.js"),u=c.get,f=c.enforce,h=String(l).split("toString");i("inspectSource",function(d){return l.call(d)}),(e.exports=function(d,p,g,m){var w=m?!!m.unsafe:!1,b=m?!!m.enumerable:!1,S=m?!!m.noTargetGet:!1;if(typeof g=="function"&&(typeof p=="string"&&!s(g,"name")&&a(g,"name",p),f(g).source=h.join(typeof p=="string"?p:"")),d===r){b?d[p]=g:o(p,g);return}else w?!S&&d[p]&&(b=!0):delete d[p];b?d[p]=g:a(d,p,g)})(Function.prototype,"toString",function(){return typeof this=="function"&&u(this).source||l.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(e,t){e.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},"./node_modules/core-js/internals/set-global.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/hide.js");e.exports=function(a,s){try{i(r,a,s)}catch(o){r[a]=s}return s}},"./node_modules/core-js/internals/set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-define-property.js").f,i=n("./node_modules/core-js/internals/has.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js"),s=a("toStringTag");e.exports=function(o,l,c){o&&!i(o=c?o:o.prototype,s)&&r(o,s,{configurable:!0,value:l})}},"./node_modules/core-js/internals/shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js"),i=n("./node_modules/core-js/internals/uid.js"),a=r("keys");e.exports=function(s){return a[s]||(a[s]=i(s))}},"./node_modules/core-js/internals/shared.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/set-global.js"),a=n("./node_modules/core-js/internals/is-pure.js"),s="__core-js_shared__",o=r[s]||i(s,{});(e.exports=function(l,c){return o[l]||(o[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.1.3",mode:a?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(a,s,o){var l=String(i(a)),c=r(s),u=l.length,f,h;return c<0||c>=u?o?"":void 0:(f=l.charCodeAt(c),f<55296||f>56319||c+1===u||(h=l.charCodeAt(c+1))<56320||h>57343?o?l.charAt(c):f:o?l.slice(c,c+2):(f-55296<<10)+(h-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=Math.max,a=Math.min;e.exports=function(s,o){var l=r(s);return l<0?i(l+o,0):a(l,o)}},"./node_modules/core-js/internals/to-indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/indexed-object.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(a){return r(i(a))}},"./node_modules/core-js/internals/to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(i){return isNaN(i=+i)?0:(i>0?r:n)(i)}},"./node_modules/core-js/internals/to-length.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=Math.min;e.exports=function(a){return a>0?i(r(a),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(i){return Object(r(i))}},"./node_modules/core-js/internals/to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js");e.exports=function(i,a){if(!r(i))return i;var s,o;if(a&&typeof(s=i.toString)=="function"&&!r(o=s.call(i))||typeof(s=i.valueOf)=="function"&&!r(o=s.call(i))||!a&&typeof(s=i.toString)=="function"&&!r(o=s.call(i)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(i){return"Symbol(".concat(i===void 0?"":i,")_",(++n+r).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/an-object.js");e.exports=function(a,s){if(i(a),!r(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/shared.js"),a=n("./node_modules/core-js/internals/uid.js"),s=n("./node_modules/core-js/internals/native-symbol.js"),o=r.Symbol,l=i("wks");e.exports=function(c){return l[c]||(l[c]=s&&o[c]||(s?o:a)("Symbol."+c))}},"./node_modules/core-js/modules/es.array.from.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/array-from.js"),a=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),s=!a(function(o){Array.from(o)});r({target:"Array",stat:!0,forced:s},{from:i})},"./node_modules/core-js/modules/es.string.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/string-at.js"),i=n("./node_modules/core-js/internals/internal-state.js"),a=n("./node_modules/core-js/internals/define-iterator.js"),s="String Iterator",o=i.set,l=i.getterFor(s);a(String,"String",function(c){o(this,{type:s,string:String(c),index:0})},function(){var u=l(this),f=u.string,h=u.index,d;return h>=f.length?{value:void 0,done:!0}:(d=r(f,h,!0),u.index+=d.length,{value:d,done:!1})})},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){typeof window=="object"&&(n=window)}e.exports=n},"./src/default-attrs.json":function(e){e.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(d[m]=g[m])}return d},i=function(){function d(p,g){for(var m=0;m<g.length;m++){var w=g[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,g,m){return g&&d(p.prototype,g),m&&d(p,m),p}}(),a=n("./node_modules/classnames/dedupe.js"),s=c(a),o=n("./src/default-attrs.json"),l=c(o);function c(d){return d&&d.__esModule?d:{default:d}}function u(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var f=function(){function d(p,g){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];u(this,d),this.name=p,this.contents=g,this.tags=m,this.attrs=r({},l.default,{class:"feather feather-"+p})}return i(d,[{key:"toSvg",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=r({},this.attrs,g,{class:(0,s.default)(this.attrs.class,g.class)});return"<svg "+h(m)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),d}();function h(d){return Object.keys(d).map(function(p){return p+'="'+d[p]+'"'}).join(" ")}t.default=f},"./src/icons.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/icon.js"),i=c(r),a=n("./dist/icons.json"),s=c(a),o=n("./src/tags.json"),l=c(o);function c(u){return u&&u.__esModule?u:{default:u}}t.default=Object.keys(s.default).map(function(u){return new i.default(u,s.default[u],l.default[u])}).reduce(function(u,f){return u[f.name]=f,u},{})},"./src/index.js":function(e,t,n){"use strict";var r=n("./src/icons.js"),i=c(r),a=n("./src/to-svg.js"),s=c(a),o=n("./src/replace.js"),l=c(o);function c(u){return u&&u.__esModule?u:{default:u}}e.exports={icons:i.default,toSvg:s.default,replace:l.default}},"./src/replace.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(h){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(h[g]=p[g])}return h},i=n("./node_modules/classnames/dedupe.js"),a=l(i),s=n("./src/icons.js"),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document=="undefined")throw new Error("`feather.replace()` only works in a browser environment.");var d=document.querySelectorAll("[data-feather]");Array.from(d).forEach(function(p){return u(p,h)})}function u(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=f(h),g=p["data-feather"];if(delete p["data-feather"],o.default[g]===void 0){console.warn("feather: '"+g+"' is not a valid icon");return}var m=o.default[g].toSvg(r({},d,p,{class:(0,a.default)(d.class,p.class)})),w=new DOMParser().parseFromString(m,"image/svg+xml"),b=w.querySelector("svg");h.parentNode.replaceChild(b,h)}function f(h){return Array.from(h.attributes).reduce(function(d,p){return d[p.name]=p.value,d},{})}t.default=c},"./src/tags.json":function(e){e.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-buoy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/icons.js"),i=a(r);function a(o){return o&&o.__esModule?o:{default:o}}function s(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!o)throw new Error("The required `key` (icon name) parameter is missing.");if(!i.default[o])throw new Error("No icon matching '"+o+"'. See the complete list of icons at https://feathericons.com");return i.default[o].toSvg(l)}t.default=s},0:function(e,t,n){n("./node_modules/core-js/es/array/from.js"),e.exports=n("./src/index.js")}})})});var cD={};uk(cD,{default:()=>gu});module.exports=fk(cD);v();v();var Za=Xe(Dm(),1),Gf=Xe(Wm(),1),S1=Xe(Xm(),1),qo=Xe(L0(),1),jo=Xe(B0(),1),E1=Xe(q0(),1),fn=Xe(Y0(),1),A1=Xe(e1(),1),ge=class e extends Error{constructor(t){super(t),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(t){let n=new e(t.message);return n.code=t.code,n.data=t.data,n.caller=t.caller,n.stack=t.stack,n}get isIsomorphicGitError(){return!0}},Ka=class e extends ge{constructor(t){super(`Modifying the index is not possible because you have unmerged files: ${t.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=e.code,this.data={filepaths:t}}};Ka.code="UnmergedPathsError";var ue=class e extends ge{constructor(t){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${t}`),this.code=this.name=e.code,this.data={message:t}}};ue.code="InternalError";var Ei=class e extends ge{constructor(t){super(`The filepath "${t}" contains unsafe character sequences`),this.code=this.name=e.code,this.data={filepath:t}}};Ei.code="UnsafeFilepathError";var en=class{constructor(t){this.buffer=t,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(t){this._start=t}slice(t){let n=this.buffer.slice(this._start,this._start+t);return this._start+=t,n}toString(t,n){let r=this.buffer.toString(t,this._start,this._start+n);return this._start+=n,r}write(t,n,r){let i=this.buffer.write(t,this._start,n,r);return this._start+=n,i}copy(t,n,r){let i=t.copy(this.buffer,this._start,n,r);return this._start+=i,i}readUInt8(){let t=this.buffer.readUInt8(this._start);return this._start+=1,t}writeUInt8(t){let n=this.buffer.writeUInt8(t,this._start);return this._start+=1,n}readUInt16BE(){let t=this.buffer.readUInt16BE(this._start);return this._start+=2,t}writeUInt16BE(t){let n=this.buffer.writeUInt16BE(t,this._start);return this._start+=2,n}readUInt32BE(){let t=this.buffer.readUInt32BE(this._start);return this._start+=4,t}writeUInt32BE(t){let n=this.buffer.writeUInt32BE(t,this._start);return this._start+=4,n}};function Xo(e,t){return-(e<t)||+(e>t)}function k1(e,t){return Xo(e.path,t.path)}function T1(e){let t=e>0?e>>12:0;t!==4&&t!==8&&t!==10&&t!==14&&(t=8);let n=e&511;return n&73?n=493:n=420,t!==8&&(n=0),(t<<12)+n}var Tn=2**32;function t1(e,t,n,r){if(e!==void 0&&t!==void 0)return[e,t];n===void 0&&(n=r.valueOf());let i=Math.floor(n/1e3),a=(n-i*1e3)*1e6;return[i,a]}function Ai(e){let[t,n]=t1(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),[r,i]=t1(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime);return{ctimeSeconds:t%Tn,ctimeNanoseconds:n%Tn,mtimeSeconds:r%Tn,mtimeNanoseconds:i%Tn,dev:e.dev%Tn,ino:e.ino%Tn,mode:T1(e.mode%Tn),uid:e.uid%Tn,gid:e.gid%Tn,size:e.size>-1?e.size%Tn:0}}function d5(e){let t="";for(let n of new Uint8Array(e))n<16&&(t+="0"),t+=n.toString(16);return t}var xf=null;async function Un(e){return xf===null&&(xf=await m5()),xf?C1(e):p5(e)}function p5(e){return new Gf.default().update(e).digest("hex")}async function C1(e){let t=await crypto.subtle.digest("SHA-1",e);return d5(t)}async function m5(){try{if(await C1(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709")return!0}catch(e){}return!1}function g5(e){return{assumeValid:!!(e&32768),extended:!!(e&16384),stage:(e&12288)>>12,nameLength:e&4095}}function y5(e){let t=e.flags;return t.extended=!1,t.nameLength=Math.min(Buffer.from(e.path).length,4095),(t.assumeValid?32768:0)+(t.extended?16384:0)+((t.stage&3)<<12)+(t.nameLength&4095)}var Mf=class e{constructor(t,n){this._dirty=!1,this._unmergedPaths=n||new Set,this._entries=t||new Map}_addEntry(t){if(t.flags.stage===0)t.stages=[t],this._entries.set(t.path,t),this._unmergedPaths.delete(t.path);else{let n=this._entries.get(t.path);n||(this._entries.set(t.path,t),n=t),n.stages[t.flags.stage]=t,this._unmergedPaths.add(t.path)}}static async from(t){if(Buffer.isBuffer(t))return e.fromBuffer(t);if(t===null)return new e(null);throw new ue("invalid type passed to GitIndex.from")}static async fromBuffer(t){if(t.length===0)throw new ue("Index file is empty (.git/index)");let n=new e,r=new en(t),i=r.toString("utf8",4);if(i!=="DIRC")throw new ue(`Invalid dircache magic file number: ${i}`);let a=await Un(t.slice(0,-20)),s=t.slice(-20).toString("hex");if(s!==a)throw new ue(`Invalid checksum in GitIndex buffer: expected ${s} but saw ${a}`);let o=r.readUInt32BE();if(o!==2)throw new ue(`Unsupported dircache version: ${o}`);let l=r.readUInt32BE(),c=0;for(;!r.eof()&&c<l;){let u={};u.ctimeSeconds=r.readUInt32BE(),u.ctimeNanoseconds=r.readUInt32BE(),u.mtimeSeconds=r.readUInt32BE(),u.mtimeNanoseconds=r.readUInt32BE(),u.dev=r.readUInt32BE(),u.ino=r.readUInt32BE(),u.mode=r.readUInt32BE(),u.uid=r.readUInt32BE(),u.gid=r.readUInt32BE(),u.size=r.readUInt32BE(),u.oid=r.slice(20).toString("hex");let f=r.readUInt16BE();u.flags=g5(f);let h=t.indexOf(0,r.tell()+1)-r.tell();if(h<1)throw new ue(`Got a path length of: ${h}`);if(u.path=r.toString("utf8",h),u.path.includes("..\\")||u.path.includes("../"))throw new Ei(u.path);let d=8-(r.tell()-12)%8;for(d===0&&(d=8);d--;){let p=r.readUInt8();if(p!==0)throw new ue(`Expected 1-8 null characters but got '${p}' after ${u.path}`);if(r.eof())throw new ue("Unexpected end of file")}u.stages=[],n._addEntry(u),c++}return n}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(k1)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(t=>t.stages.length>1?t.stages.filter(n=>n):t)}*[Symbol.iterator](){for(let t of this.entries)yield t}insert({filepath:t,stats:n,oid:r,stage:i=0}){n||(n={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),n=Ai(n);let a=Buffer.from(t),s={ctimeSeconds:n.ctimeSeconds,ctimeNanoseconds:n.ctimeNanoseconds,mtimeSeconds:n.mtimeSeconds,mtimeNanoseconds:n.mtimeNanoseconds,dev:n.dev,ino:n.ino,mode:n.mode||33188,uid:n.uid,gid:n.gid,size:n.size,path:t,oid:r,flags:{assumeValid:!1,extended:!1,stage:i,nameLength:a.length<4095?a.length:4095},stages:[]};this._addEntry(s),this._dirty=!0}delete({filepath:t}){if(this._entries.has(t))this._entries.delete(t);else for(let n of this._entries.keys())n.startsWith(t+"/")&&this._entries.delete(n);this._unmergedPaths.has(t)&&this._unmergedPaths.delete(t),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath:t}){return this._entries.has(t)}render(){return this.entries.map(t=>`${t.mode.toString(8)} ${t.oid}    ${t.path}`).join(`
`)}static async _entryToBuffer(t){let n=Buffer.from(t.path),r=Math.ceil((62+n.length+1)/8)*8,i=Buffer.alloc(r),a=new en(i),s=Ai(t);return a.writeUInt32BE(s.ctimeSeconds),a.writeUInt32BE(s.ctimeNanoseconds),a.writeUInt32BE(s.mtimeSeconds),a.writeUInt32BE(s.mtimeNanoseconds),a.writeUInt32BE(s.dev),a.writeUInt32BE(s.ino),a.writeUInt32BE(s.mode),a.writeUInt32BE(s.uid),a.writeUInt32BE(s.gid),a.writeUInt32BE(s.size),a.write(t.oid,20,"hex"),a.writeUInt16BE(y5(t)),a.write(t.path,n.length,"utf8"),i}async toObject(){let t=Buffer.alloc(12),n=new en(t);n.write("DIRC",4,"utf8"),n.writeUInt32BE(2),n.writeUInt32BE(this.entriesFlat.length);let r=[];for(let o of this.entries)if(r.push(e._entryToBuffer(o)),o.stages.length>1)for(let l of o.stages)l&&l!==o&&r.push(e._entryToBuffer(l));r=await Promise.all(r);let i=Buffer.concat(r),a=Buffer.concat([t,i]),s=await Un(a);return Buffer.concat([a,Buffer.from(s,"hex")])}};function Do(e,t,n=!0,r=!0){let i=Ai(e),a=Ai(t);return n&&i.mode!==a.mode||i.mtimeSeconds!==a.mtimeSeconds||i.ctimeSeconds!==a.ctimeSeconds||i.uid!==a.uid||i.gid!==a.gid||r&&i.ino!==a.ino||i.size!==a.size}var _f=null,_i=Symbol("IndexCache");function v5(){return{map:new Map,stats:new Map}}async function w5(e,t,n){let r=await e.lstat(t),i=await e.read(t),a=await Mf.from(i);n.map.set(t,a),n.stats.set(t,r)}async function b5(e,t,n){let r=n.stats.get(t);if(r===void 0)return!0;let i=await e.lstat(t);return r===null||i===null?!1:Do(r,i)}var ct=class{static async acquire({fs:t,gitdir:n,cache:r,allowUnmerged:i=!0},a){r[_i]||(r[_i]=v5());let s=`${n}/index`;_f===null&&(_f=new Za.default({maxPending:1/0}));let o,l=[];return await _f.acquire(s,async()=>{await b5(t,s,r[_i])&&await w5(t,s,r[_i]);let c=r[_i].map.get(s);if(l=c.unmergedPaths,l.length&&!i)throw new Ka(l);if(o=await a(c),c._dirty){let u=await c.toObject();await t.write(s,u),r[_i].stats.set(s,await t.lstat(s)),c._dirty=!1}}),o}};function Bo(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>-1&&(e=e.slice(t+1)),e}function ki(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t===-1?".":t===0?"/":e.slice(0,t)}function F1(e){let t=new Map,n=function(i){if(!t.has(i)){let a={type:"tree",fullpath:i,basename:Bo(i),metadata:{},children:[]};t.set(i,a),a.parent=n(ki(i)),a.parent&&a.parent!==a&&a.parent.children.push(a)}return t.get(i)},r=function(i,a){if(!t.has(i)){let s={type:"blob",fullpath:i,basename:Bo(i),metadata:a,parent:n(ki(i)),children:[]};s.parent&&s.parent.children.push(s),t.set(i,s)}return t.get(i)};n(".");for(let i of e)r(i.path,i);return t}function x5(e){switch(e){case 16384:return"tree";case 33188:return"blob";case 33261:return"blob";case 40960:return"blob";case 57344:return"commit"}throw new ue(`Unexpected GitTree entry mode: ${e.toString(8)}`)}var Of=class{constructor({fs:t,gitdir:n,cache:r}){this.treePromise=ct.acquire({fs:t,gitdir:n,cache:r},async function(a){return F1(a.entries)});let i=this;this.ConstructEntry=class{constructor(s){this._fullpath=s,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return i.type(this)}async mode(){return i.mode(this)}async stat(){return i.stat(this)}async content(){return i.content(this)}async oid(){return i.oid(this)}}}async readdir(t){let n=t._fullpath,i=(await this.treePromise).get(n);if(!i||i.type==="blob")return null;if(i.type!=="tree")throw new Error(`ENOTDIR: not a directory, scandir '${n}'`);let a=i.children.map(s=>s.fullpath);return a.sort(Xo),a}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){let r=(await this.treePromise).get(t._fullpath);if(!r)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);let i=r.type==="tree"?{}:Ai(r.metadata);t._type=r.type==="tree"?"tree":x5(i.mode),t._mode=i.mode,r.type==="tree"?t._stat=void 0:t._stat=i}return t._stat}async content(t){}async oid(t){if(t._oid===!1){let r=(await this.treePromise).get(t._fullpath);t._oid=r.metadata.oid}return t._oid}},Yo=Symbol("GitWalkSymbol");function Zo(){let e=Object.create(null);return Object.defineProperty(e,Yo,{value:function({fs:t,gitdir:n,cache:r}){return new Of({fs:t,gitdir:n,cache:r})}}),Object.freeze(e),e}var Re=class e extends ge{constructor(t){super(`Could not find ${t}.`),this.code=this.name=e.code,this.data={what:t}}};Re.code="NotFoundError";var At=class e extends ge{constructor(t,n,r,i){super(`Object ${t} ${i?`at ${i}`:""}was anticipated to be a ${r} but it is a ${n}.`),this.code=this.name=e.code,this.data={oid:t,actual:n,expected:r,filepath:i}}};At.code="ObjectTypeError";var cr=class e extends ge{constructor(t){super(`Expected a 40-char hex object id but saw "${t}".`),this.code=this.name=e.code,this.data={value:t}}};cr.code="InvalidOidError";var Ja=class e extends ge{constructor(t){super(`Could not find a fetch refspec for remote "${t}". Make sure the config file has an entry like the following:
[remote "${t}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=e.code,this.data={remote:t}}};Ja.code="NoRefspecError";var No=class e{constructor(t){if(this.refs=new Map,this.parsedConfig=[],t){let n=null;this.parsedConfig=t.trim().split(`
`).map(r=>{if(/^\s*#/.test(r))return{line:r,comment:!0};let i=r.indexOf(" ");if(r.startsWith("^")){let a=r.slice(1);return this.refs.set(n+"^{}",a),{line:r,ref:n,peeled:a}}else{let a=r.slice(0,i);return n=r.slice(i+1),this.refs.set(n,a),{line:r,ref:n,oid:a}}})}return this}static from(t){return new e(t)}delete(t){this.parsedConfig=this.parsedConfig.filter(n=>n.ref!==t),this.refs.delete(t)}toString(){return this.parsedConfig.map(({line:t})=>t).join(`
`)+`
`}},$o=class e{constructor({remotePath:t,localPath:n,force:r,matchPrefix:i}){Object.assign(this,{remotePath:t,localPath:n,force:r,matchPrefix:i})}static from(t){let[n,r,i,a,s]=t.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),o=n==="+",l=i==="*";if(l!==(s==="*"))throw new ue("Invalid refspec");return new e({remotePath:r,localPath:a,force:o,matchPrefix:l})}translate(t){if(this.matchPrefix){if(t.startsWith(this.remotePath))return this.localPath+t.replace(this.remotePath,"")}else if(t===this.remotePath)return this.localPath;return null}reverseTranslate(t){if(this.matchPrefix){if(t.startsWith(this.localPath))return this.remotePath+t.replace(this.localPath,"")}else if(t===this.localPath)return this.remotePath;return null}},If=class e{constructor(t=[]){this.rules=t}static from(t){let n=[];for(let r of t)n.push($o.from(r));return new e(n)}add(t){let n=$o.from(t);this.rules.push(n)}translate(t){let n=[];for(let r of this.rules)for(let i of t){let a=r.translate(i);a&&n.push([i,a])}return n}translateOne(t){let n=null;for(let r of this.rules){let i=r.translate(t);i&&(n=i)}return n}localNamespaces(){return this.rules.filter(t=>t.matchPrefix).map(t=>t.localPath.replace(/\/$/,""))}};function _5(e,t){let n=e.replace(/\^\{\}$/,""),r=t.replace(/\^\{\}$/,""),i=-(n<r)||+(n>r);return i===0?e.endsWith("^{}")?1:-1:i}var n1=new Map;function r1(e){let t=n1.get(e);return t||(t=S5(e),n1.set(e,t)),t}function S5(e){return e=e.split("/./").join("/").replace(/\/{2,}/g,"/"),e==="/."?"/":e==="./"||(e.startsWith("./")&&(e=e.slice(2)),e.endsWith("/.")&&(e=e.slice(0,-2)),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1)),e==="")?".":e}function B(...e){return r1(e.map(r1).join("/"))}var E5=e=>{e=e.toLowerCase();let t=parseInt(e);return e.endsWith("k")&&(t*=1024),e.endsWith("m")&&(t*=1024*1024),e.endsWith("g")&&(t*=1024*1024*1024),t},Ya=e=>{if(e=e.trim().toLowerCase(),e==="true"||e==="yes"||e==="on")return!0;if(e==="false"||e==="no"||e==="off")return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${e}`)},i1={core:{filemode:Ya,bare:Ya,logallrefupdates:Ya,symlinks:Ya,ignorecase:Ya,bigFileThreshold:E5}},A5=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,k5=/^[A-Za-z0-9-.]+$/,T5=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,C5=/^[A-Za-z][A-Za-z-]*$/,F5=/^(.*?)( *[#;].*)$/,P5=e=>{let t=A5.exec(e);if(t!=null){let[n,r]=t.slice(1);return[n,r]}return null},M5=e=>{let t=T5.exec(e);if(t!=null){let[n,r="true"]=t.slice(1),i=O5(r),a=I5(i);return[n,a]}return null},O5=e=>{let t=F5.exec(e);if(t==null)return e;let[n,r]=t.slice(1);return a1(n)&&a1(r)?`${n}${r}`:n},a1=e=>(e.match(/(?:^|[^\\])"/g)||[]).length%2!==0,I5=e=>e.split("").reduce((t,n,r,i)=>{let a=n==='"'&&i[r-1]!=="\\",s=n==="\\"&&i[r+1]==='"';return a||s?t:t+n},""),s1=e=>e!=null?e.toLowerCase():null,Rf=(e,t,n)=>[s1(e),t,s1(n)].filter(r=>r!=null).join("."),o1=e=>{let t=e.split("."),n=t.shift(),r=t.pop(),i=t.length?t.join("."):void 0;return{section:n,subsection:i,name:r,path:Rf(n,i,r),sectionPath:Rf(n,i,null)}},R5=(e,t)=>e.reduce((n,r,i)=>t(r)?i:n,-1),Lf=class e{constructor(t){let n=null,r=null;this.parsedConfig=t?t.split(`
`).map(i=>{let a=null,s=null,o=i.trim(),l=P5(o),c=l!=null;if(c)[n,r]=l;else{let f=M5(o);f!=null&&([a,s]=f)}let u=Rf(n,r,a);return{line:i,isSection:c,section:n,subsection:r,name:a,value:s,path:u}}):[]}static from(t){return new e(t)}async get(t,n=!1){let r=o1(t).path,i=this.parsedConfig.filter(a=>a.path===r).map(({section:a,name:s,value:o})=>{let l=i1[a]&&i1[a][s];return l?l(o):o});return n?i:i.pop()}async getall(t){return this.get(t,!0)}async getSubsections(t){return this.parsedConfig.filter(n=>n.section===t&&n.isSection).map(n=>n.subsection)}async deleteSection(t,n){this.parsedConfig=this.parsedConfig.filter(r=>!(r.section===t&&r.subsection===n))}async append(t,n){return this.set(t,n,!0)}async set(t,n,r=!1){let{section:i,subsection:a,name:s,path:o,sectionPath:l}=o1(t),c=R5(this.parsedConfig,u=>u.path===o);if(n==null)c!==-1&&this.parsedConfig.splice(c,1);else if(c!==-1){let u=this.parsedConfig[c],f=Object.assign({},u,{name:s,value:n,modified:!0});r?this.parsedConfig.splice(c+1,0,f):this.parsedConfig[c]=f}else{let u=this.parsedConfig.findIndex(h=>h.path===l),f={section:i,subsection:a,name:s,value:n,modified:!0,path:o};if(k5.test(i)&&C5.test(s))if(u>=0)this.parsedConfig.splice(u+1,0,f);else{let h={section:i,subsection:a,modified:!0,path:l};this.parsedConfig.push(h,f)}}}toString(){return this.parsedConfig.map(({line:t,section:n,subsection:r,name:i,value:a,modified:s=!1})=>s?i!=null&&a!=null?typeof a=="string"&&/[#;]/.test(a)?`	${i} = "${a}"`:`	${i} = ${a}`:r!=null?`[${n} "${r}"]`:`[${n}]`:t).join(`
`)}},Ve=class{static async get({fs:t,gitdir:n}){let r=await t.read(`${n}/config`,{encoding:"utf8"});return Lf.from(r)}static async save({fs:t,gitdir:n,config:r}){await t.write(`${n}/config`,r.toString(),{encoding:"utf8"})}},Ro=e=>[`${e}`,`refs/${e}`,`refs/tags/${e}`,`refs/heads/${e}`,`refs/remotes/${e}`,`refs/remotes/${e}/HEAD`],L5=["config","description","index","shallow","commondir"],Sf;async function sr(e,t){return Sf===void 0&&(Sf=new Za.default),Sf.acquire(e,t)}var q=class e{static async updateRemoteRefs({fs:t,gitdir:n,remote:r,refs:i,symrefs:a,tags:s,refspecs:o=void 0,prune:l=!1,pruneTags:c=!1}){for(let m of i.values())if(!m.match(/[0-9a-f]{40}/))throw new cr(m);let u=await Ve.get({fs:t,gitdir:n});if(!o){if(o=await u.getall(`remote.${r}.fetch`),o.length===0)throw new Ja(r);o.unshift(`+HEAD:refs/remotes/${r}/HEAD`)}let f=If.from(o),h=new Map;if(c){let m=await e.listRefs({fs:t,gitdir:n,filepath:"refs/tags"});await e.deleteRefs({fs:t,gitdir:n,refs:m.map(w=>`refs/tags/${w}`)})}if(s){for(let m of i.keys())if(m.startsWith("refs/tags")&&!m.endsWith("^{}")&&!await e.exists({fs:t,gitdir:n,ref:m})){let w=i.get(m);h.set(m,w)}}let d=f.translate([...i.keys()]);for(let[m,w]of d){let b=i.get(m);h.set(w,b)}let p=f.translate([...a.keys()]);for(let[m,w]of p){let b=a.get(m),S=f.translateOne(b);S&&h.set(w,`ref: ${S}`)}let g=[];if(l){for(let m of f.localNamespaces()){let w=(await e.listRefs({fs:t,gitdir:n,filepath:m})).map(b=>`${m}/${b}`);for(let b of w)h.has(b)||g.push(b)}g.length>0&&await e.deleteRefs({fs:t,gitdir:n,refs:g})}for(let[m,w]of h)await sr(m,async()=>t.write(B(n,m),`${w.trim()}
`,"utf8"));return{pruned:g}}static async writeRef({fs:t,gitdir:n,ref:r,value:i}){if(!i.match(/[0-9a-f]{40}/))throw new cr(i);await sr(r,async()=>t.write(B(n,r),`${i.trim()}
`,"utf8"))}static async writeSymbolicRef({fs:t,gitdir:n,ref:r,value:i}){await sr(r,async()=>t.write(B(n,r),`ref: ${i.trim()}
`,"utf8"))}static async deleteRef({fs:t,gitdir:n,ref:r}){return e.deleteRefs({fs:t,gitdir:n,refs:[r]})}static async deleteRefs({fs:t,gitdir:n,refs:r}){await Promise.all(r.map(o=>t.rm(B(n,o))));let i=await sr("packed-refs",async()=>t.read(`${n}/packed-refs`,{encoding:"utf8"})),a=No.from(i),s=a.refs.size;for(let o of r)a.refs.has(o)&&a.delete(o);a.refs.size<s&&(i=a.toString(),await sr("packed-refs",async()=>t.write(`${n}/packed-refs`,i,{encoding:"utf8"})))}static async resolve({fs:t,gitdir:n,ref:r,depth:i=void 0}){if(i!==void 0&&(i--,i===-1))return r;if(r.startsWith("ref: "))return r=r.slice(5),e.resolve({fs:t,gitdir:n,ref:r,depth:i});if(r.length===40&&/[0-9a-f]{40}/.test(r))return r;let a=await e.packedRefs({fs:t,gitdir:n}),s=Ro(r).filter(o=>!L5.includes(o));for(let o of s){let l=await sr(o,async()=>await t.read(`${n}/${o}`,{encoding:"utf8"})||a.get(o));if(l)return e.resolve({fs:t,gitdir:n,ref:l.trim(),depth:i})}throw new Re(r)}static async exists({fs:t,gitdir:n,ref:r}){try{return await e.expand({fs:t,gitdir:n,ref:r}),!0}catch(i){return!1}}static async expand({fs:t,gitdir:n,ref:r}){if(r.length===40&&/[0-9a-f]{40}/.test(r))return r;let i=await e.packedRefs({fs:t,gitdir:n}),a=Ro(r);for(let s of a)if(await sr(s,async()=>t.exists(`${n}/${s}`))||i.has(s))return s;throw new Re(r)}static async expandAgainstMap({ref:t,map:n}){let r=Ro(t);for(let i of r)if(await n.has(i))return i;throw new Re(t)}static resolveAgainstMap({ref:t,fullref:n=t,depth:r=void 0,map:i}){if(r!==void 0&&(r--,r===-1))return{fullref:n,oid:t};if(t.startsWith("ref: "))return t=t.slice(5),e.resolveAgainstMap({ref:t,fullref:n,depth:r,map:i});if(t.length===40&&/[0-9a-f]{40}/.test(t))return{fullref:n,oid:t};let a=Ro(t);for(let s of a){let o=i.get(s);if(o)return e.resolveAgainstMap({ref:o.trim(),fullref:s,depth:r,map:i})}throw new Re(t)}static async packedRefs({fs:t,gitdir:n}){let r=await sr("packed-refs",async()=>t.read(`${n}/packed-refs`,{encoding:"utf8"}));return No.from(r).refs}static async listRefs({fs:t,gitdir:n,filepath:r}){let i=e.packedRefs({fs:t,gitdir:n}),a=null;try{a=await t.readdirDeep(`${n}/${r}`),a=a.map(s=>s.replace(`${n}/${r}/`,""))}catch(s){a=[]}for(let s of(await i).keys())s.startsWith(r)&&(s=s.replace(r+"/",""),a.includes(s)||a.push(s));return a.sort(_5),a}static async listBranches({fs:t,gitdir:n,remote:r}){return r?e.listRefs({fs:t,gitdir:n,filepath:`refs/remotes/${r}`}):e.listRefs({fs:t,gitdir:n,filepath:"refs/heads"})}static async listTags({fs:t,gitdir:n}){return(await e.listRefs({fs:t,gitdir:n,filepath:"refs/tags"})).filter(i=>!i.endsWith("^{}"))}};function j5(e,t){return Xo(l1(e),l1(t))}function l1(e){return e.mode==="040000"?e.path+"/":e.path}function P1(e){switch(e){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new ue(`Unexpected GitTree entry mode: ${e}`)}function D5(e){let t=[],n=0;for(;n<e.length;){let r=e.indexOf(32,n);if(r===-1)throw new ue(`GitTree: Error parsing buffer at byte location ${n}: Could not find the next space character.`);let i=e.indexOf(0,n);if(i===-1)throw new ue(`GitTree: Error parsing buffer at byte location ${n}: Could not find the next null character.`);let a=e.slice(n,r).toString("utf8");a==="40000"&&(a="040000");let s=P1(a),o=e.slice(r+1,i).toString("utf8");if(o.includes("\\")||o.includes("/"))throw new Ei(o);let l=e.slice(i+1,i+21).toString("hex");n=i+21,t.push({mode:a,path:o,oid:l,type:s})}return t}function B5(e){if(typeof e=="number"&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new ue(`Could not understand file mode: ${e}`)}function N5(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=B5(e.mode),e.type||(e.type=P1(e.mode)),e}var It=class e{constructor(t){if(Buffer.isBuffer(t))this._entries=D5(t);else if(Array.isArray(t))this._entries=t.map(N5);else throw new ue("invalid type passed to GitTree constructor");this._entries.sort(k1)}static from(t){return new e(t)}render(){return this._entries.map(t=>`${t.mode} ${t.type} ${t.oid}    ${t.path}`).join(`
`)}toObject(){let t=[...this._entries];return t.sort(j5),Buffer.concat(t.map(n=>{let r=Buffer.from(n.mode.replace(/^0/,"")),i=Buffer.from(" "),a=Buffer.from(n.path,"utf8"),s=Buffer.from([0]),o=Buffer.from(n.oid,"hex");return Buffer.concat([r,i,a,s,o])}))}entries(){return this._entries}*[Symbol.iterator](){for(let t of this._entries)yield t}},ur=class{static wrap({type:t,object:n}){return Buffer.concat([Buffer.from(`${t} ${n.byteLength.toString()}\0`),Buffer.from(n)])}static unwrap(t){let n=t.indexOf(32),r=t.indexOf(0),i=t.slice(0,n).toString("utf8"),a=t.slice(n+1,r).toString("utf8"),s=t.length-(r+1);if(parseInt(a)!==s)throw new ue(`Length mismatch: expected ${a} bytes but got ${s} instead.`);return{type:i,object:Buffer.from(t.slice(r+1))}}};async function $5({fs:e,gitdir:t,oid:n}){let r=`objects/${n.slice(0,2)}/${n.slice(2)}`,i=await e.read(`${t}/${r}`);return i?{object:i,format:"deflated",source:r}:null}function H5(e,t){let n=new en(e),r=c1(n);if(r!==t.byteLength)throw new ue(`applyDelta expected source buffer to be ${r} bytes but the provided buffer was ${t.length} bytes`);let i=c1(n),a,s=f1(n,t);if(s.byteLength===i)a=s;else{a=Buffer.alloc(i);let o=new en(a);for(o.copy(s);!n.eof();)o.copy(f1(n,t));let l=o.tell();if(i!==l)throw new ue(`applyDelta expected target buffer to be ${i} bytes but the resulting buffer was ${l} bytes`)}return a}function c1(e){let t=0,n=0,r=null;do r=e.readUInt8(),t|=(r&127)<<n,n+=7;while(r&128);return t}function u1(e,t,n){let r=0,i=0;for(;n--;)t&1&&(r|=e.readUInt8()<<i),t>>=1,i+=8;return r}function f1(e,t){let n=e.readUInt8(),r=128,i=15,a=112;if(n&r){let s=u1(e,n&i,4),o=u1(e,(n&a)>>4,3);return o===0&&(o=65536),t.slice(s,s+o)}else return e.slice(n)}function U5(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function M1(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:U5(e)}var Ho=class{constructor(t){if(typeof Buffer=="undefined")throw new Error("Missing Buffer dependency");this.stream=M1(t),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(t){if(!this.eof())return this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t),this.buffer.slice(this.undoCursor,this.cursor)}async skip(t){this.eof()||(this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:t,value:n}=await this.stream.next();return t&&(this._ended=!0,!n)?Buffer.alloc(0):(n&&(n=Buffer.from(n)),n)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(t){this.undoCursor=this.cursor,this.cursor+=t,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(t){if(this._ended)return;let n=[this.buffer];for(;this.cursor+t>G5(n);){let r=await this._next();if(this._ended)break;n.push(r)}this.buffer=Buffer.concat(n)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}};function G5(e){return e.reduce((t,n)=>t+n.length,0)}async function z5(e,t){let n=new Ho(e),r=await n.read(4);if(r=r.toString("utf8"),r!=="PACK")throw new ue(`Invalid PACK header '${r}'`);let i=await n.read(4);if(i=i.readUInt32BE(0),i!==2)throw new ue(`Invalid packfile version: ${i}`);let a=await n.read(4);if(a=a.readUInt32BE(0),!(a<1))for(;!n.eof()&&a--;){let s=n.tell(),{type:o,length:l,ofs:c,reference:u}=await V5(n),f=new qo.default.Inflate;for(;!f.result;){let h=await n.chunk();if(!h)break;if(f.push(h,!1),f.err)throw new ue(`Pako error: ${f.msg}`);if(f.result){if(f.result.length!==l)throw new ue("Inflated object size is different from that stated in packfile.");await n.undo(),await n.read(h.length-f.strm.avail_in);let d=n.tell();await t({data:f.result,type:o,num:a,offset:s,end:d,reference:u,ofs:c})}}}}async function V5(e){let t=await e.byte(),n=t>>4&7,r=t&15;if(t&128){let s=4;do t=await e.byte(),r|=(t&127)<<s,s+=7;while(t&128)}let i,a;if(n===6){let s=0;i=0;let o=[];do t=await e.byte(),i|=(t&127)<<s,s+=7,o.push(t);while(t&128);a=Buffer.from(o)}return n===7&&(a=await e.read(20)),{type:n,length:r,ofs:i,reference:a}}var Ef=!1;async function O1(e){return Ef===null&&(Ef=q5()),Ef?W5(e):qo.default.inflate(e)}async function W5(e){let t=new DecompressionStream("deflate"),n=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(n).arrayBuffer())}function q5(){try{if(new DecompressionStream("deflate"))return!0}catch(e){}return!1}function X5(e){let t=[],n=0,r=0;do{n=e.readUInt8();let i=n&127;t.push(i),r=n&128}while(r);return t.reduce((i,a)=>i+1<<7|a,-1)}function Y5(e,t){let n=t,r=4,i=null;do i=e.readUInt8(),n|=(i&127)<<r,r+=7;while(i&128);return n}var Qa=class e{constructor(t){Object.assign(this,t),this.offsetCache={}}static async fromIdx({idx:t,getExternalRefDelta:n}){let r=new en(t);if(r.slice(4).toString("hex")!=="ff744f63")return;let a=r.readUInt32BE();if(a!==2)throw new ue(`Unable to read version ${a} packfile IDX. (Only version 2 supported)`);if(t.byteLength>2048*1024*1024)throw new ue("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");r.seek(r.tell()+4*255);let s=r.readUInt32BE(),o=[];for(let u=0;u<s;u++){let f=r.slice(20).toString("hex");o[u]=f}r.seek(r.tell()+4*s);let l=new Map;for(let u=0;u<s;u++)l.set(o[u],r.readUInt32BE());let c=r.slice(20).toString("hex");return new e({hashes:o,crcs:{},offsets:l,packfileSha:c,getExternalRefDelta:n})}static async fromPack({pack:t,getExternalRefDelta:n,onProgress:r}){let i={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},a={},s=t.slice(-20).toString("hex"),o=[],l={},c=new Map,u=null,f=null;await z5([t],async({data:m,type:w,reference:b,offset:S,num:A})=>{u===null&&(u=A);let x=Math.floor((u-A)*100/u);x!==f&&r&&await r({phase:"Receiving objects",loaded:u-A,total:u}),f=x,w=i[w],["commit","tree","blob","tag"].includes(w)?a[S]={type:w,offset:S}:w==="ofs-delta"?a[S]={type:w,offset:S}:w==="ref-delta"&&(a[S]={type:w,offset:S})});let h=Object.keys(a).map(Number);for(let[m,w]of h.entries()){let b=m+1===h.length?t.byteLength-20:h[m+1],S=a[w],A=S1.default.buf(t.slice(w,b))>>>0;S.end=b,S.crc=A}let d=new e({pack:Promise.resolve(t),packfileSha:s,crcs:l,hashes:o,offsets:c,getExternalRefDelta:n});f=null;let p=0,g=[0,0,0,0,0,0,0,0,0,0,0,0];for(let m in a){m=Number(m);let w=Math.floor(p*100/u);w!==f&&r&&await r({phase:"Resolving deltas",loaded:p,total:u}),p++,f=w;let b=a[m];if(!b.oid)try{d.readDepth=0,d.externalReadDepth=0;let{type:S,object:A}=await d.readSlice({start:m});g[d.readDepth]+=1;let x=await Un(ur.wrap({type:S,object:A}));b.oid=x,o.push(x),c.set(x,m),l[x]=b.crc}catch(S){continue}}return o.sort(),d}async toBuffer(){let t=[],n=(c,u)=>{t.push(Buffer.from(c,u))};n("ff744f63","hex"),n("00000002","hex");let r=new en(Buffer.alloc(256*4));for(let c=0;c<256;c++){let u=0;for(let f of this.hashes)parseInt(f.slice(0,2),16)<=c&&u++;r.writeUInt32BE(u)}t.push(r.buffer);for(let c of this.hashes)n(c,"hex");let i=new en(Buffer.alloc(this.hashes.length*4));for(let c of this.hashes)i.writeUInt32BE(this.crcs[c]);t.push(i.buffer);let a=new en(Buffer.alloc(this.hashes.length*4));for(let c of this.hashes)a.writeUInt32BE(this.offsets.get(c));t.push(a.buffer),n(this.packfileSha,"hex");let s=Buffer.concat(t),o=await Un(s),l=Buffer.alloc(20);return l.write(o,"hex"),Buffer.concat([s,l])}async load({pack:t}){this.pack=t}async unload(){this.pack=null}async read({oid:t}){if(!this.offsets.get(t)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(t);throw new ue(`Could not read object ${t} from packfile`)}let n=this.offsets.get(t);return this.readSlice({start:n})}async readSlice({start:t}){if(this.offsetCache[t])return Object.assign({},this.offsetCache[t]);this.readDepth++;let n={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new ue("Tried to read from a GitPackIndex with no packfile loaded into memory");let r=(await this.pack).slice(t),i=new en(r),a=i.readUInt8(),s=a&112,o=n[s];if(o===void 0)throw new ue("Unrecognized type: 0b"+s.toString(2));let l=a&15,c=l;a&128&&(c=Y5(i,l));let f=null,h=null;if(o==="ofs_delta"){let p=X5(i),g=t-p;({object:f,type:o}=await this.readSlice({start:g}))}if(o==="ref_delta"){let p=i.slice(20).toString("hex");({object:f,type:o}=await this.read({oid:p}))}let d=r.slice(i.tell());if(h=Buffer.from(await O1(d)),h.byteLength!==c)throw new ue(`Packfile told us object would have length ${c} but it had length ${h.byteLength}`);return f&&(h=Buffer.from(H5(h,f))),this.readDepth>3&&(this.offsetCache[t]={type:o,object:h}),{type:o,format:"content",object:h}}},Lo=Symbol("PackfileCache");async function Z5({fs:e,filename:t,getExternalRefDelta:n,emitter:r,emitterPrefix:i}){let a=await e.read(t);return Qa.fromIdx({idx:a,getExternalRefDelta:n})}function zf({fs:e,cache:t,filename:n,getExternalRefDelta:r,emitter:i,emitterPrefix:a}){t[Lo]||(t[Lo]=new Map);let s=t[Lo].get(n);return s||(s=Z5({fs:e,filename:n,getExternalRefDelta:r,emitter:i,emitterPrefix:a}),t[Lo].set(n,s)),s}async function K5({fs:e,cache:t,gitdir:n,oid:r,format:i="content",getExternalRefDelta:a}){let s=await e.readdir(B(n,"objects/pack"));s=s.filter(o=>o.endsWith(".idx"));for(let o of s){let l=`${n}/objects/pack/${o}`,c=await zf({fs:e,cache:t,filename:l,getExternalRefDelta:a});if(c.error)throw new ue(c.error);if(c.offsets.has(r)){if(!c.pack){let f=l.replace(/idx$/,"pack");c.pack=e.read(f)}let u=await c.read({oid:r,getExternalRefDelta:a});return u.format="content",u.source=`objects/pack/${o.replace(/idx$/,"pack")}`,u}}return null}async function We({fs:e,cache:t,gitdir:n,oid:r,format:i="content"}){let a=u=>We({fs:e,cache:t,gitdir:n,oid:u}),s;if(r==="4b825dc642cb6eb9a060e54bf8d69288fbee4904"&&(s={format:"wrapped",object:Buffer.from("tree 0\0")}),s||(s=await $5({fs:e,gitdir:n,oid:r})),!s){if(s=await K5({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:a}),!s)throw new Re(r);return s}if(i==="deflated"||(s.format==="deflated"&&(s.object=Buffer.from(await O1(s.object)),s.format="wrapped"),i==="wrapped"))return s;let o=await Un(s.object);if(o!==r)throw new ue(`SHA check failed! Expected ${r}, computed ${o}`);let{object:l,type:c}=ur.unwrap(s.object);if(s.type=c,s.object=l,s.format="content",i==="content")return s;throw new ue(`invalid requested format "${i}"`)}var hn=class e extends ge{constructor(t,n,r=!0){super(`Failed to create ${t} at ${n} because it already exists.${r?` (Hint: use 'force: true' parameter to overwrite existing ${t}.)`:""}`),this.code=this.name=e.code,this.data={noun:t,where:n,canForce:r}}};hn.code="AlreadyExistsError";var es=class e extends ge{constructor(t,n,r){super(`Found multiple ${t} matching "${n}" (${r.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=e.code,this.data={nouns:t,short:n,matches:r}}};es.code="AmbiguousError";var ts=class e extends ge{constructor(t){super(`Your local changes to the following files would be overwritten by checkout: ${t.join(", ")}`),this.code=this.name=e.code,this.data={filepaths:t}}};ts.code="CheckoutConflictError";var ns=class e extends ge{constructor(t,n){super(`Failed to checkout "${t}" because commit ${n} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=e.code,this.data={ref:t,oid:n}}};ns.code="CommitNotFetchedError";var rs=class e extends ge{constructor(){super("Empty response from git server."),this.code=this.name=e.code,this.data={}}};rs.code="EmptyServerResponseError";var is=class e extends ge{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=e.code,this.data={}}};is.code="FastForwardError";var as=class e extends ge{constructor(t,n){super(`One or more branches were not updated: ${t}`),this.code=this.name=e.code,this.data={prettyDetails:t,result:n}}};as.code="GitPushError";var Ti=class e extends ge{constructor(t,n,r){super(`HTTP Error: ${t} ${n}`),this.code=this.name=e.code,this.data={statusCode:t,statusMessage:n,response:r}}};Ti.code="HttpError";var fr=class e extends ge{constructor(t){let n="invalid filepath";t==="leading-slash"||t==="trailing-slash"?n='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':t==="directory"&&(n='"filepath" should not be a directory.'),super(n),this.code=this.name=e.code,this.data={reason:t}}};fr.code="InvalidFilepathError";var Gn=class e extends ge{constructor(t,n){super(`"${t}" would be an invalid git reference. (Hint: a valid alternative would be "${n}".)`),this.code=this.name=e.code,this.data={ref:t,suggestion:n}}};Gn.code="InvalidRefNameError";var ss=class e extends ge{constructor(t){super(`Maximum search depth of ${t} exceeded.`),this.code=this.name=e.code,this.data={depth:t}}};ss.code="MaxDepthError";var Ci=class e extends ge{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=e.code,this.data={}}};Ci.code="MergeNotSupportedError";var Fi=class e extends ge{constructor(t,n,r,i){super(`Automatic merge failed with one or more merge conflicts in the following files: ${t.toString()}. Fix conflicts then commit the result.`),this.code=this.name=e.code,this.data={filepaths:t,bothModified:n,deleteByUs:r,deleteByTheirs:i}}};Fi.code="MergeConflictError";var kt=class e extends ge{constructor(t){super(`No name was provided for ${t} in the argument or in the .git/config file.`),this.code=this.name=e.code,this.data={role:t}}};kt.code="MissingNameError";var Ot=class e extends ge{constructor(t){super(`The function requires a "${t}" parameter but none was provided.`),this.code=this.name=e.code,this.data={parameter:t}}};Ot.code="MissingParameterError";var os=class e extends ge{constructor(t){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=e.code,this.data={errors:t},this.errors=t}};os.code="MultipleGitError";var Ur=class e extends ge{constructor(t,n){super(`Expected "${t}" but received "${n}".`),this.code=this.name=e.code,this.data={expected:t,actual:n}}};Ur.code="ParseError";var Pi=class e extends ge{constructor(t){let n="";t==="not-fast-forward"?n=" because it was not a simple fast-forward":t==="tag-exists"&&(n=" because tag already exists"),super(`Push rejected${n}. Use "force: true" to override.`),this.code=this.name=e.code,this.data={reason:t}}};Pi.code="PushRejectedError";var or=class e extends ge{constructor(t,n){super(`Remote does not support the "${t}" so the "${n}" parameter cannot be used.`),this.code=this.name=e.code,this.data={capability:t,parameter:n}}};or.code="RemoteCapabilityError";var ls=class e extends ge{constructor(t,n){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${t}`),this.code=this.name=e.code,this.data={preview:t,response:n}}};ls.code="SmartHttpError";var cs=class e extends ge{constructor(t,n,r){super(`Git remote "${t}" uses an unrecognized transport protocol: "${n}"`),this.code=this.name=e.code,this.data={url:t,transport:n,suggestion:r}}};cs.code="UnknownTransportError";var us=class e extends ge{constructor(t){super(`Cannot parse remote URL: "${t}"`),this.code=this.name=e.code,this.data={url:t}}};us.code="UrlParseError";var Mi=class e extends ge{constructor(){super("The operation was canceled."),this.code=this.name=e.code,this.data={}}};Mi.code="UserCanceledError";var fs=class e extends ge{constructor(t){super(`Could not merge index: Entry for '${t}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged changes.`),this.code=this.name=e.code,this.data={filepath:t}}};fs.code="IndexResetError";var hs=class e extends ge{constructor(t){super(`"${t}" does not point to any commit. You're maybe working on a repository with no commits yet. `),this.code=this.name=e.code,this.data={ref:t}}};hs.code="NoCommitError";var ps=Object.freeze({__proto__:null,AlreadyExistsError:hn,AmbiguousError:es,CheckoutConflictError:ts,CommitNotFetchedError:ns,EmptyServerResponseError:rs,FastForwardError:is,GitPushError:as,HttpError:Ti,InternalError:ue,InvalidFilepathError:fr,InvalidOidError:cr,InvalidRefNameError:Gn,MaxDepthError:ss,MergeNotSupportedError:Ci,MergeConflictError:Fi,MissingNameError:kt,MissingParameterError:Ot,MultipleGitError:os,NoRefspecError:Ja,NotFoundError:Re,ObjectTypeError:At,ParseError:Ur,PushRejectedError:Pi,RemoteCapabilityError:or,SmartHttpError:ls,UnknownTransportError:cs,UnsafeFilepathError:Ei,UrlParseError:us,UserCanceledError:Mi,UnmergedPathsError:Ka,IndexResetError:fs,NoCommitError:hs});function jf({name:e,email:t,timestamp:n,timezoneOffset:r}){return r=J5(r),`${e} <${t}> ${n} ${r}`}function J5(e){let t=Q5(eC(e));e=Math.abs(e);let n=Math.floor(e/60);e-=n*60;let r=String(n),i=String(e);return r.length<2&&(r="0"+r),i.length<2&&(i="0"+i),(t===-1?"-":"+")+r+i}function Q5(e){return Math.sign(e)||(Object.is(e,-0)?-1:1)}function eC(e){return e===0?e:-e}function Hn(e){return e=e.replace(/\r/g,""),e=e.replace(/^\n+/,""),e=e.replace(/\n+$/,"")+`
`,e}function Uo(e){let[,t,n,r,i]=e.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:t,email:n,timestamp:Number(r),timezoneOffset:tC(i)}}function tC(e){let[,t,n,r]=e.match(/(\+|-)(\d\d)(\d\d)/);return r=(t==="+"?1:-1)*(Number(n)*60+Number(r)),nC(r)}function nC(e){return e===0?e:-e}var Ut=class e{constructor(t){if(typeof t=="string")this._tag=t;else if(Buffer.isBuffer(t))this._tag=t.toString("utf8");else if(typeof t=="object")this._tag=e.render(t);else throw new ue("invalid type passed to GitAnnotatedTag constructor")}static from(t){return new e(t)}static render(t){return`object ${t.object}
type ${t.type}
tag ${t.tag}
tagger ${jf(t.tagger)}

${t.message}
${t.gpgsig?t.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){let t=this.withoutSignature();return t.slice(t.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){let t=this.justHeaders().split(`
`),n=[];for(let i of t)i[0]===" "?n[n.length-1]+=`
`+i.slice(1):n.push(i);let r={};for(let i of n){let a=i.slice(0,i.indexOf(" ")),s=i.slice(i.indexOf(" ")+1);Array.isArray(r[a])?r[a].push(s):r[a]=s}return r.tagger&&(r.tagger=Uo(r.tagger)),r.committer&&(r.committer=Uo(r.committer)),r}withoutSignature(){let t=Hn(this._tag);return t.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?t:t.slice(0,t.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;let t=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return Hn(t)}payload(){return this.withoutSignature()+`
`}toObject(){return Buffer.from(this._tag,"utf8")}static async sign(t,n,r){let i=t.payload(),{signature:a}=await n({payload:i,secretKey:r});a=Hn(a);let s=i+a;return e.from(s)}};function Af(e){return e.trim().split(`
`).map(t=>" "+t).join(`
`)+`
`}function rC(e){return e.split(`
`).map(t=>t.replace(/^ /,"")).join(`
`)}var Rt=class e{constructor(t){if(typeof t=="string")this._commit=t;else if(Buffer.isBuffer(t))this._commit=t.toString("utf8");else if(typeof t=="object")this._commit=e.render(t);else throw new ue("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:t,signature:n}){let r=e.justHeaders(t),i=e.justMessage(t),a=Hn(r+`
gpgsig`+Af(n)+`
`+i);return new e(a)}static from(t){return new e(t)}toObject(){return Buffer.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return e.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(t){return Hn(t.slice(t.indexOf(`

`)+2))}static justHeaders(t){return t.slice(0,t.indexOf(`

`))}parseHeaders(){let t=e.justHeaders(this._commit).split(`
`),n=[];for(let i of t)i[0]===" "?n[n.length-1]+=`
`+i.slice(1):n.push(i);let r={parent:[]};for(let i of n){let a=i.slice(0,i.indexOf(" ")),s=i.slice(i.indexOf(" ")+1);Array.isArray(r[a])?r[a].push(s):r[a]=s}return r.author&&(r.author=Uo(r.author)),r.committer&&(r.committer=Uo(r.committer)),r}static renderHeaders(t){let n="";if(t.tree?n+=`tree ${t.tree}
`:n+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,t.parent){if(t.parent.length===void 0)throw new ue("commit 'parent' property should be an array");for(let a of t.parent)n+=`parent ${a}
`}let r=t.author;n+=`author ${jf(r)}
`;let i=t.committer||t.author;return n+=`committer ${jf(i)}
`,t.gpgsig&&(n+="gpgsig"+Af(t.gpgsig)),n}static render(t){return e.renderHeaders(t)+`
`+Hn(t.message)}render(){return this._commit}withoutSignature(){let t=Hn(this._commit);if(t.indexOf(`
gpgsig`)===-1)return t;let n=t.slice(0,t.indexOf(`
gpgsig`)),r=t.slice(t.indexOf(`-----END PGP SIGNATURE-----
`)+28);return Hn(n+`
`+r)}isolateSignature(){let t=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return rC(t)}static async sign(t,n,r){let i=t.withoutSignature(),a=e.justMessage(t._commit),{signature:s}=await n({payload:i,secretKey:r});s=Hn(s);let l=e.justHeaders(t._commit)+`
gpgsig`+Af(s)+`
`+a;return e.from(l)}};async function Oi({fs:e,cache:t,gitdir:n,oid:r}){if(r==="4b825dc642cb6eb9a060e54bf8d69288fbee4904")return{tree:It.from([]),oid:r};let{type:i,object:a}=await We({fs:e,cache:t,gitdir:n,oid:r});if(i==="tag")return r=Ut.from(a).parse().object,Oi({fs:e,cache:t,gitdir:n,oid:r});if(i==="commit")return r=Rt.from(a).parse().tree,Oi({fs:e,cache:t,gitdir:n,oid:r});if(i!=="tree")throw new At(r,i,"tree");return{tree:It.from(a),oid:r}}var Df=class{constructor({fs:t,gitdir:n,ref:r,cache:i}){this.fs=t,this.cache=i,this.gitdir=n,this.mapPromise=(async()=>{let s=new Map,o;try{o=await q.resolve({fs:t,gitdir:n,ref:r})}catch(c){c instanceof Re&&(o="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}let l=await Oi({fs:t,cache:this.cache,gitdir:n,oid:o});return l.type="tree",l.mode="40000",s.set(".",l),s})();let a=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return a.type(this)}async mode(){return a.mode(this)}async stat(){return a.stat(this)}async content(){return a.content(this)}async oid(){return a.oid(this)}}}async readdir(t){let n=t._fullpath,{fs:r,cache:i,gitdir:a}=this,s=await this.mapPromise,o=s.get(n);if(!o)throw new Error(`No obj for ${n}`);let l=o.oid;if(!l)throw new Error(`No oid for obj ${JSON.stringify(o)}`);if(o.type!=="tree")return null;let{type:c,object:u}=await We({fs:r,cache:i,gitdir:a,oid:l});if(c!==o.type)throw new At(l,c,o.type);let f=It.from(u);for(let h of f)s.set(B(n,h.path),h);return f.entries().map(h=>B(n,h.path))}async type(t){if(t._type===!1){let n=await this.mapPromise,{type:r}=n.get(t._fullpath);t._type=r}return t._type}async mode(t){if(t._mode===!1){let n=await this.mapPromise,{mode:r}=n.get(t._fullpath);t._mode=T1(parseInt(r,8))}return t._mode}async stat(t){}async content(t){if(t._content===!1){let n=await this.mapPromise,{fs:r,cache:i,gitdir:a}=this,o=n.get(t._fullpath).oid,{type:l,object:c}=await We({fs:r,cache:i,gitdir:a,oid:o});l!=="blob"?t._content=void 0:t._content=new Uint8Array(c)}return t._content}async oid(t){if(t._oid===!1){let r=(await this.mapPromise).get(t._fullpath);t._oid=r.oid}return t._oid}};function lr({ref:e="HEAD"}={}){let t=Object.create(null);return Object.defineProperty(t,Yo,{value:function({fs:n,gitdir:r,cache:i}){return new Df({fs:n,gitdir:r,ref:e,cache:i})}}),Object.freeze(t),t}var Bf=class{constructor({fs:t,dir:n,gitdir:r,cache:i}){this.fs=t,this.cache=i,this.dir=n,this.gitdir=r;let a=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return a.type(this)}async mode(){return a.mode(this)}async stat(){return a.stat(this)}async content(){return a.content(this)}async oid(){return a.oid(this)}}}async readdir(t){let n=t._fullpath,{fs:r,dir:i}=this,a=await r.readdir(B(i,n));return a===null?null:a.map(s=>B(n,s))}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){let{fs:n,dir:r}=this,i=await n.lstat(`${r}/${t._fullpath}`);if(!i)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);let a=i.isDirectory()?"tree":"blob";a==="blob"&&!i.isFile()&&!i.isSymbolicLink()&&(a="special"),t._type=a,i=Ai(i),t._mode=i.mode,i.size===-1&&t._actualSize&&(i.size=t._actualSize),t._stat=i}return t._stat}async content(t){if(t._content===!1){let{fs:n,dir:r,gitdir:i}=this;if(await t.type()==="tree")t._content=void 0;else{let s=await(await Ve.get({fs:n,gitdir:i})).get("core.autocrlf"),o=await n.read(`${r}/${t._fullpath}`,{autocrlf:s});t._actualSize=o.length,t._stat&&t._stat.size===-1&&(t._stat.size=t._actualSize),t._content=new Uint8Array(o)}}return t._content}async oid(t){if(t._oid===!1){let{fs:n,gitdir:r,cache:i}=this,a;await ct.acquire({fs:n,gitdir:r,cache:i},async function(s){let o=s.entriesMap.get(t._fullpath),l=await t.stat(),u=await(await Ve.get({fs:n,gitdir:r})).get("core.filemode"),f=typeof process!="undefined"?process.platform!=="win32":!0;!o||Do(l,o,u,f)?await t.content()===void 0?a=void 0:(a=await Un(ur.wrap({type:"blob",object:await t.content()})),o&&a===o.oid&&(!u||l.mode===o.mode)&&Do(l,o,u,f)&&s.insert({filepath:t._fullpath,stats:l,oid:a})):a=o.oid}),t._oid=a}return t._oid}};function Ko(){let e=Object.create(null);return Object.defineProperty(e,Yo,{value:function({fs:t,dir:n,gitdir:r,cache:i}){return new Bf({fs:t,dir:n,gitdir:r,cache:i})}}),Object.freeze(e),e}function iC(e,t){let n=t-e;return Array.from({length:n},(r,i)=>e+i)}var I1=typeof Array.prototype.flat=="undefined"?e=>e.reduce((t,n)=>t.concat(n),[]):e=>e.flat(),Nf=class{constructor(){this.value=null}consider(t){t!=null&&(this.value===null?this.value=t:t<this.value&&(this.value=t))}reset(){this.value=null}};function*aC(e){let t=new Nf,n,r=[],i=e.length;for(let a=0;a<i;a++)r[a]=e[a].next().value,r[a]!==void 0&&t.consider(r[a]);if(t.value!==null)for(;;){let a=[];n=t.value,t.reset();for(let s=0;s<i;s++)r[s]!==void 0&&r[s]===n?(a[s]=r[s],r[s]=e[s].next().value):a[s]=null,r[s]!==void 0&&t.consider(r[s]);if(yield a,t.value===null)return}}async function Ii({fs:e,cache:t,dir:n,gitdir:r,trees:i,map:a=async(l,c)=>c,reduce:s=async(l,c)=>{let u=I1(c);return l!==void 0&&u.unshift(l),u},iterate:o=(l,c)=>Promise.all([...c].map(l))}){let l=i.map(d=>d[Yo]({fs:e,dir:n,gitdir:r,cache:t})),c=new Array(l.length).fill("."),u=iC(0,l.length),f=async d=>{u.map(m=>{d[m]=d[m]&&new l[m].ConstructEntry(d[m])});let g=(await Promise.all(u.map(m=>d[m]?l[m].readdir(d[m]):[]))).map(m=>m===null?[]:m).map(m=>m[Symbol.iterator]());return{entries:d,children:aC(g)}},h=async d=>{let{entries:p,children:g}=await f(d),m=p.find(b=>b&&b._fullpath)._fullpath,w=await a(m,p);if(w!==null){let b=await o(h,g);return b=b.filter(S=>S!==void 0),s(w,b)}};return h(c)}async function $f(e,t){let n=await e.readdir(t);n==null?await e.rm(t):n.length?await Promise.all(n.map(r=>{let i=B(t,r);return e.lstat(i).then(a=>{if(a)return a.isDirectory()?$f(e,i):e.rm(i)})})).then(()=>e.rmdir(t)):await e.rmdir(t)}function sC(e){return oC(e)&&h1(e.then)&&h1(e.catch)}function oC(e){return e&&typeof e=="object"}function h1(e){return typeof e=="function"}function d1(e){return sC((n=>{try{return n.readFile().catch(r=>r)}catch(r){return r}})(e))}var p1=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function m1(e,t){if(d1(t))for(let n of p1)e[`_${n}`]=t[n].bind(t);else for(let n of p1)e[`_${n}`]=(0,jo.default)(t[n].bind(t));d1(t)?t.rm?e._rm=t.rm.bind(t):t.rmdir.length>1?e._rm=t.rmdir.bind(t):e._rm=$f.bind(null,e):t.rm?e._rm=(0,jo.default)(t.rm.bind(t)):t.rmdir.length>2?e._rm=(0,jo.default)(t.rmdir.bind(t)):e._rm=$f.bind(null,e)}var Q=class{constructor(t){if(typeof t._original_unwrapped_fs!="undefined")return t;let n=Object.getOwnPropertyDescriptor(t,"promises");n&&n.enumerable?m1(this,t.promises):m1(this,t),this._original_unwrapped_fs=t}async exists(t,n={}){try{return await this._stat(t),!0}catch(r){if(r.code==="ENOENT"||r.code==="ENOTDIR")return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',r),r}}async read(t,n={}){try{let r=await this._readFile(t,n);if(n.autocrlf==="true")try{r=new TextDecoder("utf8",{fatal:!0}).decode(r),r=r.replace(/\r\n/g,`
`),r=new TextEncoder().encode(r)}catch(i){}return typeof r!="string"&&(r=Buffer.from(r)),r}catch(r){return null}}async write(t,n,r={}){try{await this._writeFile(t,n,r);return}catch(i){await this.mkdir(ki(t)),await this._writeFile(t,n,r)}}async mkdir(t,n=!1){try{await this._mkdir(t);return}catch(r){if(r===null||r.code==="EEXIST")return;if(n)throw r;if(r.code==="ENOENT"){let i=ki(t);if(i==="."||i==="/"||i===t)throw r;await this.mkdir(i),await this.mkdir(t,!0)}}}async rm(t){try{await this._unlink(t)}catch(n){if(n.code!=="ENOENT")throw n}}async rmdir(t,n){try{n&&n.recursive?await this._rm(t,n):await this._rmdir(t)}catch(r){if(r.code!=="ENOENT")throw r}}async readdir(t){try{let n=await this._readdir(t);return n.sort(Xo),n}catch(n){return n.code==="ENOTDIR"?null:[]}}async readdirDeep(t){let n=await this._readdir(t);return(await Promise.all(n.map(async i=>{let a=t+"/"+i;return(await this._stat(a)).isDirectory()?this.readdirDeep(a):a}))).reduce((i,a)=>i.concat(a),[])}async lstat(t){try{return await this._lstat(t)}catch(n){if(n.code==="ENOENT")return null;throw n}}async readlink(t,n={encoding:"buffer"}){try{let r=await this._readlink(t,n);return Buffer.isBuffer(r)?r:Buffer.from(r)}catch(r){if(r.code==="ENOENT")return null;throw r}}async writelink(t,n){return this._symlink(n.toString("utf8"),t)}};function F(e,t){if(t===void 0)throw new Ot(e)}async function Go(e,t){return!e&&!t?!1:e&&!t||!e&&t?!0:!(await e.type()==="tree"&&await t.type()==="tree"||await e.type()===await t.type()&&await e.mode()===await t.mode()&&await e.oid()===await t.oid())}async function lC({fs:e,dir:t,gitdir:n=B(t,".git"),commit:r="HEAD",cache:i={}}){try{F("fs",e),F("dir",t),F("gitdir",n);let a=new Q(e),s=[lr({ref:r}),Ko(),Zo()],o=[];await ct.acquire({fs:a,gitdir:n,cache:i},async function(c){o=c.unmergedPaths});let l=await Ii({fs:a,cache:i,dir:t,gitdir:n,trees:s,map:async function(c,[u,f,h]){let d=!await Go(f,h),p=o.includes(c),g=!await Go(h,u);if(d||p)return u?{path:c,mode:await u.mode(),oid:await u.oid(),type:await u.type(),content:await u.content()}:void 0;if(g)return!1;throw new fs(c)}});await ct.acquire({fs:a,gitdir:n,cache:i},async function(c){for(let u of l)if(u!==!1){if(!u){await a.rmdir(`${t}/${u.path}`,{recursive:!0}),c.delete({filepath:u.path});continue}if(u.type==="blob"){let f=new TextDecoder().decode(u.content);await a.write(`${t}/${u.path}`,f,{mode:u.mode}),c.insert({filepath:u.path,oid:u.oid,stage:0})}}})}catch(a){throw a.caller="git.abortMerge",a}}var Ri=class{static async isIgnored({fs:t,dir:n,gitdir:r=B(n,".git"),filepath:i}){if(Bo(i)===".git")return!0;if(i===".")return!1;let a="",s=B(r,"info","exclude");await t.exists(s)&&(a=await t.read(s,"utf8"));let o=[{gitignore:B(n,".gitignore"),filepath:i}],l=i.split("/").filter(Boolean);for(let u=1;u<l.length;u++){let f=l.slice(0,u).join("/"),h=l.slice(u).join("/");o.push({gitignore:B(n,f,".gitignore"),filepath:h})}let c=!1;for(let u of o){let f;try{f=await t.read(u.gitignore,"utf8")}catch(p){if(p.code==="NOENT")continue}let h=(0,E1.default)().add(a);h.add(f);let d=ki(u.filepath);if(d!=="."&&h.ignores(d))return!0;c?c=!h.test(u.filepath).unignored:c=h.test(u.filepath).ignored}return c}};async function cC({fs:e,gitdir:t,object:n,format:r,oid:i}){if(r!=="deflated")throw new ue("GitObjectStoreLoose expects objects to write to be in deflated format");let a=`objects/${i.slice(0,2)}/${i.slice(2)}`,s=`${t}/${a}`;await e.exists(s)||await e.write(s,n)}var kf=null;async function R1(e){return kf===null&&(kf=fC()),kf?uC(e):qo.default.deflate(e)}async function uC(e){let t=new CompressionStream("deflate"),n=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(n).arrayBuffer())}function fC(){try{return new CompressionStream("deflate").writable.close(),new Blob([]).stream().cancel(),!0}catch(e){return!1}}async function Gt({fs:e,gitdir:t,type:n,object:r,format:i="content",oid:a=void 0,dryRun:s=!1}){return i!=="deflated"&&(i!=="wrapped"&&(r=ur.wrap({type:n,object:r})),a=await Un(r),r=Buffer.from(await R1(r))),s||await cC({fs:e,gitdir:t,object:r,format:"deflated",oid:a}),a}function hC(e){let t;for(;~(t=e.indexOf(92));)e[t]=47;return e}async function dC({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,cache:i={},force:a=!1,parallel:s=!0}){try{F("fs",e),F("dir",t),F("gitdir",n),F("filepath",r);let o=new Q(e);await ct.acquire({fs:o,gitdir:n,cache:i},async l=>Hf({dir:t,gitdir:n,fs:o,filepath:r,index:l,force:a,parallel:s}))}catch(o){throw o.caller="git.add",o}}async function Hf({dir:e,gitdir:t,fs:n,filepath:r,index:i,force:a,parallel:s}){r=Array.isArray(r)?r:[r];let o=r.map(async f=>{if(!a&&await Ri.isIgnored({fs:n,dir:e,gitdir:t,filepath:f}))return;let h=await n.lstat(B(e,f));if(!h)throw new Re(f);if(h.isDirectory()){let d=await n.readdir(B(e,f));if(s){let p=d.map(g=>Hf({dir:e,gitdir:t,fs:n,filepath:[B(f,g)],index:i,force:a,parallel:s}));await Promise.all(p)}else for(let p of d)await Hf({dir:e,gitdir:t,fs:n,filepath:[B(f,p)],index:i,force:a,parallel:s})}else{let p=await(await Ve.get({fs:n,gitdir:t})).get("core.autocrlf"),g=h.isSymbolicLink()?await n.readlink(B(e,f)).then(hC):await n.read(B(e,f),{autocrlf:p});if(g===null)throw new Re(f);let m=await Gt({fs:n,gitdir:t,type:"blob",object:g});i.insert({filepath:f,stats:h,oid:m})}}),l=await Promise.allSettled(o),c=l.filter(f=>f.status==="rejected").map(f=>f.reason);if(c.length>1)throw new os(c);if(c.length===1)throw c[0];return l.filter(f=>f.status==="fulfilled"&&f.value).map(f=>f.value)}async function ds({fs:e,gitdir:t,path:n}){return(await Ve.get({fs:e,gitdir:t})).get(n)}function L1(e,...t){for(let n of t)if(n)for(let r of Object.keys(n)){let i=n[r];i!==void 0&&(e[r]=i)}return e}async function Gr({fs:e,gitdir:t,author:n,commit:r}){let i=Math.floor(Date.now()/1e3),a={name:await ds({fs:e,gitdir:t,path:"user.name"}),email:await ds({fs:e,gitdir:t,path:"user.email"})||"",timestamp:i,timezoneOffset:new Date(i*1e3).getTimezoneOffset()},s=L1({},a,r?r.author:void 0,n);if(s.name!==void 0)return s}async function Li({fs:e,gitdir:t,author:n,committer:r,commit:i}){let a=Math.floor(Date.now()/1e3),s={name:await ds({fs:e,gitdir:t,path:"user.name"}),email:await ds({fs:e,gitdir:t,path:"user.email"})||"",timestamp:a,timezoneOffset:new Date(a*1e3).getTimezoneOffset()},o=L1({},s,i?i.committer:void 0,n,r);if(o.name!==void 0)return o}async function j1({fs:e,cache:t,gitdir:n,oid:r}){let{type:i,object:a}=await We({fs:e,cache:t,gitdir:n,oid:r});if(i==="tag")return r=Ut.from(a).parse().object,j1({fs:e,cache:t,gitdir:n,oid:r});if(i!=="commit")throw new At(r,i,"commit");return{commit:Rt.from(a),oid:r}}async function zo({fs:e,cache:t,gitdir:n,oid:r}){let{commit:i,oid:a}=await j1({fs:e,cache:t,gitdir:n,oid:r});return{oid:a,commit:i.parse(),payload:i.withoutSignature()}}async function Jo({fs:e,cache:t,onSign:n,gitdir:r,message:i,author:a,committer:s,signingKey:o,amend:l=!1,dryRun:c=!1,noUpdateBranch:u=!1,ref:f,parent:h,tree:d}){let p=!1;f||(f=await q.resolve({fs:e,gitdir:r,ref:"HEAD",depth:2}));let g,m;try{g=await q.resolve({fs:e,gitdir:r,ref:f}),m=await zo({fs:e,gitdir:r,oid:g,cache:{}})}catch(S){p=!0}if(l&&p)throw new hs(f);let w=l?await Gr({fs:e,gitdir:r,author:a,commit:m.commit}):await Gr({fs:e,gitdir:r,author:a});if(!w)throw new kt("author");let b=l?await Li({fs:e,gitdir:r,author:w,committer:s,commit:m.commit}):await Li({fs:e,gitdir:r,author:w,committer:s});if(!b)throw new kt("committer");return ct.acquire({fs:e,gitdir:r,cache:t,allowUnmerged:!1},async function(S){let x=F1(S.entries).get(".");if(d||(d=await D1({fs:e,gitdir:r,inode:x,dryRun:c})),h?h=await Promise.all(h.map(E=>q.resolve({fs:e,gitdir:r,ref:E}))):l?h=m.commit.parent:h=g?[g]:[],!i)if(l)i=m.commit.message;else throw new Ot("message");let k=Rt.from({tree:d,parent:h,author:w,committer:b,message:i});o&&(k=await Rt.sign(k,n,o));let y=await Gt({fs:e,gitdir:r,type:"commit",object:k.toObject(),dryRun:c});return!u&&!c&&await q.writeRef({fs:e,gitdir:r,ref:f,value:y}),y})}async function D1({fs:e,gitdir:t,inode:n,dryRun:r}){let i=n.children;for(let l of i)l.type==="tree"&&(l.metadata.mode="040000",l.metadata.oid=await D1({fs:e,gitdir:t,inode:l,dryRun:r}));let a=i.map(l=>({mode:l.metadata.mode,path:l.basename,oid:l.metadata.oid,type:l.type})),s=It.from(a);return await Gt({fs:e,gitdir:t,type:"tree",object:s.toObject(),dryRun:r})}async function ms({fs:e,cache:t,gitdir:n,oid:r,filepath:i}){if(i.startsWith("/"))throw new fr("leading-slash");if(i.endsWith("/"))throw new fr("trailing-slash");let a=r,s=await Oi({fs:e,cache:t,gitdir:n,oid:r}),o=s.tree;if(i==="")r=s.oid;else{let l=i.split("/");r=await B1({fs:e,cache:t,gitdir:n,tree:o,pathArray:l,oid:a,filepath:i})}return r}async function B1({fs:e,cache:t,gitdir:n,tree:r,pathArray:i,oid:a,filepath:s}){let o=i.shift();for(let l of r)if(l.path===o){if(i.length===0)return l.oid;{let{type:c,object:u}=await We({fs:e,cache:t,gitdir:n,oid:l.oid});if(c!=="tree")throw new At(a,c,"tree",s);return r=It.from(u),B1({fs:e,cache:t,gitdir:n,tree:r,pathArray:i,oid:a,filepath:s})}}throw new Re(`file or directory found at "${a}:${s}"`)}async function Bi({fs:e,cache:t,gitdir:n,oid:r,filepath:i=void 0}){i!==void 0&&(r=await ms({fs:e,cache:t,gitdir:n,oid:r,filepath:i}));let{tree:a,oid:s}=await Oi({fs:e,cache:t,gitdir:n,oid:r});return{oid:s,tree:a.entries()}}async function Vf({fs:e,gitdir:t,tree:n}){let r=It.from(n).toObject();return await Gt({fs:e,gitdir:t,type:"tree",object:r,format:"content"})}async function pC({fs:e,cache:t,onSign:n,gitdir:r,ref:i,oid:a,note:s,force:o,author:l,committer:c,signingKey:u}){let f;try{f=await q.resolve({gitdir:r,fs:e,ref:i})}catch(w){if(!(w instanceof Re))throw w}let d=(await Bi({fs:e,cache:t,gitdir:r,oid:f||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;if(o)d=d.filter(w=>w.path!==a);else for(let w of d)if(w.path===a)throw new hn("note",a);typeof s=="string"&&(s=Buffer.from(s,"utf8"));let p=await Gt({fs:e,gitdir:r,type:"blob",object:s,format:"content"});d.push({mode:"100644",path:a,oid:p,type:"blob"});let g=await Vf({fs:e,gitdir:r,tree:d});return await Jo({fs:e,cache:t,onSign:n,gitdir:r,ref:i,tree:g,parent:f&&[f],message:`Note added by 'isomorphic-git addNote'
`,author:l,committer:c,signingKey:u})}async function mC({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ref:i="refs/notes/commits",oid:a,note:s,force:o,author:l,committer:c,signingKey:u,cache:f={}}){try{F("fs",e),F("gitdir",r),F("oid",a),F("note",s),u&&F("onSign",t);let h=new Q(e),d=await Gr({fs:h,gitdir:r,author:l});if(!d)throw new kt("author");let p=await Li({fs:h,gitdir:r,author:d,committer:c});if(!p)throw new kt("committer");return await pC({fs:new Q(h),cache:f,onSign:t,gitdir:r,ref:i,oid:a,note:s,force:o,author:d,committer:p,signingKey:u})}catch(h){throw h.caller="git.addNote",h}}async function N1({fs:e,gitdir:t,remote:n,url:r,force:i}){if(n!==fn.default.clean(n))throw new Gn(n,fn.default.clean(n));let a=await Ve.get({fs:e,gitdir:t});if(!i&&(await a.getSubsections("remote")).includes(n)&&r!==await a.get(`remote.${n}.url`))throw new hn("remote",n);await a.set(`remote.${n}.url`,r),await a.set(`remote.${n}.fetch`,`+refs/heads/*:refs/remotes/${n}/*`),await Ve.save({fs:e,gitdir:t,config:a})}async function gC({fs:e,dir:t,gitdir:n=B(t,".git"),remote:r,url:i,force:a=!1}){try{return F("fs",e),F("gitdir",n),F("remote",r),F("url",i),await N1({fs:new Q(e),gitdir:n,remote:r,url:i,force:a})}catch(s){throw s.caller="git.addRemote",s}}async function yC({fs:e,cache:t,onSign:n,gitdir:r,ref:i,tagger:a,message:s=i,gpgsig:o,object:l,signingKey:c,force:u=!1}){if(i=i.startsWith("refs/tags/")?i:`refs/tags/${i}`,!u&&await q.exists({fs:e,gitdir:r,ref:i}))throw new hn("tag",i);let f=await q.resolve({fs:e,gitdir:r,ref:l||"HEAD"}),{type:h}=await We({fs:e,cache:t,gitdir:r,oid:f}),d=Ut.from({object:f,type:h,tag:i.replace("refs/tags/",""),tagger:a,message:s,gpgsig:o});c&&(d=await Ut.sign(d,n,c));let p=await Gt({fs:e,gitdir:r,type:"tag",object:d.toObject()});await q.writeRef({fs:e,gitdir:r,ref:i,value:p})}async function vC({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ref:i,tagger:a,message:s=i,gpgsig:o,object:l,signingKey:c,force:u=!1,cache:f={}}){try{F("fs",e),F("gitdir",r),F("ref",i),c&&F("onSign",t);let h=new Q(e),d=await Gr({fs:h,gitdir:r,author:a});if(!d)throw new kt("tagger");return await yC({fs:h,cache:f,onSign:t,gitdir:r,ref:i,tagger:d,message:s,gpgsig:o,object:l,signingKey:c,force:u})}catch(h){throw h.caller="git.annotatedTag",h}}async function wC({fs:e,gitdir:t,ref:n,object:r,checkout:i=!1,force:a=!1}){if(n!==fn.default.clean(n))throw new Gn(n,fn.default.clean(n));let s=`refs/heads/${n}`;if(!a&&await q.exists({fs:e,gitdir:t,ref:s}))throw new hn("branch",n,!1);let o;try{o=await q.resolve({fs:e,gitdir:t,ref:r||"HEAD"})}catch(l){}o&&await q.writeRef({fs:e,gitdir:t,ref:s,value:o}),i&&await q.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:s})}async function bC({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,object:i,checkout:a=!1,force:s=!1}){try{return F("fs",e),F("gitdir",n),F("ref",r),await wC({fs:new Q(e),gitdir:n,ref:r,object:i,checkout:a,force:s})}catch(o){throw o.caller="git.branch",o}}var $1=(e,t)=>e==="."||t==null||t.length===0||t==="."?!0:t.length>=e.length?t.startsWith(e):e.startsWith(t);async function Wf({fs:e,cache:t,onProgress:n,onPostCheckout:r,dir:i,gitdir:a,remote:s,ref:o,filepaths:l,noCheckout:c,noUpdateHead:u,dryRun:f,force:h,track:d=!0}){let p;if(r)try{p=await q.resolve({fs:e,gitdir:a,ref:"HEAD"})}catch(m){p="0000000000000000000000000000000000000000"}let g;try{g=await q.resolve({fs:e,gitdir:a,ref:o})}catch(m){if(o==="HEAD")throw m;let w=`${s}/${o}`;if(g=await q.resolve({fs:e,gitdir:a,ref:w}),d){let b=await Ve.get({fs:e,gitdir:a});await b.set(`branch.${o}.remote`,s),await b.set(`branch.${o}.merge`,`refs/heads/${o}`),await Ve.save({fs:e,gitdir:a,config:b})}await q.writeRef({fs:e,gitdir:a,ref:`refs/heads/${o}`,value:g})}if(!c){let m;try{m=await xC({fs:e,cache:t,onProgress:n,dir:i,gitdir:a,ref:o,force:h,filepaths:l})}catch(x){throw x instanceof Re&&x.data.what===g?new ns(o,g):x}let w=m.filter(([x])=>x==="conflict").map(([x,k])=>k);if(w.length>0)throw new ts(w);let b=m.filter(([x])=>x==="error").map(([x,k])=>k);if(b.length>0)throw new ue(b.join(", "));if(f){r&&await r({previousHead:p,newHead:g,type:l!=null&&l.length>0?"file":"branch"});return}let S=0,A=m.length;await ct.acquire({fs:e,gitdir:a,cache:t},async function(x){await Promise.all(m.filter(([k])=>k==="delete"||k==="delete-index").map(async function([k,y]){let E=`${i}/${y}`;k==="delete"&&await e.rm(E),x.delete({filepath:y}),n&&await n({phase:"Updating workdir",loaded:++S,total:A})}))}),await ct.acquire({fs:e,gitdir:a,cache:t},async function(x){for(let[k,y]of m)if(k==="rmdir"||k==="rmdir-index"){let E=`${i}/${y}`;try{k==="rmdir-index"&&x.delete({filepath:y}),await e.rmdir(E),n&&await n({phase:"Updating workdir",loaded:++S,total:A})}catch(_){if(_.code==="ENOTEMPTY")console.log(`Did not delete ${y} because directory is not empty`);else throw _}}}),await Promise.all(m.filter(([x])=>x==="mkdir"||x==="mkdir-index").map(async function([x,k]){let y=`${i}/${k}`;await e.mkdir(y),n&&await n({phase:"Updating workdir",loaded:++S,total:A})})),await ct.acquire({fs:e,gitdir:a,cache:t},async function(x){await Promise.all(m.filter(([k])=>k==="create"||k==="create-index"||k==="update"||k==="mkdir-index").map(async function([k,y,E,_,C]){let P=`${i}/${y}`;try{if(k!=="create-index"&&k!=="mkdir-index"){let{object:N}=await We({fs:e,cache:t,gitdir:a,oid:E});if(C&&await e.rm(P),_===33188)await e.write(P,N);else if(_===33261)await e.write(P,N,{mode:511});else if(_===40960)await e.writelink(P,N);else throw new ue(`Invalid mode 0o${_.toString(8)} detected in blob ${E}`)}let L=await e.lstat(P);_===33261&&(L.mode=493),k==="mkdir-index"&&(L.mode=57344),x.insert({filepath:y,stats:L,oid:E}),n&&await n({phase:"Updating workdir",loaded:++S,total:A})}catch(L){console.log(L)}}))}),r&&await r({previousHead:p,newHead:g,type:l!=null&&l.length>0?"file":"branch"})}if(!u){let m=await q.expand({fs:e,gitdir:a,ref:o});m.startsWith("refs/heads")?await q.writeSymbolicRef({fs:e,gitdir:a,ref:"HEAD",value:m}):await q.writeRef({fs:e,gitdir:a,ref:"HEAD",value:g})}}async function xC({fs:e,cache:t,onProgress:n,dir:r,gitdir:i,ref:a,force:s,filepaths:o}){let l=0;return Ii({fs:e,cache:t,dir:r,gitdir:i,trees:[lr({ref:a}),Ko(),Zo()],map:async function(c,[u,f,h]){if(c===".")return;if(o&&!o.some(p=>$1(c,p)))return null;switch(n&&await n({phase:"Analyzing workdir",loaded:++l}),[!!h,!!u,!!f].map(Number).join("")){case"000":return;case"001":return s&&o&&o.includes(c)?["delete",c]:void 0;case"010":switch(await u.type()){case"tree":return["mkdir",c];case"blob":return["create",c,await u.oid(),await u.mode()];case"commit":return["mkdir-index",c,await u.oid(),await u.mode()];default:return["error",`new entry Unhandled type ${await u.type()}`]}case"011":switch(`${await u.type()}-${await f.type()}`){case"tree-tree":return;case"tree-blob":case"blob-tree":return["conflict",c];case"blob-blob":return await u.oid()!==await f.oid()?s?["update",c,await u.oid(),await u.mode(),await u.mode()!==await f.mode()]:["conflict",c]:await u.mode()!==await f.mode()?s?["update",c,await u.oid(),await u.mode(),!0]:["conflict",c]:["create-index",c,await u.oid(),await u.mode()];case"commit-tree":return;case"commit-blob":return["conflict",c];default:return["error",`new entry Unhandled type ${u.type}`]}case"100":return["delete-index",c];case"101":switch(await h.type()){case"tree":return["rmdir",c];case"blob":return await h.oid()!==await f.oid()?s?["delete",c]:["conflict",c]:["delete",c];case"commit":return["rmdir-index",c];default:return["error",`delete entry Unhandled type ${await h.type()}`]}case"110":case"111":switch(`${await h.type()}-${await u.type()}`){case"tree-tree":return;case"blob-blob":{if(await h.oid()===await u.oid()&&await h.mode()===await u.mode()&&!s)return;if(f){if(await f.oid()!==await h.oid()&&await f.oid()!==await u.oid())return s?["update",c,await u.oid(),await u.mode(),await u.mode()!==await f.mode()]:["conflict",c]}else if(s)return["update",c,await u.oid(),await u.mode(),await u.mode()!==await h.mode()];return await u.mode()!==await h.mode()?["update",c,await u.oid(),await u.mode(),!0]:await u.oid()!==await h.oid()?["update",c,await u.oid(),await u.mode(),!1]:void 0}case"tree-blob":return["update-dir-to-blob",c,await u.oid()];case"blob-tree":return["update-blob-to-tree",c];case"commit-commit":return["mkdir-index",c,await u.oid(),await u.mode()];default:return["error",`update entry Unhandled type ${await h.type()}-${await u.type()}`]}}},reduce:async function(c,u){return u=I1(u),c?c&&c[0]==="rmdir"?(u.push(c),u):(u.unshift(c),u):u}})}async function _C({fs:e,onProgress:t,onPostCheckout:n,dir:r,gitdir:i=B(r,".git"),remote:a="origin",ref:s,filepaths:o,noCheckout:l=!1,noUpdateHead:c=s===void 0,dryRun:u=!1,force:f=!1,track:h=!0,cache:d={}}){try{F("fs",e),F("dir",r),F("gitdir",i);let p=s||"HEAD";return await Wf({fs:new Q(e),cache:d,onProgress:t,onPostCheckout:n,dir:r,gitdir:i,remote:a,ref:p,filepaths:o,noCheckout:l,noUpdateHead:c,dryRun:u,force:f,track:h})}catch(p){throw p.caller="git.checkout",p}}var SC=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function Hr(e){let t=SC.exec(e);return t?t[1]==="remotes/"&&e.endsWith("/HEAD")?t[2].slice(0,-5):t[2]:e}async function Vr({fs:e,gitdir:t,fullname:n=!1,test:r=!1}){let i=await q.resolve({fs:e,gitdir:t,ref:"HEAD",depth:2});if(r)try{await q.resolve({fs:e,gitdir:t,ref:i})}catch(a){return}if(i.startsWith("refs/"))return n?i:Hr(i)}function EC(e){return e=e.replace(/^git@([^:]+):/,"https://$1/"),e=e.replace(/^ssh:\/\//,"https://"),e}function H1({username:e="",password:t=""}){return`Basic ${Buffer.from(`${e}:${t}`).toString("base64")}`}async function gs(e,t){let n=M1(e);for(;;){let{value:r,done:i}=await n.next();if(r&&await t(r),i)break}n.return&&n.return()}async function Vo(e){let t=0,n=[];await gs(e,a=>{n.push(a),t+=a.byteLength});let r=new Uint8Array(t),i=0;for(let a of n)r.set(a,i),i+=a.byteLength;return r}function g1(e){let t=e.match(/^https?:\/\/([^/]+)@/);if(t==null)return{url:e,auth:{}};t=t[1];let[n,r]=t.split(":");return e=e.replace(`${t}@`,""),{url:e,auth:{username:n,password:r}}}function Uf(e,t){let n=t.toString(16);return"0".repeat(e-n.length)+n}var ze=class{static flush(){return Buffer.from("0000","utf8")}static delim(){return Buffer.from("0001","utf8")}static encode(t){typeof t=="string"&&(t=Buffer.from(t));let n=t.length+4,r=Uf(4,n);return Buffer.concat([Buffer.from(r,"utf8"),t])}static streamReader(t){let n=new Ho(t);return async function(){try{let i=await n.read(4);if(i==null)return!0;if(i=parseInt(i.toString("utf8"),16),i===0||i===1)return null;let a=await n.read(i-4);return a==null?!0:a}catch(i){return t.error=i,!0}}}};async function y1(e){let t={},n;for(;n=await e(),n!==!0;){if(n===null)continue;n=n.toString("utf8").replace(/\n$/,"");let r=n.indexOf("=");if(r>-1){let i=n.slice(0,r),a=n.slice(r+1);t[i]=a}else t[n]=!0}return{protocolVersion:2,capabilities2:t}}async function v1(e,{service:t}){let n=new Set,r=new Map,i=new Map,a=ze.streamReader(e),s=await a();for(;s===null;)s=await a();if(s===!0)throw new rs;if(s.includes("version 2"))return y1(a);if(s.toString("utf8").replace(/\n$/,"")!==`# service=${t}`)throw new Ur(`# service=${t}\\n`,s.toString("utf8"));let o=await a();for(;o===null;)o=await a();if(o===!0)return{capabilities:n,refs:r,symrefs:i};if(o=o.toString("utf8"),o.includes("version 2"))return y1(a);let[l,c]=Tf(o,"\0","\\x00");if(c.split(" ").map(u=>n.add(u)),l!=="0000000000000000000000000000000000000000 capabilities^{}"){let[u,f]=Tf(l," "," ");for(r.set(f,u);;){let h=await a();if(h===!0)break;if(h!==null){let[d,p]=Tf(h.toString("utf8")," "," ");r.set(p,d)}}}for(let u of n)if(u.startsWith("symref=")){let f=u.match(/symref=([^:]+):(.*)/);f.length===3&&i.set(f[1],f[2])}return{protocolVersion:1,capabilities:n,refs:r,symrefs:i}}function Tf(e,t,n){let r=e.trim().split(t);if(r.length!==2)throw new Ur(`Two strings separated by '${n}'`,e.toString("utf8"));return r}var w1=(e,t)=>e.endsWith("?")?`${e}${t}`:`${e}/${t.replace(/^https?:\/\//,"")}`,b1=(e,t)=>{(t.username||t.password)&&(e.Authorization=H1(t)),t.headers&&Object.assign(e,t.headers)},Cf=async e=>{try{let t=Buffer.from(await Vo(e.body)),n=t.toString("utf8");return{preview:n.length<256?n:n.slice(0,256)+"...",response:n,data:t}}catch(t){return{}}},ji=class{static async capabilities(){return["discover","connect"]}static async discover({http:t,onProgress:n,onAuth:r,onAuthSuccess:i,onAuthFailure:a,corsProxy:s,service:o,url:l,headers:c,protocolVersion:u}){let{url:f,auth:h}=g1(l),d=s?w1(s,f):f;(h.username||h.password)&&(c.Authorization=H1(h)),u===2&&(c["Git-Protocol"]="version=2");let p,g,m=!1;do if(p=await t.request({onProgress:n,method:"GET",url:`${d}/info/refs?service=${o}`,headers:c}),g=!1,p.statusCode===401||p.statusCode===203){let w=m?a:r;if(w){if(h=await w(f,{...h,headers:{...c}}),h&&h.cancel)throw new Mi;h&&(b1(c,h),m=!0,g=!0)}}else p.statusCode===200&&m&&i&&await i(f,h);while(g);if(p.statusCode!==200){let{response:w}=await Cf(p);throw new Ti(p.statusCode,p.statusMessage,w)}if(p.headers["content-type"]===`application/x-${o}-advertisement`){let w=await v1(p.body,{service:o});return w.auth=h,w}else{let{preview:w,response:b,data:S}=await Cf(p);try{let A=await v1([S],{service:o});return A.auth=h,A}catch(A){throw new ls(w,b)}}}static async connect({http:t,onProgress:n,corsProxy:r,service:i,url:a,auth:s,body:o,headers:l}){let c=g1(a);c&&(a=c.url),r&&(a=w1(r,a)),l["content-type"]=`application/x-${i}-request`,l.accept=`application/x-${i}-result`,b1(l,s);let u=await t.request({onProgress:n,method:"POST",url:`${a}/${i}`,body:o,headers:l});if(u.statusCode!==200){let{response:f}=Cf(u);throw new Ti(u.statusCode,u.statusMessage,f)}return u}};function AC({url:e}){if(e.startsWith("git@"))return{transport:"ssh",address:e};let t=e.match(/(\w+)(:\/\/|::)(.*)/);if(t!==null){if(t[2]==="://")return{transport:t[1],address:t[0]};if(t[2]==="::")return{transport:t[1],address:t[3]}}}var Di=class{static getRemoteHelperFor({url:t}){let n=new Map;n.set("http",ji),n.set("https",ji);let r=AC({url:t});if(!r)throw new us(t);if(n.has(r.transport))return n.get(r.transport);throw new cs(t,r.transport,r.transport==="ssh"?EC(t):void 0)}},$r=null,zr=class{static async read({fs:t,gitdir:n}){$r===null&&($r=new Za.default);let r=B(n,"shallow"),i=new Set;return await $r.acquire(r,async function(){let a=await t.read(r,{encoding:"utf8"});if(a===null||a.trim()==="")return i;a.trim().split(`
`).map(s=>i.add(s))}),i}static async write({fs:t,gitdir:n,oids:r}){$r===null&&($r=new Za.default);let i=B(n,"shallow");if(r.size>0){let a=[...r].join(`
`)+`
`;await $r.acquire(i,async function(){await t.write(i,a,{encoding:"utf8"})})}else await $r.acquire(i,async function(){await t.rm(i)})}};async function kC({fs:e,gitdir:t,oid:n}){let r=`objects/${n.slice(0,2)}/${n.slice(2)}`;return e.exists(`${t}/${r}`)}async function TC({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:i}){let a=await e.readdir(B(n,"objects/pack"));a=a.filter(s=>s.endsWith(".idx"));for(let s of a){let o=`${n}/objects/pack/${s}`,l=await zf({fs:e,cache:t,filename:o,getExternalRefDelta:i});if(l.error)throw new ue(l.error);if(l.offsets.has(r))return!0}return!1}async function x1({fs:e,cache:t,gitdir:n,oid:r,format:i="content"}){let a=o=>We({fs:e,cache:t,gitdir:n,oid:o}),s=await kC({fs:e,gitdir:n,oid:r});return s||(s=await TC({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:a})),s}function CC(e){let i="5041434b"+"00000002"+"00000000";return e.slice(0,12).toString("hex")===i}function U1(e,t){let n=e.map(r=>r.split("=",1)[0]);return t.filter(r=>{let i=r.split("=",1)[0];return n.includes(i)})}var Qo={name:"isomorphic-git",version:"1.27.1",agent:"git/isomorphic-git@1.27.1"},Si=class{constructor(){this._queue=[]}write(t){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){let n=this._waiting;this._waiting=null,n({value:t})}else this._queue.push(t)}end(){if(this._ended=!0,this._waiting){let t=this._waiting;this._waiting=null,t({done:!0})}}destroy(t){this.error=t,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(t=>{this._waiting=t})}};function FC(e){let t=e.indexOf("\r"),n=e.indexOf(`
`);return t===-1&&n===-1?-1:t===-1?n+1:n===-1?t+1:n===t+1?n+1:Math.min(t,n)+1}function G1(e){let t=new Si,n="";return(async()=>(await gs(e,r=>{for(r=r.toString("utf8"),n+=r;;){let i=FC(n);if(i===-1)break;t.write(n.slice(0,i)),n=n.slice(i)}}),n.length>0&&t.write(n),t.end()))(),t}var Wo=class{static demux(t){let n=ze.streamReader(t),r=new Si,i=new Si,a=new Si,s=async function(){let o=await n();if(o===null)return s();if(o===!0){r.end(),a.end(),t.error?i.destroy(t.error):i.end();return}switch(o[0]){case 1:{i.write(o.slice(1));break}case 2:{a.write(o.slice(1));break}case 3:{let l=o.slice(1);a.write(l),r.end(),a.end(),i.destroy(new Error(l.toString("utf8")));return}default:r.write(o)}s()};return s(),{packetlines:r,packfile:i,progress:a}}};async function PC(e){let{packetlines:t,packfile:n,progress:r}=Wo.demux(e),i=[],a=[],s=[],o=!1,l=!1;return new Promise((c,u)=>{gs(t,f=>{let h=f.toString("utf8").trim();if(h.startsWith("shallow")){let d=h.slice(-41).trim();d.length!==40&&u(new cr(d)),i.push(d)}else if(h.startsWith("unshallow")){let d=h.slice(-41).trim();d.length!==40&&u(new cr(d)),a.push(d)}else if(h.startsWith("ACK")){let[,d,p]=h.split(" ");s.push({oid:d,status:p}),p||(l=!0)}else h.startsWith("NAK")?(o=!0,l=!0):(l=!0,o=!0);l&&(e.error?u(e.error):c({shallows:i,unshallows:a,acks:s,nak:o,packfile:n,progress:r}))}).finally(()=>{l||(e.error?u(e.error):c({shallows:i,unshallows:a,acks:s,nak:o,packfile:n,progress:r}))})})}function MC({capabilities:e=[],wants:t=[],haves:n=[],shallows:r=[],depth:i=null,since:a=null,exclude:s=[]}){let o=[];t=[...new Set(t)];let l=` ${e.join(" ")}`;for(let c of t)o.push(ze.encode(`want ${c}${l}
`)),l="";for(let c of r)o.push(ze.encode(`shallow ${c}
`));i!==null&&o.push(ze.encode(`deepen ${i}
`)),a!==null&&o.push(ze.encode(`deepen-since ${Math.floor(a.valueOf()/1e3)}
`));for(let c of s)o.push(ze.encode(`deepen-not ${c}
`));o.push(ze.flush());for(let c of n)o.push(ze.encode(`have ${c}
`));return o.push(ze.encode(`done
`)),o}async function qf({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,gitdir:l,ref:c,remoteRef:u,remote:f,url:h,corsProxy:d,depth:p=null,since:g=null,exclude:m=[],relative:w=!1,tags:b=!1,singleBranch:S=!1,headers:A={},prune:x=!1,pruneTags:k=!1}){let y=c||await Vr({fs:e,gitdir:l,test:!0}),E=await Ve.get({fs:e,gitdir:l}),_=f||y&&await E.get(`branch.${y}.remote`)||"origin",C=h||await E.get(`remote.${_}.url`);if(typeof C=="undefined")throw new Ot("remote OR url");let P=u||y&&await E.get(`branch.${y}.merge`)||c||"HEAD";d===void 0&&(d=await E.get("http.corsProxy"));let L=Di.getRemoteHelperFor({url:C}),N=await L.discover({http:n,onAuth:a,onAuthSuccess:s,onAuthFailure:o,corsProxy:d,service:"git-upload-pack",url:C,headers:A,protocolVersion:1}),j=N.auth,Y=N.refs;if(Y.size===0)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(p!==null&&!N.capabilities.has("shallow"))throw new or("shallow","depth");if(g!==null&&!N.capabilities.has("deepen-since"))throw new or("deepen-since","since");if(m.length>0&&!N.capabilities.has("deepen-not"))throw new or("deepen-not","exclude");if(w===!0&&!N.capabilities.has("deepen-relative"))throw new or("deepen-relative","relative");let{oid:le,fullref:he}=q.resolveAgainstMap({ref:P,map:Y});for(let G of Y.keys())G===he||G==="HEAD"||G.startsWith("refs/heads/")||b&&G.startsWith("refs/tags/")||Y.delete(G);let ae=U1([...N.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${Qo.agent}`]);w&&ae.push("deepen-relative");let Pe=S?[le]:Y.values(),de=S?[y]:await q.listRefs({fs:e,gitdir:l,filepath:"refs"}),$=[];for(let G of de)try{G=await q.expand({fs:e,gitdir:l,ref:G});let rt=await q.resolve({fs:e,gitdir:l,ref:G});await x1({fs:e,cache:t,gitdir:l,oid:rt})&&$.push(rt)}catch(rt){}$=[...new Set($)];let z=await zr.read({fs:e,gitdir:l}),D=N.capabilities.has("shallow")?[...z]:[],se=MC({capabilities:ae,wants:Pe,haves:$,shallows:D,depth:p,since:g,exclude:m}),Se=Buffer.from(await Vo(se)),gt=await L.connect({http:n,onProgress:r,corsProxy:d,service:"git-upload-pack",url:C,auth:j,body:[Se],headers:A}),be=await PC(gt.body);gt.headers&&(be.headers=gt.headers);for(let G of be.shallows)if(!z.has(G))try{let{object:rt}=await We({fs:e,cache:t,gitdir:l,oid:G}),H=new Rt(rt),Z=await Promise.all(H.headers().parent.map(Ke=>x1({fs:e,cache:t,gitdir:l,oid:Ke})));Z.length===0||Z.every(Ke=>Ke)||z.add(G)}catch(rt){z.add(G)}for(let G of be.unshallows)z.delete(G);if(await zr.write({fs:e,gitdir:l,oids:z}),S){let G=new Map([[he,le]]),rt=new Map,H=10,Z=he;for(;H--;){let _t=N.symrefs.get(Z);if(_t===void 0)break;rt.set(Z,_t),Z=_t}let ye=Y.get(Z);ye&&G.set(Z,ye);let{pruned:Ke}=await q.updateRemoteRefs({fs:e,gitdir:l,remote:_,refs:G,symrefs:rt,tags:b,prune:x});x&&(be.pruned=Ke)}else{let{pruned:G}=await q.updateRemoteRefs({fs:e,gitdir:l,remote:_,refs:Y,symrefs:N.symrefs,tags:b,prune:x,pruneTags:k});x&&(be.pruned=G)}if(be.HEAD=N.symrefs.get("HEAD"),be.HEAD===void 0){let{oid:G}=q.resolveAgainstMap({ref:"HEAD",map:Y});for(let[rt,H]of Y.entries())if(rt!=="HEAD"&&H===G){be.HEAD=rt;break}}let ot=he.startsWith("refs/tags")?"tag":"branch";if(be.FETCH_HEAD={oid:le,description:`${ot} '${Hr(he)}' of ${C}`},r||i){let G=G1(be.progress);gs(G,async rt=>{if(i&&await i(rt),r){let H=rt.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);H&&await r({phase:H[1].trim(),loaded:parseInt(H[2],10),total:parseInt(H[3],10)})}})}let ee=Buffer.from(await Vo(be.packfile));if(gt.body.error)throw gt.body.error;let Ie=ee.slice(-20).toString("hex"),Ee={defaultBranch:be.HEAD,fetchHead:be.FETCH_HEAD.oid,fetchHeadDescription:be.FETCH_HEAD.description};if(be.headers&&(Ee.headers=be.headers),x&&(Ee.pruned=be.pruned),Ie!==""&&!CC(ee)){Ee.packfile=`objects/pack/pack-${Ie}.pack`;let G=B(l,Ee.packfile);await e.write(G,ee);let rt=Z=>We({fs:e,cache:t,gitdir:l,oid:Z}),H=await Qa.fromPack({pack:ee,getExternalRefDelta:rt,onProgress:r});await e.write(G.replace(/\.pack$/,".idx"),await H.toBuffer())}return Ee}async function z1({fs:e,bare:t=!1,dir:n,gitdir:r=t?n:B(n,".git"),defaultBranch:i="master"}){if(await e.exists(r+"/config"))return;let a=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];a=a.map(s=>r+"/"+s);for(let s of a)await e.mkdir(s);await e.write(r+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${t}
`+(t?"":`	logallrefupdates = true
`)+`	symlinks = false
	ignorecase = true
`),await e.write(r+"/HEAD",`ref: refs/heads/${i}
`)}async function OC({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,onPostCheckout:l,dir:c,gitdir:u,url:f,corsProxy:h,ref:d,remote:p,depth:g,since:m,exclude:w,relative:b,singleBranch:S,noCheckout:A,noTags:x,headers:k}){try{if(await z1({fs:e,gitdir:u}),await N1({fs:e,gitdir:u,remote:p,url:f,force:!1}),h){let _=await Ve.get({fs:e,gitdir:u});await _.set("http.corsProxy",h),await Ve.save({fs:e,gitdir:u,config:_})}let{defaultBranch:y,fetchHead:E}=await qf({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,gitdir:u,ref:d,remote:p,corsProxy:h,depth:g,since:m,exclude:w,relative:b,singleBranch:S,headers:k,tags:!x});if(E===null)return;d=d||y,d=d.replace("refs/heads/",""),await Wf({fs:e,cache:t,onProgress:r,onPostCheckout:l,dir:c,gitdir:u,ref:d,remote:p,noCheckout:A})}catch(y){throw await e.rmdir(u,{recursive:!0,maxRetries:10}).catch(()=>{}),y}}async function IC({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPostCheckout:o,dir:l,gitdir:c=B(l,".git"),url:u,corsProxy:f=void 0,ref:h=void 0,remote:d="origin",depth:p=void 0,since:g=void 0,exclude:m=[],relative:w=!1,singleBranch:b=!1,noCheckout:S=!1,noTags:A=!1,headers:x={},cache:k={}}){try{return F("fs",e),F("http",t),F("gitdir",c),S||F("dir",l),F("url",u),await OC({fs:new Q(e),cache:k,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPostCheckout:o,dir:l,gitdir:c,url:u,corsProxy:f,ref:h,remote:d,depth:p,since:g,exclude:m,relative:w,singleBranch:b,noCheckout:S,noTags:A,headers:x})}catch(y){throw y.caller="git.clone",y}}async function RC({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),message:i,author:a,committer:s,signingKey:o,amend:l=!1,dryRun:c=!1,noUpdateBranch:u=!1,ref:f,parent:h,tree:d,cache:p={}}){try{F("fs",e),l||F("message",i),o&&F("onSign",t);let g=new Q(e);return await Jo({fs:g,cache:p,onSign:t,gitdir:r,message:i,author:a,committer:s,signingKey:o,amend:l,dryRun:c,noUpdateBranch:u,ref:f,parent:h,tree:d})}catch(g){throw g.caller="git.commit",g}}async function LC({fs:e,dir:t,gitdir:n=B(t,".git"),fullname:r=!1,test:i=!1}){try{return F("fs",e),F("gitdir",n),await Vr({fs:new Q(e),gitdir:n,fullname:r,test:i})}catch(a){throw a.caller="git.currentBranch",a}}async function jC({fs:e,gitdir:t,ref:n}){if(n=n.startsWith("refs/heads/")?n:`refs/heads/${n}`,!await q.exists({fs:e,gitdir:t,ref:n}))throw new Re(n);let i=await q.expand({fs:e,gitdir:t,ref:n}),a=await Vr({fs:e,gitdir:t,fullname:!0});if(i===a){let l=await q.resolve({fs:e,gitdir:t,ref:i});await q.writeRef({fs:e,gitdir:t,ref:"HEAD",value:l})}await q.deleteRef({fs:e,gitdir:t,ref:i});let s=Hr(n),o=await Ve.get({fs:e,gitdir:t});await o.deleteSection("branch",s),await Ve.save({fs:e,gitdir:t,config:o})}async function DC({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{return F("fs",e),F("ref",r),await jC({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.deleteBranch",i}}async function BC({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{F("fs",e),F("ref",r),await q.deleteRef({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.deleteRef",i}}async function NC({fs:e,gitdir:t,remote:n}){let r=await Ve.get({fs:e,gitdir:t});await r.deleteSection("remote",n),await Ve.save({fs:e,gitdir:t,config:r})}async function $C({fs:e,dir:t,gitdir:n=B(t,".git"),remote:r}){try{return F("fs",e),F("remote",r),await NC({fs:new Q(e),gitdir:n,remote:r})}catch(i){throw i.caller="git.deleteRemote",i}}async function HC({fs:e,gitdir:t,ref:n}){n=n.startsWith("refs/tags/")?n:`refs/tags/${n}`,await q.deleteRef({fs:e,gitdir:t,ref:n})}async function UC({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{return F("fs",e),F("ref",r),await HC({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.deleteTag",i}}async function GC({fs:e,gitdir:t,oid:n}){let r=n.slice(0,2);return(await e.readdir(`${t}/objects/${r}`)).map(a=>`${r}${a}`).filter(a=>a.startsWith(n))}async function zC({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:i}){let a=[],s=await e.readdir(B(n,"objects/pack"));s=s.filter(o=>o.endsWith(".idx"));for(let o of s){let l=`${n}/objects/pack/${o}`,c=await zf({fs:e,cache:t,filename:l,getExternalRefDelta:i});if(c.error)throw new ue(c.error);for(let u of c.offsets.keys())u.startsWith(r)&&a.push(u)}return a}async function VC({fs:e,cache:t,gitdir:n,oid:r}){let i=o=>We({fs:e,cache:t,gitdir:n,oid:o}),a=await GC({fs:e,gitdir:n,oid:r}),s=await zC({fs:e,cache:t,gitdir:n,oid:r,getExternalRefDelta:i});for(let o of s)a.indexOf(o)===-1&&a.push(o);if(a.length===1)return a[0];throw a.length>1?new es("oids",r,a):new Re(`an object matching "${r}"`)}async function WC({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await VC({fs:new Q(e),cache:i,gitdir:n,oid:r})}catch(a){throw a.caller="git.expandOid",a}}async function qC({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r}){try{return F("fs",e),F("gitdir",n),F("ref",r),await q.expand({fs:new Q(e),gitdir:n,ref:r})}catch(i){throw i.caller="git.expandRef",i}}async function Xf({fs:e,cache:t,gitdir:n,oids:r}){let i={},a=r.length,s=r.map((o,l)=>({index:l,oid:o}));for(;s.length;){let o=new Set;for(let{oid:c,index:u}of s)i[c]||(i[c]=new Set),i[c].add(u),i[c].size===a&&o.add(c);if(o.size>0)return[...o];let l=new Map;for(let{oid:c,index:u}of s)try{let{object:f}=await We({fs:e,cache:t,gitdir:n,oid:c}),h=Rt.from(f),{parent:d}=h.parseHeaders();for(let p of d)(!i[p]||!i[p].has(u))&&l.set(p+":"+u,{oid:p,index:u})}catch(f){}s=Array.from(l.values())}return[]}var Ff=/^.*(\r?\n|$)/gm;function XC({branches:e,contents:t}){let n=e[1],r=e[2],i=t[0],a=t[1],s=t[2],o=a.match(Ff),l=i.match(Ff),c=s.match(Ff),u=(0,A1.default)(o,l,c),f=7,h="",d=!0;for(let p of u)p.ok&&(h+=p.ok.join("")),p.conflict&&(d=!1,h+=`${"<".repeat(f)} ${n}
`,h+=p.conflict.a.join(""),h+=`${"=".repeat(f)}
`,h+=p.conflict.b.join(""),h+=`${">".repeat(f)} ${r}
`);return{cleanMerge:d,mergedText:h}}async function YC({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),index:i,ourOid:a,baseOid:s,theirOid:o,ourName:l="ours",baseName:c="base",theirName:u="theirs",dryRun:f=!1,abortOnConflict:h=!0,mergeDriver:d}){let p=lr({ref:a}),g=lr({ref:s}),m=lr({ref:o}),w=[],b=[],S=[],A=[],x=await Ii({fs:e,cache:t,dir:n,gitdir:r,trees:[p,g,m],map:async function(k,[y,E,_]){let C=Bo(k),P=await Go(y,E),L=await Go(_,E);switch(`${P}-${L}`){case"false-false":return{mode:await E.mode(),path:C,oid:await E.oid(),type:await E.type()};case"false-true":return _?{mode:await _.mode(),path:C,oid:await _.oid(),type:await _.type()}:void 0;case"true-false":return y?{mode:await y.mode(),path:C,oid:await y.oid(),type:await y.type()}:void 0;case"true-true":{if(y&&E&&_&&await y.type()==="blob"&&await E.type()==="blob"&&await _.type()==="blob")return ZC({fs:e,gitdir:r,path:C,ours:y,base:E,theirs:_,ourName:l,baseName:c,theirName:u,mergeDriver:d}).then(async N=>{if(N.cleanMerge)h||i.insert({filepath:k,oid:N.mergeResult.oid,stage:0});else if(w.push(k),b.push(k),!h){let j=await E.oid(),Y=await y.oid(),le=await _.oid();i.delete({filepath:k}),i.insert({filepath:k,oid:j,stage:1}),i.insert({filepath:k,oid:Y,stage:2}),i.insert({filepath:k,oid:le,stage:3})}return N.mergeResult});if(E&&!y&&_&&await E.type()==="blob"&&await _.type()==="blob"){if(w.push(k),S.push(k),!h){let N=await E.oid(),j=await _.oid();i.delete({filepath:k}),i.insert({filepath:k,oid:N,stage:1}),i.insert({filepath:k,oid:j,stage:3})}return{mode:await _.mode(),oid:await _.oid(),type:"blob",path:C}}if(E&&y&&!_&&await E.type()==="blob"&&await y.type()==="blob"){if(w.push(k),A.push(k),!h){let N=await E.oid(),j=await y.oid();i.delete({filepath:k}),i.insert({filepath:k,oid:N,stage:1}),i.insert({filepath:k,oid:j,stage:2})}return{mode:await y.mode(),oid:await y.oid(),type:"blob",path:C}}if(E&&!y&&!_&&await E.type()==="blob")return;throw new Ci}}},reduce:w.length!==0&&(!n||h)?void 0:async(k,y)=>{let E=y.filter(Boolean);if(k&&!(k&&k.type==="tree"&&E.length===0)){if(E.length>0){let C=new It(E).toObject(),P=await Gt({fs:e,gitdir:r,type:"tree",object:C,dryRun:f});k.oid=P}return k}}});return w.length!==0?(n&&!h&&await Ii({fs:e,cache:t,dir:n,gitdir:r,trees:[lr({ref:x.oid})],map:async function(k,[y]){let E=`${n}/${k}`;if(await y.type()==="blob"){let _=await y.mode(),C=new TextDecoder().decode(await y.content());await e.write(E,C,{mode:_})}return!0}}),new Fi(w,b,S,A)):x.oid}async function ZC({fs:e,gitdir:t,path:n,ours:r,base:i,theirs:a,ourName:s,theirName:o,baseName:l,dryRun:c,mergeDriver:u=XC}){let f="blob",h=await i.mode()===await r.mode()?await a.mode():await r.mode();if(await r.oid()===await a.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:n,oid:await r.oid(),type:f}};if(await r.oid()===await i.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:n,oid:await a.oid(),type:f}};if(await a.oid()===await i.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:n,oid:await r.oid(),type:f}};let d=Buffer.from(await r.content()).toString("utf8"),p=Buffer.from(await i.content()).toString("utf8"),g=Buffer.from(await a.content()).toString("utf8"),{mergedText:m,cleanMerge:w}=await u({branches:[l,s,o],contents:[p,d,g],path:n}),b=await Gt({fs:e,gitdir:t,type:"blob",object:Buffer.from(m,"utf8"),dryRun:c});return{cleanMerge:w,mergeResult:{mode:h,path:n,oid:b,type:f}}}async function V1({fs:e,cache:t,dir:n,gitdir:r,ours:i,theirs:a,fastForward:s=!0,fastForwardOnly:o=!1,dryRun:l=!1,noUpdateBranch:c=!1,abortOnConflict:u=!0,message:f,author:h,committer:d,signingKey:p,onSign:g,mergeDriver:m}){i===void 0&&(i=await Vr({fs:e,gitdir:r,fullname:!0})),i=await q.expand({fs:e,gitdir:r,ref:i}),a=await q.expand({fs:e,gitdir:r,ref:a});let w=await q.resolve({fs:e,gitdir:r,ref:i}),b=await q.resolve({fs:e,gitdir:r,ref:a}),S=await Xf({fs:e,cache:t,gitdir:r,oids:[w,b]});if(S.length!==1)throw new Ci;let A=S[0];if(A===b)return{oid:w,alreadyMerged:!0};if(s&&A===w)return!l&&!c&&await q.writeRef({fs:e,gitdir:r,ref:i,value:b}),{oid:b,fastForward:!0};{if(o)throw new is;let x=await ct.acquire({fs:e,gitdir:r,cache:t,allowUnmerged:!1},async y=>YC({fs:e,cache:t,dir:n,gitdir:r,index:y,ourOid:w,theirOid:b,baseOid:A,ourName:Hr(i),baseName:"base",theirName:Hr(a),dryRun:l,abortOnConflict:u,mergeDriver:m}));if(x instanceof Fi)throw x;return f||(f=`Merge branch '${Hr(a)}' into ${Hr(i)}`),{oid:await Jo({fs:e,cache:t,gitdir:r,message:f,ref:i,tree:x,parent:[w,b],author:h,committer:d,signingKey:p,onSign:g,dryRun:l,noUpdateBranch:c}),tree:x,mergeCommit:!0}}}async function W1({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,dir:l,gitdir:c,ref:u,url:f,remote:h,remoteRef:d,prune:p,pruneTags:g,fastForward:m,fastForwardOnly:w,corsProxy:b,singleBranch:S,headers:A,author:x,committer:k,signingKey:y}){try{if(!u){let C=await Vr({fs:e,gitdir:c});if(!C)throw new Ot("ref");u=C}let{fetchHead:E,fetchHeadDescription:_}=await qf({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,gitdir:c,corsProxy:b,ref:u,url:f,remote:h,remoteRef:d,singleBranch:S,headers:A,prune:p,pruneTags:g});await V1({fs:e,cache:t,gitdir:c,ours:u,theirs:E,fastForward:m,fastForwardOnly:w,message:`Merge ${_}`,author:x,committer:k,signingKey:y,dryRun:!1,noUpdateBranch:!1}),await Wf({fs:e,cache:t,onProgress:r,dir:l,gitdir:c,ref:u,remote:h,noCheckout:!1})}catch(E){throw E.caller="git.pull",E}}async function KC({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l=B(o,".git"),ref:c,url:u,remote:f,remoteRef:h,corsProxy:d,singleBranch:p,headers:g={},cache:m={}}){try{F("fs",e),F("http",t),F("gitdir",l);let w={name:"",email:"",timestamp:Date.now(),timezoneOffset:0};return await W1({fs:new Q(e),cache:m,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l,ref:c,url:u,remote:f,remoteRef:h,fastForwardOnly:!0,corsProxy:d,singleBranch:p,headers:g,author:w,committer:w})}catch(w){throw w.caller="git.fastForward",w}}async function JC({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l=B(o,".git"),ref:c,remote:u,remoteRef:f,url:h,corsProxy:d,depth:p=null,since:g=null,exclude:m=[],relative:w=!1,tags:b=!1,singleBranch:S=!1,headers:A={},prune:x=!1,pruneTags:k=!1,cache:y={}}){try{return F("fs",e),F("http",t),F("gitdir",l),await qf({fs:new Q(e),cache:y,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,gitdir:l,ref:c,remote:u,remoteRef:f,url:h,corsProxy:d,depth:p,since:g,exclude:m,relative:w,tags:b,singleBranch:S,headers:A,prune:x,pruneTags:k})}catch(E){throw E.caller="git.fetch",E}}async function QC({fs:e,dir:t,gitdir:n=B(t,".git"),oids:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oids",r),await Xf({fs:new Q(e),cache:i,gitdir:n,oids:r})}catch(a){throw a.caller="git.findMergeBase",a}}async function q1({fs:e,filepath:t}){if(await e.exists(B(t,".git")))return t;{let n=ki(t);if(n===t)throw new Re(`git root for ${t}`);return q1({fs:e,filepath:n})}}async function e8({fs:e,filepath:t}){try{return F("fs",e),F("filepath",t),await q1({fs:new Q(e),filepath:t})}catch(n){throw n.caller="git.findRoot",n}}async function t8({fs:e,dir:t,gitdir:n=B(t,".git"),path:r}){try{return F("fs",e),F("gitdir",n),F("path",r),await ds({fs:new Q(e),gitdir:n,path:r})}catch(i){throw i.caller="git.getConfig",i}}async function n8({fs:e,gitdir:t,path:n}){return(await Ve.get({fs:e,gitdir:t})).getall(n)}async function r8({fs:e,dir:t,gitdir:n=B(t,".git"),path:r}){try{return F("fs",e),F("gitdir",n),F("path",r),await n8({fs:new Q(e),gitdir:n,path:r})}catch(i){throw i.caller="git.getConfigAll",i}}async function i8({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,url:a,headers:s={},forPush:o=!1}){try{F("http",e),F("url",a);let c=await Di.getRemoteHelperFor({url:a}).discover({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,headers:s,protocolVersion:1}),u={capabilities:[...c.capabilities]};for(let[f,h]of c.refs){let d=f.split("/"),p=d.pop(),g=u;for(let m of d)g[m]=g[m]||{},g=g[m];g[p]=h}for(let[f,h]of c.symrefs){let d=f.split("/"),p=d.pop(),g=u;for(let m of d)g[m]=g[m]||{},g=g[m];g[p]=h}return u}catch(l){throw l.caller="git.getRemoteInfo",l}}function X1(e,t,n,r){let i=[];for(let[a,s]of e.refs){if(t&&!a.startsWith(t))continue;if(a.endsWith("^{}")){if(r){let l=a.replace("^{}",""),c=i[i.length-1],u=c.ref===l?c:i.find(f=>f.ref===l);if(u===void 0)throw new Error("I did not expect this to happen");u.peeled=s}continue}let o={ref:a,oid:s};n&&e.symrefs.has(a)&&(o.target=e.symrefs.get(a)),i.push(o)}return i}async function a8({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,url:a,headers:s={},forPush:o=!1,protocolVersion:l=2}){try{F("http",e),F("url",a);let u=await Di.getRemoteHelperFor({url:a}).discover({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,headers:s,protocolVersion:l});if(u.protocolVersion===2)return{protocolVersion:u.protocolVersion,capabilities:u.capabilities2};let f={};for(let h of u.capabilities){let[d,p]=h.split("=");p?f[d]=p:f[d]=!0}return{protocolVersion:1,capabilities:f,refs:X1(u,void 0,!0,!0)}}catch(c){throw c.caller="git.getRemoteInfo2",c}}async function s8({type:e,object:t,format:n="content",oid:r=void 0}){return n!=="deflated"&&(n!=="wrapped"&&(t=ur.wrap({type:e,object:t})),r=await Un(t)),{oid:r,object:t}}async function o8({object:e}){try{F("object",e),typeof e=="string"?e=Buffer.from(e,"utf8"):e=Buffer.from(e);let t="blob",{oid:n,object:r}=await s8({type:"blob",format:"content",object:e});return{oid:n,type:t,object:new Uint8Array(r),format:"wrapped"}}catch(t){throw t.caller="git.hashBlob",t}}async function l8({fs:e,cache:t,onProgress:n,dir:r,gitdir:i,filepath:a}){try{a=B(r,a);let s=await e.read(a),o=c=>We({fs:e,cache:t,gitdir:i,oid:c}),l=await Qa.fromPack({pack:s,getExternalRefDelta:o,onProgress:n});return await e.write(a.replace(/\.pack$/,".idx"),await l.toBuffer()),{oids:[...l.hashes]}}catch(s){throw s.caller="git.indexPack",s}}async function c8({fs:e,onProgress:t,dir:n,gitdir:r=B(n,".git"),filepath:i,cache:a={}}){try{return F("fs",e),F("dir",n),F("gitdir",n),F("filepath",i),await l8({fs:new Q(e),cache:a,onProgress:t,dir:n,gitdir:r,filepath:i})}catch(s){throw s.caller="git.indexPack",s}}async function u8({fs:e,bare:t=!1,dir:n,gitdir:r=t?n:B(n,".git"),defaultBranch:i="master"}){try{return F("fs",e),F("gitdir",r),t||F("dir",n),await z1({fs:new Q(e),bare:t,dir:n,gitdir:r,defaultBranch:i})}catch(a){throw a.caller="git.init",a}}async function Y1({fs:e,cache:t,gitdir:n,oid:r,ancestor:i,depth:a}){let s=await zr.read({fs:e,gitdir:n});if(!r)throw new Ot("oid");if(!i)throw new Ot("ancestor");if(r===i)return!1;let o=[r],l=new Set,c=0;for(;o.length;){if(c++===a)throw new ss(a);let u=o.shift(),{type:f,object:h}=await We({fs:e,cache:t,gitdir:n,oid:u});if(f!=="commit")throw new At(u,f,"commit");let d=Rt.from(h).parse();for(let p of d.parent)if(p===i)return!0;if(!s.has(u))for(let p of d.parent)l.has(p)||(o.push(p),l.add(p))}return!1}async function f8({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,ancestor:i,depth:a=-1,cache:s={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),F("ancestor",i),await Y1({fs:new Q(e),cache:s,gitdir:n,oid:r,ancestor:i,depth:a})}catch(o){throw o.caller="git.isDescendent",o}}async function h8({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r}){try{return F("fs",e),F("dir",t),F("gitdir",n),F("filepath",r),Ri.isIgnored({fs:new Q(e),dir:t,gitdir:n,filepath:r})}catch(i){throw i.caller="git.isIgnored",i}}async function d8({fs:e,dir:t,gitdir:n=B(t,".git"),remote:r}){try{return F("fs",e),F("gitdir",n),q.listBranches({fs:new Q(e),gitdir:n,remote:r})}catch(i){throw i.caller="git.listBranches",i}}async function p8({fs:e,gitdir:t,ref:n,cache:r}){if(n){let i=await q.resolve({gitdir:t,fs:e,ref:n}),a=[];return await Z1({fs:e,cache:r,gitdir:t,oid:i,filenames:a,prefix:""}),a}else return ct.acquire({fs:e,gitdir:t,cache:r},async function(i){return i.entries.map(a=>a.path)})}async function Z1({fs:e,cache:t,gitdir:n,oid:r,filenames:i,prefix:a}){let{tree:s}=await Bi({fs:e,cache:t,gitdir:n,oid:r});for(let o of s)o.type==="tree"?await Z1({fs:e,cache:t,gitdir:n,oid:o.oid,filenames:i,prefix:B(a,o.path)}):i.push(B(a,o.path))}async function m8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),await p8({fs:new Q(e),cache:i,gitdir:n,ref:r})}catch(a){throw a.caller="git.listFiles",a}}async function g8({fs:e,cache:t,gitdir:n,ref:r}){let i;try{i=await q.resolve({gitdir:n,fs:e,ref:r})}catch(o){if(o instanceof Re)return[]}return(await Bi({fs:e,cache:t,gitdir:n,oid:i})).tree.map(o=>({target:o.path,note:o.oid}))}async function y8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r="refs/notes/commits",cache:i={}}){try{return F("fs",e),F("gitdir",n),F("ref",r),await g8({fs:new Q(e),cache:i,gitdir:n,ref:r})}catch(a){throw a.caller="git.listNotes",a}}async function v8({fs:e,gitdir:t}){let n=await Ve.get({fs:e,gitdir:t}),r=await n.getSubsections("remote");return Promise.all(r.map(async a=>{let s=await n.get(`remote.${a}.url`);return{remote:a,url:s}}))}async function w8({fs:e,dir:t,gitdir:n=B(t,".git")}){try{return F("fs",e),F("gitdir",n),await v8({fs:new Q(e),gitdir:n})}catch(r){throw r.caller="git.listRemotes",r}}async function b8(e){let t=ze.streamReader(e),n=[],r;for(;r=await t(),r!==!0;){if(r===null)continue;r=r.toString("utf8").replace(/\n$/,"");let[i,a,...s]=r.split(" "),o={ref:a,oid:i};for(let l of s){let[c,u]=l.split(":");c==="symref-target"?o.target=u:c==="peeled"&&(o.peeled=u)}n.push(o)}return n}async function x8({prefix:e,symrefs:t,peelTags:n}){let r=[];return r.push(ze.encode(`command=ls-refs
`)),r.push(ze.encode(`agent=${Qo.agent}
`)),(n||t||e)&&r.push(ze.delim()),n&&r.push(ze.encode("peel")),t&&r.push(ze.encode("symrefs")),e&&r.push(ze.encode(`ref-prefix ${e}`)),r.push(ze.flush()),r}async function _8({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,url:a,headers:s={},forPush:o=!1,protocolVersion:l=2,prefix:c,symrefs:u,peelTags:f}){try{F("http",e),F("url",a);let h=await ji.discover({http:e,onAuth:t,onAuthSuccess:n,onAuthFailure:r,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,headers:s,protocolVersion:l});if(h.protocolVersion===1)return X1(h,c,u,f);let d=await x8({prefix:c,symrefs:u,peelTags:f}),p=await ji.connect({http:e,auth:h.auth,headers:s,corsProxy:i,service:o?"git-receive-pack":"git-upload-pack",url:a,body:d});return b8(p.body)}catch(h){throw h.caller="git.listServerRefs",h}}async function S8({fs:e,dir:t,gitdir:n=B(t,".git")}){try{return F("fs",e),F("gitdir",n),q.listTags({fs:new Q(e),gitdir:n})}catch(r){throw r.caller="git.listTags",r}}function E8(e,t){return e.committer.timestamp-t.committer.timestamp}var A8="e69de29bb2d1d6434b8b29ae775ad8c2e48c5391";async function _1({fs:e,cache:t,gitdir:n,oid:r,fileId:i}){if(i===A8)return;let a=r,s,o=await Oi({fs:e,cache:t,gitdir:n,oid:r}),l=o.tree;return i===o.oid?s=o.path:(s=await K1({fs:e,cache:t,gitdir:n,tree:l,fileId:i,oid:a}),Array.isArray(s)&&(s.length===0?s=void 0:s.length===1&&(s=s[0]))),s}async function K1({fs:e,cache:t,gitdir:n,tree:r,fileId:i,oid:a,filepaths:s=[],parentPath:o=""}){let l=r.entries().map(function(c){let u;return c.oid===i?(u=B(o,c.path),s.push(u)):c.type==="tree"&&(u=We({fs:e,cache:t,gitdir:n,oid:c.oid}).then(function({object:f}){return K1({fs:e,cache:t,gitdir:n,tree:It.from(f),fileId:i,oid:a,filepaths:s,parentPath:B(o,c.path)})})),u});return await Promise.all(l),s}async function k8({fs:e,cache:t,gitdir:n,filepath:r,ref:i,depth:a,since:s,force:o,follow:l}){let c=typeof s=="undefined"?void 0:Math.floor(s.valueOf()/1e3),u=[],f=await zr.read({fs:e,gitdir:n}),h=await q.resolve({fs:e,gitdir:n,ref:i}),d=[await zo({fs:e,cache:t,gitdir:n,oid:h})],p,g,m;function w(b){m&&r&&u.push(b)}for(;d.length>0;){let b=d.pop();if(c!==void 0&&b.commit.committer.timestamp<=c)break;if(r){let S;try{S=await ms({fs:e,cache:t,gitdir:n,oid:b.commit.tree,filepath:r}),g&&p!==S&&u.push(g),p=S,g=b,m=!0}catch(A){if(A instanceof Re){let x=l&&p;if(x&&(x=await _1({fs:e,cache:t,gitdir:n,oid:b.commit.tree,fileId:p}),x))if(Array.isArray(x)){if(g){let k=await _1({fs:e,cache:t,gitdir:n,oid:g.commit.tree,fileId:p});if(Array.isArray(k))if(x=x.filter(y=>k.indexOf(y)===-1),x.length===1)x=x[0],r=x,g&&u.push(g);else{x=!1,g&&u.push(g);break}}}else r=x,g&&u.push(g);if(!x){if(m&&p&&(u.push(g),!o))break;if(!o&&!l)throw A}g=b,m=!1}else throw A}}else u.push(b);if(a!==void 0&&u.length===a){w(b);break}if(!f.has(b.oid))for(let S of b.commit.parent){let A=await zo({fs:e,cache:t,gitdir:n,oid:S});d.map(x=>x.oid).includes(A.oid)||d.push(A)}d.length===0&&w(b),d.sort((S,A)=>E8(S.commit,A.commit))}return u}async function T8({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,ref:i="HEAD",depth:a,since:s,force:o,follow:l,cache:c={}}){try{return F("fs",e),F("gitdir",n),F("ref",i),await k8({fs:new Q(e),cache:c,gitdir:n,filepath:r,ref:i,depth:a,since:s,force:o,follow:l})}catch(u){throw u.caller="git.log",u}}async function C8({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ours:i,theirs:a,fastForward:s=!0,fastForwardOnly:o=!1,dryRun:l=!1,noUpdateBranch:c=!1,abortOnConflict:u=!0,message:f,author:h,committer:d,signingKey:p,cache:g={},mergeDriver:m}){try{F("fs",e),p&&F("onSign",t);let w=new Q(e),b=await Gr({fs:w,gitdir:r,author:h});if(!b&&(!o||!s))throw new kt("author");let S=await Li({fs:w,gitdir:r,author:b,committer:d});if(!S&&(!o||!s))throw new kt("committer");return await V1({fs:w,cache:g,dir:n,gitdir:r,ours:i,theirs:a,fastForward:s,fastForwardOnly:o,dryRun:l,noUpdateBranch:c,abortOnConflict:u,message:f,author:b,committer:S,signingKey:p,onSign:t,mergeDriver:m})}catch(w){throw w.caller="git.merge",w}}var F8={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function J1({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),oids:i}){let a=new Gf.default,s=[];function o(u,f){let h=Buffer.from(u,f);s.push(h),a.update(h)}async function l({stype:u,object:f}){let h=F8[u],d=f.length,p=d>15?128:0,g=d&15;d=d>>>4;let m=(p|h|g).toString(16);for(o(m,"hex");p;)p=d>127?128:0,m=p|d&127,o(Uf(2,m),"hex"),d=d>>>7;o(Buffer.from(await R1(f)))}o("PACK"),o("00000002","hex"),o(Uf(8,i.length),"hex");for(let u of i){let{type:f,object:h}=await We({fs:e,cache:t,gitdir:r,oid:u});await l({write:o,object:h,stype:f})}let c=a.digest();return s.push(c),s}async function P8({fs:e,cache:t,gitdir:n,oids:r,write:i}){let a=await J1({fs:e,cache:t,gitdir:n,oids:r}),s=Buffer.from(await Vo(a)),l=`pack-${s.slice(-20).toString("hex")}.pack`;return i?(await e.write(B(n,`objects/pack/${l}`),s),{filename:l}):{filename:l,packfile:new Uint8Array(s)}}async function M8({fs:e,dir:t,gitdir:n=B(t,".git"),oids:r,write:i=!1,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("oids",r),await P8({fs:new Q(e),cache:a,gitdir:n,oids:r,write:i})}catch(s){throw s.caller="git.packObjects",s}}async function O8({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l=B(o,".git"),ref:c,url:u,remote:f,remoteRef:h,prune:d=!1,pruneTags:p=!1,fastForward:g=!0,fastForwardOnly:m=!1,corsProxy:w,singleBranch:b,headers:S={},author:A,committer:x,signingKey:k,cache:y={}}){try{F("fs",e),F("gitdir",l);let E=new Q(e),_=await Gr({fs:E,gitdir:l,author:A});if(!_)throw new kt("author");let C=await Li({fs:E,gitdir:l,author:_,committer:x});if(!C)throw new kt("committer");return await W1({fs:E,cache:y,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,dir:o,gitdir:l,ref:c,url:u,remote:f,remoteRef:h,fastForward:g,fastForwardOnly:m,corsProxy:w,singleBranch:b,headers:S,author:_,committer:C,signingKey:k,prune:d,pruneTags:p})}catch(E){throw E.caller="git.pull",E}}async function I8({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),start:i,finish:a}){let s=await zr.read({fs:e,gitdir:r}),o=new Set,l=new Set;for(let f of i)o.add(await q.resolve({fs:e,gitdir:r,ref:f}));for(let f of a)try{let h=await q.resolve({fs:e,gitdir:r,ref:f});l.add(h)}catch(h){}let c=new Set;async function u(f){c.add(f);let{type:h,object:d}=await We({fs:e,cache:t,gitdir:r,oid:f});if(h==="tag"){let g=Ut.from(d).headers().object;return u(g)}if(h!=="commit")throw new At(f,h,"commit");if(!s.has(f)){let g=Rt.from(d).headers().parent;for(f of g)!l.has(f)&&!c.has(f)&&await u(f)}}for(let f of o)await u(f);return c}async function Pf({fs:e,cache:t,dir:n,gitdir:r=B(n,".git"),oids:i}){let a=new Set;async function s(o){if(a.has(o))return;a.add(o);let{type:l,object:c}=await We({fs:e,cache:t,gitdir:r,oid:o});if(l==="tag"){let f=Ut.from(c).headers().object;await s(f)}else if(l==="commit"){let f=Rt.from(c).headers().tree;await s(f)}else if(l==="tree"){let u=It.from(c);for(let f of u)f.type==="blob"&&a.add(f.oid),f.type==="tree"&&await s(f.oid)}}for(let o of i)await s(o);return a}async function R8(e){let t={},n="",r=ze.streamReader(e),i=await r();for(;i!==!0;)i!==null&&(n+=i.toString("utf8")+`
`),i=await r();let a=n.toString("utf8").split(`
`);if(i=a.shift(),!i.startsWith("unpack "))throw new Ur('unpack ok" or "unpack [error message]',i);t.ok=i==="unpack ok",t.ok||(t.error=i.slice(7)),t.refs={};for(let s of a){if(s.trim()==="")continue;let o=s.slice(0,2),l=s.slice(3),c=l.indexOf(" ");c===-1&&(c=l.length);let u=l.slice(0,c),f=l.slice(c+1);t.refs[u]={ok:o==="ok",error:f}}return t}async function L8({capabilities:e=[],triplets:t=[]}){let n=[],r=`\0 ${e.join(" ")}`;for(let i of t)n.push(ze.encode(`${i.oldoid} ${i.oid} ${i.fullRef}${r}
`)),r="";return n.push(ze.flush()),n}async function j8({fs:e,cache:t,http:n,onProgress:r,onMessage:i,onAuth:a,onAuthSuccess:s,onAuthFailure:o,onPrePush:l,gitdir:c,ref:u,remoteRef:f,remote:h,url:d,force:p=!1,delete:g=!1,corsProxy:m,headers:w={}}){let b=u||await Vr({fs:e,gitdir:c});if(typeof b=="undefined")throw new Ot("ref");let S=await Ve.get({fs:e,gitdir:c});h=h||await S.get(`branch.${b}.pushRemote`)||await S.get("remote.pushDefault")||await S.get(`branch.${b}.remote`)||"origin";let A=d||await S.get(`remote.${h}.pushurl`)||await S.get(`remote.${h}.url`);if(typeof A=="undefined")throw new Ot("remote OR url");let x=f||await S.get(`branch.${b}.merge`);if(typeof A=="undefined")throw new Ot("remoteRef");m===void 0&&(m=await S.get("http.corsProxy"));let k=await q.expand({fs:e,gitdir:c,ref:b}),y=g?"0000000000000000000000000000000000000000":await q.resolve({fs:e,gitdir:c,ref:k}),E=Di.getRemoteHelperFor({url:A}),_=await E.discover({http:n,onAuth:a,onAuthSuccess:s,onAuthFailure:o,corsProxy:m,service:"git-receive-pack",url:A,headers:w,protocolVersion:1}),C=_.auth,P;if(!x)P=k;else try{P=await q.expandAgainstMap({ref:x,map:_.refs})}catch(z){if(z instanceof Re)P=x.startsWith("refs/")?x:`refs/heads/${x}`;else throw z}let L=_.refs.get(P)||"0000000000000000000000000000000000000000";if(l&&!await l({remote:h,url:A,localRef:{ref:g?"(delete)":k,oid:y},remoteRef:{ref:P,oid:L}}))throw new Mi;let N=!_.capabilities.has("no-thin"),j=new Set;if(!g){let z=[..._.refs.values()],D=new Set;if(L!=="0000000000000000000000000000000000000000"){let se=await Xf({fs:e,cache:t,gitdir:c,oids:[y,L]});for(let Se of se)z.push(Se);N&&(D=await Pf({fs:e,cache:t,gitdir:c,oids:se}))}if(!z.includes(y)){let se=await I8({fs:e,cache:t,gitdir:c,start:[y],finish:z});j=await Pf({fs:e,cache:t,gitdir:c,oids:se})}if(N){try{let se=await q.resolve({fs:e,gitdir:c,ref:`refs/remotes/${h}/HEAD`,depth:2}),{oid:Se}=await q.resolveAgainstMap({ref:se.replace(`refs/remotes/${h}/`,""),fullref:se,map:_.refs}),gt=[Se];for(let be of await Pf({fs:e,cache:t,gitdir:c,oids:gt}))D.add(be)}catch(se){}for(let se of D)j.delete(se)}if(y===L&&(p=!0),!p){if(k.startsWith("refs/tags")&&L!=="0000000000000000000000000000000000000000")throw new Pi("tag-exists");if(y!=="0000000000000000000000000000000000000000"&&L!=="0000000000000000000000000000000000000000"&&!await Y1({fs:e,cache:t,gitdir:c,oid:y,ancestor:L,depth:-1}))throw new Pi("not-fast-forward")}}let Y=U1([..._.capabilities],["report-status","side-band-64k",`agent=${Qo.agent}`]),le=await L8({capabilities:Y,triplets:[{oldoid:L,oid:y,fullRef:P}]}),he=g?[]:await J1({fs:e,cache:t,gitdir:c,oids:[...j]}),ae=await E.connect({http:n,onProgress:r,corsProxy:m,service:"git-receive-pack",url:A,auth:C,headers:w,body:[...le,...he]}),{packfile:Pe,progress:de}=await Wo.demux(ae.body);if(i){let z=G1(de);gs(z,async D=>{await i(D)})}let $=await R8(Pe);if(ae.headers&&($.headers=ae.headers),h&&$.ok&&$.refs[P].ok&&!k.startsWith("refs/tags")){let z=`refs/remotes/${h}/${P.replace("refs/heads","")}`;g?await q.deleteRef({fs:e,gitdir:c,ref:z}):await q.writeRef({fs:e,gitdir:c,ref:z,value:y})}if($.ok&&Object.values($.refs).every(z=>z.ok))return $;{let z=Object.entries($.refs).filter(([D,se])=>!se.ok).map(([D,se])=>`
  - ${D}: ${se.error}`).join("");throw new as(z,$)}}async function D8({fs:e,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPrePush:o,dir:l,gitdir:c=B(l,".git"),ref:u,remoteRef:f,remote:h="origin",url:d,force:p=!1,delete:g=!1,corsProxy:m,headers:w={},cache:b={}}){try{return F("fs",e),F("http",t),F("gitdir",c),await j8({fs:new Q(e),cache:b,http:t,onProgress:n,onMessage:r,onAuth:i,onAuthSuccess:a,onAuthFailure:s,onPrePush:o,gitdir:c,ref:u,remoteRef:f,remote:h,url:d,force:p,delete:g,corsProxy:m,headers:w})}catch(S){throw S.caller="git.push",S}}async function Q1({fs:e,cache:t,gitdir:n,oid:r}){let{type:i,object:a}=await We({fs:e,cache:t,gitdir:n,oid:r});if(i==="tag")return r=Ut.from(a).parse().object,Q1({fs:e,cache:t,gitdir:n,oid:r});if(i!=="blob")throw new At(r,i,"blob");return{oid:r,blob:new Uint8Array(a)}}async function ey({fs:e,cache:t,gitdir:n,oid:r,filepath:i=void 0}){return i!==void 0&&(r=await ms({fs:e,cache:t,gitdir:n,oid:r,filepath:i})),await Q1({fs:e,cache:t,gitdir:n,oid:r})}async function ys({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,filepath:i,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await ey({fs:new Q(e),cache:a,gitdir:n,oid:r,filepath:i})}catch(s){throw s.caller="git.readBlob",s}}async function B8({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await zo({fs:new Q(e),cache:i,gitdir:n,oid:r})}catch(a){throw a.caller="git.readCommit",a}}async function N8({fs:e,cache:t,gitdir:n,ref:r="refs/notes/commits",oid:i}){let a=await q.resolve({gitdir:n,fs:e,ref:r}),{blob:s}=await ey({fs:e,cache:t,gitdir:n,oid:a,filepath:i});return s}async function $8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r="refs/notes/commits",oid:i,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("ref",r),F("oid",i),await N8({fs:new Q(e),cache:a,gitdir:n,ref:r,oid:i})}catch(s){throw s.caller="git.readNote",s}}async function H8({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,format:i="parsed",filepath:a=void 0,encoding:s=void 0,cache:o={}}){try{F("fs",e),F("gitdir",n),F("oid",r);let l=new Q(e);a!==void 0&&(r=await ms({fs:l,cache:o,gitdir:n,oid:r,filepath:a}));let u=await We({fs:l,cache:o,gitdir:n,oid:r,format:i==="parsed"?"content":i});if(u.oid=r,i==="parsed")switch(u.format="parsed",u.type){case"commit":u.object=Rt.from(u.object).parse();break;case"tree":u.object=It.from(u.object).entries();break;case"blob":s?u.object=u.object.toString(s):(u.object=new Uint8Array(u.object),u.format="content");break;case"tag":u.object=Ut.from(u.object).parse();break;default:throw new At(u.oid,u.type,"blob|commit|tag|tree")}else(u.format==="deflated"||u.format==="wrapped")&&(u.type=u.format);return u}catch(l){throw l.caller="git.readObject",l}}async function U8({fs:e,cache:t,gitdir:n,oid:r}){let{type:i,object:a}=await We({fs:e,cache:t,gitdir:n,oid:r,format:"content"});if(i!=="tag")throw new At(r,i,"tag");let s=Ut.from(a);return{oid:r,tag:s.parse(),payload:s.payload()}}async function G8({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,cache:i={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await U8({fs:new Q(e),cache:i,gitdir:n,oid:r})}catch(a){throw a.caller="git.readTag",a}}async function z8({fs:e,dir:t,gitdir:n=B(t,".git"),oid:r,filepath:i=void 0,cache:a={}}){try{return F("fs",e),F("gitdir",n),F("oid",r),await Bi({fs:new Q(e),cache:a,gitdir:n,oid:r,filepath:i})}catch(s){throw s.caller="git.readTree",s}}async function V8({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,cache:i={}}){try{F("fs",e),F("gitdir",n),F("filepath",r),await ct.acquire({fs:new Q(e),gitdir:n,cache:i},async function(a){a.delete({filepath:r})})}catch(a){throw a.caller="git.remove",a}}async function W8({fs:e,cache:t,onSign:n,gitdir:r,ref:i="refs/notes/commits",oid:a,author:s,committer:o,signingKey:l}){let c;try{c=await q.resolve({gitdir:r,fs:e,ref:i})}catch(p){if(!(p instanceof Re))throw p}let f=(await Bi({fs:e,gitdir:r,oid:c||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;f=f.filter(p=>p.path!==a);let h=await Vf({fs:e,gitdir:r,tree:f});return await Jo({fs:e,cache:t,onSign:n,gitdir:r,ref:i,tree:h,parent:c&&[c],message:`Note removed by 'isomorphic-git removeNote'
`,author:s,committer:o,signingKey:l})}async function q8({fs:e,onSign:t,dir:n,gitdir:r=B(n,".git"),ref:i="refs/notes/commits",oid:a,author:s,committer:o,signingKey:l,cache:c={}}){try{F("fs",e),F("gitdir",r),F("oid",a);let u=new Q(e),f=await Gr({fs:u,gitdir:r,author:s});if(!f)throw new kt("author");let h=await Li({fs:u,gitdir:r,author:f,committer:o});if(!h)throw new kt("committer");return await W8({fs:u,cache:c,onSign:t,gitdir:r,ref:i,oid:a,author:f,committer:h,signingKey:l})}catch(u){throw u.caller="git.removeNote",u}}async function X8({fs:e,gitdir:t,oldref:n,ref:r,checkout:i=!1}){if(r!==fn.default.clean(r))throw new Gn(r,fn.default.clean(r));if(n!==fn.default.clean(n))throw new Gn(n,fn.default.clean(n));let a=`refs/heads/${n}`,s=`refs/heads/${r}`;if(await q.exists({fs:e,gitdir:t,ref:s}))throw new hn("branch",r,!1);let l=await q.resolve({fs:e,gitdir:t,ref:a,depth:1});await q.writeRef({fs:e,gitdir:t,ref:s,value:l}),await q.deleteRef({fs:e,gitdir:t,ref:a});let u=await Vr({fs:e,gitdir:t,fullname:!0})===a;(i||u)&&await q.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:s})}async function Y8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,oldref:i,checkout:a=!1}){try{return F("fs",e),F("gitdir",n),F("ref",r),F("oldref",i),await X8({fs:new Q(e),gitdir:n,ref:r,oldref:i,checkout:a})}catch(s){throw s.caller="git.renameBranch",s}}async function ty({gitdir:e,type:t,object:n}){return Un(ur.wrap({type:t,object:n}))}async function Z8({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,ref:i,cache:a={}}){try{F("fs",e),F("gitdir",n),F("filepath",r);let s=new Q(e),o,l;try{o=await q.resolve({fs:s,gitdir:n,ref:i||"HEAD"})}catch(f){if(i)throw f}if(o)try{o=await ms({fs:s,cache:a,gitdir:n,oid:o,filepath:r})}catch(f){o=null}let c={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0},u=t&&await s.read(B(t,r));u&&(l=await ty({gitdir:n,type:"blob",object:u}),o===l&&(c=await s.lstat(B(t,r)))),await ct.acquire({fs:s,gitdir:n,cache:a},async function(f){f.delete({filepath:r}),o&&f.insert({filepath:r,stats:c,oid:o})})}catch(s){throw s.caller="git.reset",s}}async function K8({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,depth:i}){try{return F("fs",e),F("gitdir",n),F("ref",r),await q.resolve({fs:new Q(e),gitdir:n,ref:r,depth:i})}catch(a){throw a.caller="git.resolveRef",a}}async function J8({fs:e,dir:t,gitdir:n=B(t,".git"),path:r,value:i,append:a=!1}){try{F("fs",e),F("gitdir",n),F("path",r);let s=new Q(e),o=await Ve.get({fs:s,gitdir:n});a?await o.append(r,i):await o.set(r,i),await Ve.save({fs:s,gitdir:n,config:o})}catch(s){throw s.caller="git.setConfig",s}}async function Q8({fs:e,dir:t,gitdir:n=B(t,".git"),filepath:r,cache:i={}}){try{F("fs",e),F("gitdir",n),F("filepath",r);let a=new Q(e);if(await Ri.isIgnored({fs:a,gitdir:n,dir:t,filepath:r}))return"ignored";let o=await e6({fs:a,cache:i,gitdir:n}),l=await ny({fs:a,cache:i,gitdir:n,tree:o,path:r}),c=await ct.acquire({fs:a,gitdir:n,cache:i},async function(g){for(let m of g)if(m.path===r)return m;return null}),u=await a.lstat(B(t,r)),f=l!==null,h=c!==null,d=u!==null,p=async()=>{if(h&&!Do(c,u))return c.oid;{let g=await a.read(B(t,r)),m=await ty({gitdir:n,type:"blob",object:g});return h&&c.oid===m&&u.size!==-1&&ct.acquire({fs:a,gitdir:n,cache:i},async function(w){w.insert({filepath:r,stats:u,oid:m})}),m}};if(!f&&!d&&!h)return"absent";if(!f&&!d&&h)return"*absent";if(!f&&d&&!h)return"*added";if(!f&&d&&h)return await p()===c.oid?"added":"*added";if(f&&!d&&!h)return"deleted";if(f&&!d&&h)return l===c.oid,"*deleted";if(f&&d&&!h)return await p()===l?"*undeleted":"*undeletemodified";if(f&&d&&h){let g=await p();return g===l?g===c.oid?"unmodified":"*unmodified":g===c.oid?"modified":"*modified"}}catch(a){throw a.caller="git.status",a}}async function ny({fs:e,cache:t,gitdir:n,tree:r,path:i}){typeof i=="string"&&(i=i.split("/"));let a=i.shift();for(let s of r)if(s.path===a){if(i.length===0)return s.oid;let{type:o,object:l}=await We({fs:e,cache:t,gitdir:n,oid:s.oid});if(o==="tree"){let c=It.from(l);return ny({fs:e,cache:t,gitdir:n,tree:c,path:i})}if(o==="blob")throw new At(s.oid,o,"blob",i.join("/"))}return null}async function e6({fs:e,cache:t,gitdir:n}){let r;try{r=await q.resolve({fs:e,gitdir:n,ref:"HEAD"})}catch(a){if(a instanceof Re)return[]}let{tree:i}=await Bi({fs:e,cache:t,gitdir:n,oid:r});return i}async function t6({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r="HEAD",filepaths:i=["."],filter:a,cache:s={},ignored:o=!1}){try{F("fs",e),F("gitdir",n),F("ref",r);let l=new Q(e);return await Ii({fs:l,cache:s,dir:t,gitdir:n,trees:[lr({ref:r}),Ko(),Zo()],map:async function(c,[u,f,h]){if(!u&&!h&&f&&!o&&await Ri.isIgnored({fs:l,dir:t,filepath:c})||!i.some(k=>$1(c,k)))return null;if(a&&!a(c))return;let[d,p,g]=await Promise.all([u&&u.type(),f&&f.type(),h&&h.type()]),m=[d,p,g].includes("blob");if((d==="tree"||d==="special")&&!m)return;if(d==="commit")return null;if((p==="tree"||p==="special")&&!m)return;if(g==="commit")return null;if((g==="tree"||g==="special")&&!m)return;let w=d==="blob"?await u.oid():void 0,b=g==="blob"?await h.oid():void 0,S;d!=="blob"&&p==="blob"&&g!=="blob"?S="42":p==="blob"&&(S=await f.oid());let A=[void 0,w,S,b],x=A.map(k=>A.indexOf(k));return x.shift(),[c,...x]}})}catch(l){throw l.caller="git.statusMatrix",l}}async function n6({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,object:i,force:a=!1}){try{F("fs",e),F("gitdir",n),F("ref",r);let s=new Q(e);if(r===void 0)throw new Ot("ref");r=r.startsWith("refs/tags/")?r:`refs/tags/${r}`;let o=await q.resolve({fs:s,gitdir:n,ref:i||"HEAD"});if(!a&&await q.exists({fs:s,gitdir:n,ref:r}))throw new hn("tag",r);await q.writeRef({fs:s,gitdir:n,ref:r,value:o})}catch(s){throw s.caller="git.tag",s}}async function r6({fs:e,dir:t,gitdir:n=B(t,".git"),cache:r={},filepath:i,oid:a,mode:s,add:o,remove:l,force:c}){try{F("fs",e),F("gitdir",n),F("filepath",i);let u=new Q(e);if(l)return await ct.acquire({fs:u,gitdir:n,cache:r},async function(h){let d;if(!c&&(d=await u.lstat(B(t,i)),d)){if(d.isDirectory())throw new fr("directory");return}h.has({filepath:i})&&h.delete({filepath:i})});let f;if(!a){if(f=await u.lstat(B(t,i)),!f)throw new Re(`file at "${i}" on disk and "remove" not set`);if(f.isDirectory())throw new fr("directory")}return await ct.acquire({fs:u,gitdir:n,cache:r},async function(h){if(!o&&!h.has({filepath:i}))throw new Re(`file at "${i}" in index and "add" not set`);let d={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:s,uid:0,gid:0,size:0};if(!a){d=f;let p=d.isSymbolicLink()?await u.readlink(B(t,i)):await u.read(B(t,i));a=await Gt({fs:u,gitdir:n,type:"blob",format:"content",object:p})}return h.insert({filepath:i,oid:a,stats:d}),a})}catch(u){throw u.caller="git.updateIndex",u}}function i6(){try{return Qo.version}catch(e){throw e.caller="git.version",e}}async function a6({fs:e,dir:t,gitdir:n=B(t,".git"),trees:r,map:i,reduce:a,iterate:s,cache:o={}}){try{return F("fs",e),F("gitdir",n),F("trees",r),await Ii({fs:new Q(e),cache:o,dir:t,gitdir:n,trees:r,map:i,reduce:a,iterate:s})}catch(l){throw l.caller="git.walk",l}}async function s6({fs:e,dir:t,gitdir:n=B(t,".git"),blob:r}){try{return F("fs",e),F("gitdir",n),F("blob",r),await Gt({fs:new Q(e),gitdir:n,type:"blob",object:r,format:"content"})}catch(i){throw i.caller="git.writeBlob",i}}async function o6({fs:e,gitdir:t,commit:n}){let r=Rt.from(n).toObject();return await Gt({fs:e,gitdir:t,type:"commit",object:r,format:"content"})}async function l6({fs:e,dir:t,gitdir:n=B(t,".git"),commit:r}){try{return F("fs",e),F("gitdir",n),F("commit",r),await o6({fs:new Q(e),gitdir:n,commit:r})}catch(i){throw i.caller="git.writeCommit",i}}async function c6({fs:e,dir:t,gitdir:n=B(t,".git"),type:r,object:i,format:a="parsed",oid:s,encoding:o=void 0}){try{let l=new Q(e);if(a==="parsed"){switch(r){case"commit":i=Rt.from(i).toObject();break;case"tree":i=It.from(i).toObject();break;case"blob":i=Buffer.from(i,o);break;case"tag":i=Ut.from(i).toObject();break;default:throw new At(s||"",r,"blob|commit|tag|tree")}a="content"}return s=await Gt({fs:l,gitdir:n,type:r,object:i,oid:s,format:a}),s}catch(l){throw l.caller="git.writeObject",l}}async function u6({fs:e,dir:t,gitdir:n=B(t,".git"),ref:r,value:i,force:a=!1,symbolic:s=!1}){try{F("fs",e),F("gitdir",n),F("ref",r),F("value",i);let o=new Q(e);if(r!==fn.default.clean(r))throw new Gn(r,fn.default.clean(r));if(!a&&await q.exists({fs:o,gitdir:n,ref:r}))throw new hn("ref",r);s?await q.writeSymbolicRef({fs:o,gitdir:n,ref:r,value:i}):(i=await q.resolve({fs:o,gitdir:n,ref:i}),await q.writeRef({fs:o,gitdir:n,ref:r,value:i}))}catch(o){throw o.caller="git.writeRef",o}}async function f6({fs:e,gitdir:t,tag:n}){let r=Ut.from(n).toObject();return await Gt({fs:e,gitdir:t,type:"tag",object:r,format:"content"})}async function h6({fs:e,dir:t,gitdir:n=B(t,".git"),tag:r}){try{return F("fs",e),F("gitdir",n),F("tag",r),await f6({fs:new Q(e),gitdir:n,tag:r})}catch(i){throw i.caller="git.writeTag",i}}async function d6({fs:e,dir:t,gitdir:n=B(t,".git"),tree:r}){try{return F("fs",e),F("gitdir",n),F("tree",r),await Vf({fs:new Q(e),gitdir:n,tree:r})}catch(i){throw i.caller="git.writeTree",i}}var p6={Errors:ps,STAGE:Zo,TREE:lr,WORKDIR:Ko,add:dC,abortMerge:lC,addNote:mC,addRemote:gC,annotatedTag:vC,branch:bC,checkout:_C,clone:IC,commit:RC,getConfig:t8,getConfigAll:r8,setConfig:J8,currentBranch:LC,deleteBranch:DC,deleteRef:BC,deleteRemote:$C,deleteTag:UC,expandOid:WC,expandRef:qC,fastForward:KC,fetch:JC,findMergeBase:QC,findRoot:e8,getRemoteInfo:i8,getRemoteInfo2:a8,hashBlob:o8,indexPack:c8,init:u8,isDescendent:f8,isIgnored:h8,listBranches:d8,listFiles:m8,listNotes:y8,listRemotes:w8,listServerRefs:_8,listTags:S8,log:T8,merge:C8,packObjects:M8,pull:O8,push:D8,readBlob:ys,readCommit:B8,readNote:$8,readObject:H8,readTag:G8,readTree:z8,remove:V8,removeNote:q8,renameBranch:Y8,resetIndex:Z8,updateIndex:r6,resolveRef:K8,status:Q8,statusMatrix:t6,tag:n6,version:i6,walk:a6,writeBlob:s6,writeCommit:l6,writeObject:c6,writeRef:u6,writeTag:h6,writeTree:d6},ie=p6;var _e=require("obsidian");v();var ni=require("obsidian");v();var hp=require("child_process"),HS=Xe(nl()),Yn=Xe(require("fs/promises")),Xn=require("obsidian"),He=Xe(require("path")),Gs=require("path");v();var gl=Xe(ly(),1),hl=Xe(nl(),1),Rv=require("child_process"),yw=Xe(Zf(),1),Gi=Xe(Zf(),1),Gw=require("node:events"),pl=Object.defineProperty,I6=Object.defineProperties,R6=Object.getOwnPropertyDescriptor,L6=Object.getOwnPropertyDescriptors,gh=Object.getOwnPropertyNames,cy=Object.getOwnPropertySymbols,Uy=Object.prototype.hasOwnProperty,j6=Object.prototype.propertyIsEnumerable,uy=(e,t,n)=>t in e?pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tn=(e,t)=>{for(var n in t||(t={}))Uy.call(t,n)&&uy(e,n,t[n]);if(cy)for(var n of cy(t))j6.call(t,n)&&uy(e,n,t[n]);return e},bs=(e,t)=>I6(e,L6(t)),W=(e,t)=>function(){return e&&(t=(0,e[gh(e)[0]])(e=0)),t},D6=(e,t)=>function(){return t||(0,e[gh(e)[0]])((t={exports:{}}).exports,t),t.exports},et=(e,t)=>{for(var n in t)pl(e,n,{get:t[n],enumerable:!0})},B6=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gh(t))!Uy.call(e,i)&&i!==n&&pl(e,i,{get:()=>t[i],enumerable:!(r=R6(t,i))||r.enumerable});return e},Ye=e=>B6(pl({},"__esModule",{value:!0}),e),ws=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{o(n.next(l))}catch(c){i(c)}},s=l=>{try{o(n.throw(l))}catch(c){i(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((n=n.apply(e,t)).next())});function N6(...e){let t=new String(e);return ml.set(t,e),t}function ul(e){return e instanceof String&&ml.has(e)}function fy(e){return ml.get(e)||[]}var ml,Es=W({"src/lib/args/pathspec.ts"(){"use strict";ml=new WeakMap}}),dn,dr=W({"src/lib/errors/git-error.ts"(){"use strict";dn=class extends Error{constructor(e,t){super(t),this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}}}),As,Vi=W({"src/lib/errors/git-response-error.ts"(){"use strict";dr(),As=class extends dn{constructor(e,t){super(void 0,t||String(e)),this.git=e}}}}),Gy,zy=W({"src/lib/errors/task-configuration-error.ts"(){"use strict";dr(),Gy=class extends dn{constructor(e){super(void 0,e)}}}});function Vy(e){return typeof e=="function"?e:Zr}function Wy(e){return typeof e=="function"&&e!==Zr}function qy(e,t){let n=e.indexOf(t);return n<=0?[e,""]:[e.substr(0,n),e.substr(n+1)]}function Xy(e,t=0){return Yy(e)&&e.length>t?e[t]:void 0}function Yr(e,t=0){if(Yy(e)&&e.length>t)return e[e.length-1-t]}function Yy(e){return!!(e&&typeof e.length=="number")}function ks(e="",t=!0,n=`
`){return e.split(n).reduce((r,i)=>{let a=t?i.trim():i;return a&&r.push(a),r},[])}function yh(e,t){return ks(e,!0).map(n=>t(n))}function vh(e){return(0,gl.exists)(e,gl.FOLDER)}function we(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t}function Zy(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e}function yl(e,t){if(Array.isArray(e)){let n=e.indexOf(t);n>=0&&e.splice(n,1)}else e.delete(t);return t}function Cn(e){return Array.isArray(e)?e:[e]}function Ky(e){return e.replace(/[\s-]+(.)/g,(t,n)=>n.toUpperCase())}function Jy(e){return Cn(e).map(String)}function Oe(e,t=0){if(e==null)return t;let n=parseInt(e,10);return isNaN(n)?t:n}function xs(e,t){let n=[];for(let r=0,i=e.length;r<i;r++)n.push(t,e[r]);return n}function _s(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function Qy(e,t){return Object.assign({},...t.map(n=>n in e?{[n]:e[n]}:{}))}function rh(e=0){return new Promise(t=>setTimeout(t,e))}function ih(e){if(e!==!1)return e}var zi,Zr,Ts,vl=W({"src/lib/utils/util.ts"(){"use strict";zi="\0",Zr=()=>{},Ts=Object.prototype.toString.call.bind(Object.prototype.toString)}});function Fn(e,t,n){return t(e)?e:arguments.length>2?n:void 0}function wh(e,t){let n=ul(e)?"string":typeof e;return/number|string|boolean/.test(n)&&(!t||!t.includes(n))}function bh(e){return!!e&&Ts(e)==="[object Object]"}function ev(e){return typeof e=="function"}var Cs,yt,tv,fl,xh,nv=W({"src/lib/utils/argument-filters.ts"(){"use strict";vl(),Es(),Cs=e=>Array.isArray(e),yt=e=>typeof e=="string",tv=e=>Array.isArray(e)&&e.every(yt),fl=e=>yt(e)||Array.isArray(e)&&e.every(yt),xh=e=>e==null||"number|boolean|function".includes(typeof e)?!1:Array.isArray(e)||typeof e=="string"||typeof e.length=="number"}}),ah,$6=W({"src/lib/utils/exit-codes.ts"(){"use strict";ah=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.NOT_FOUND=-2]="NOT_FOUND",e[e.UNCLEAN=128]="UNCLEAN",e))(ah||{})}}),Ss,H6=W({"src/lib/utils/git-output-streams.ts"(){"use strict";Ss=class{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new Ss(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),fe,hr,U6=W({"src/lib/utils/line-parser.ts"(){"use strict";fe=class{constructor(e,t){this.matches=[],this.parse=(n,r)=>(this.resetMatches(),this._regExp.every((i,a)=>this.addMatch(i,a,n(a)))?this.useMatches(r,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,n){let r=n&&e.exec(n);return r&&this.pushMatch(t,r),!!r}pushMatch(e,t){this.matches.push(...t.slice(1))}},hr=class extends fe{addMatch(e,t,n){return/^remote:\s/.test(String(n))&&super.addMatch(e,t,n)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}}});function rv(...e){let t=process.cwd(),n=Object.assign(tn({baseDir:t},iv),...e.filter(r=>typeof r=="object"&&r));return n.baseDir=n.baseDir||t,n.trimmed=n.trimmed===!0,n}var iv,G6=W({"src/lib/utils/simple-git-options.ts"(){"use strict";iv={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function _h(e,t=[]){return bh(e)?Object.keys(e).reduce((n,r)=>{let i=e[r];return ul(i)?n.push(i):wh(i,["boolean"])?n.push(r+"="+i):n.push(r),n},t):t}function Lt(e,t=0,n=!1){let r=[];for(let i=0,a=t<0?e.length:t;i<a;i++)"string|number".includes(typeof e[i])&&r.push(String(e[i]));return _h(Sh(e),r),n||r.push(...z6(e)),r}function z6(e){let t=typeof Yr(e)=="function";return Fn(Yr(e,t?1:0),Cs,[])}function Sh(e){let t=ev(Yr(e));return Fn(Yr(e,t?1:0),bh)}function Ze(e,t=!0){let n=Vy(Yr(e));return t||Wy(n)?n:void 0}var V6=W({"src/lib/utils/task-options.ts"(){"use strict";nv(),vl(),Es()}});function sh(e,t){return e(t.stdOut,t.stdErr)}function Dt(e,t,n,r=!0){return Cn(n).forEach(i=>{for(let a=ks(i,r),s=0,o=a.length;s<o;s++){let l=(c=0)=>{if(!(s+c>=o))return a[s+c]};t.some(({parse:c})=>c(l,e))}}),e}var W6=W({"src/lib/utils/task-parser.ts"(){"use strict";vl()}}),av={};et(av,{ExitCodes:()=>ah,GitOutputStreams:()=>Ss,LineParser:()=>fe,NOOP:()=>Zr,NULL:()=>zi,RemoteLineParser:()=>hr,append:()=>we,appendTaskOptions:()=>_h,asArray:()=>Cn,asCamelCase:()=>Ky,asFunction:()=>Vy,asNumber:()=>Oe,asStringArray:()=>Jy,bufferToString:()=>_s,callTaskParser:()=>sh,createInstanceConfig:()=>rv,delay:()=>rh,filterArray:()=>Cs,filterFunction:()=>ev,filterHasLength:()=>xh,filterPlainObject:()=>bh,filterPrimitives:()=>wh,filterString:()=>yt,filterStringArray:()=>tv,filterStringOrStringArray:()=>fl,filterType:()=>Fn,first:()=>Xy,folderExists:()=>vh,forEachLineWithContent:()=>yh,getTrailingOptions:()=>Lt,including:()=>Zy,isUserFunction:()=>Wy,last:()=>Yr,objectToString:()=>Ts,orVoid:()=>ih,parseStringResponse:()=>Dt,pick:()=>Qy,prefixedArray:()=>xs,remove:()=>yl,splitOn:()=>qy,toLinesWithContent:()=>ks,trailingFunctionArgument:()=>Ze,trailingOptionsArgument:()=>Sh});var oe=W({"src/lib/utils/index.ts"(){"use strict";nv(),$6(),H6(),U6(),G6(),V6(),W6(),vl()}}),sv={};et(sv,{CheckRepoActions:()=>oh,checkIsBareRepoTask:()=>lv,checkIsRepoRootTask:()=>ov,checkIsRepoTask:()=>q6});function q6(e){switch(e){case"bare":return lv();case"root":return ov()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:wl,parser:Eh}}function ov(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:wl,parser(t){return/^\.(git)?$/.test(t.trim())}}}function lv(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:wl,parser:Eh}}function X6(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var oh,wl,Eh,cv=W({"src/lib/tasks/check-is-repo.ts"(){"use strict";oe(),oh=(e=>(e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root",e))(oh||{}),wl=({exitCode:e},t,n,r)=>{if(e===128&&X6(t))return n(Buffer.from("false"));r(t)},Eh=e=>e.trim()==="true"}});function Y6(e,t){let n=new uv(e),r=e?hv:fv;return ks(t).forEach(i=>{let a=i.replace(r,"");n.paths.push(a),(dv.test(a)?n.folders:n.files).push(a)}),n}var uv,fv,hv,dv,Z6=W({"src/lib/responses/CleanSummary.ts"(){"use strict";oe(),uv=class{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}},fv=/^[a-z]+\s*/i,hv=/^[a-z]+\s+[a-z]+\s*/i,dv=/\/$/}}),lh={};et(lh,{EMPTY_COMMANDS:()=>bl,adhocExecTask:()=>pv,configurationErrorTask:()=>jt,isBufferTask:()=>gv,isEmptyTask:()=>yv,straightThroughBufferTask:()=>mv,straightThroughStringTask:()=>Tt});function pv(e){return{commands:bl,format:"empty",parser:e}}function jt(e){return{commands:bl,format:"empty",parser(){throw typeof e=="string"?new Gy(e):e}}}function Tt(e,t=!1){return{commands:e,format:"utf-8",parser(n){return t?String(n).trim():n}}}function mv(e){return{commands:e,format:"buffer",parser(t){return t}}}function gv(e){return e.format==="buffer"}function yv(e){return e.format==="empty"||!e.commands.length}var bl,Qe=W({"src/lib/tasks/task.ts"(){"use strict";zy(),bl=[]}}),vv={};et(vv,{CONFIG_ERROR_INTERACTIVE_MODE:()=>Ah,CONFIG_ERROR_MODE_REQUIRED:()=>kh,CONFIG_ERROR_UNKNOWN_OPTION:()=>Th,CleanOptions:()=>sl,cleanTask:()=>wv,cleanWithOptionsTask:()=>K6,isCleanOptionsArray:()=>J6});function K6(e,t){let{cleanMode:n,options:r,valid:i}=Q6(e);return n?i.options?(r.push(...t),r.some(n4)?jt(Ah):wv(n,r)):jt(Th+JSON.stringify(e)):jt(kh)}function wv(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser(r){return Y6(e==="n",r)}}}function J6(e){return Array.isArray(e)&&e.every(t=>Ch.has(t))}function Q6(e){let t,n=[],r={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach(i=>{e4(i)?(t=i,r.cleanMode=!0):r.options=r.options&&t4(n[n.length]=`-${i}`)}),{cleanMode:t,options:n,valid:r}}function e4(e){return e==="f"||e==="n"}function t4(e){return/^-[a-z]$/i.test(e)&&Ch.has(e.charAt(1))}function n4(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:e==="--interactive"}var Ah,kh,Th,sl,Ch,bv=W({"src/lib/tasks/clean.ts"(){"use strict";Z6(),oe(),Qe(),Ah="Git clean interactive mode is not supported",kh='Git clean mode parameter ("n" or "f") is required',Th="Git clean unknown option found in: ",sl=(e=>(e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d",e))(sl||{}),Ch=new Set(["i",...Jy(Object.values(sl))])}});function r4(e){let t=new _v;for(let n of xv(e))t.addValue(n.file,String(n.key),n.value);return t}function i4(e,t){let n=null,r=[],i=new Map;for(let a of xv(e,t))a.key===t&&(r.push(n=a.value),i.has(a.file)||i.set(a.file,[]),i.get(a.file).push(n));return{key:t,paths:Array.from(i.keys()),scopes:i,value:n,values:r}}function a4(e){return e.replace(/^(file):/,"")}function*xv(e,t=null){let n=e.split("\0");for(let r=0,i=n.length-1;r<i;){let a=a4(n[r++]),s=n[r++],o=t;if(s.includes(`
`)){let l=qy(s,`
`);o=l[0],s=l[1]}yield{file:a,key:o,value:s}}}var _v,s4=W({"src/lib/responses/ConfigList.ts"(){"use strict";oe(),_v=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((e,t)=>Object.assign(e,this.values[t]),{})),this._all}addFile(e){if(!(e in this.values)){let t=Yr(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,n){let r=this.addFile(e);r.hasOwnProperty(t)?Array.isArray(r[t])?r[t].push(n):r[t]=[r[t],n]:r[t]=n,this._all=void 0}}}});function Kf(e,t){return typeof e=="string"&&ch.hasOwnProperty(e)?e:t}function o4(e,t,n,r){let i=["config",`--${r}`];return n&&i.push("--add"),i.push(e,t),{commands:i,format:"utf-8",parser(a){return a}}}function l4(e,t){let n=["config","--null","--show-origin","--get-all",e];return t&&n.splice(1,0,`--${t}`),{commands:n,format:"utf-8",parser(r){return i4(r,e)}}}function c4(e){let t=["config","--list","--show-origin","--null"];return e&&t.push(`--${e}`),{commands:t,format:"utf-8",parser(n){return r4(n)}}}function u4(){return{addConfig(e,t,...n){return this._runTask(o4(e,t,n[0]===!0,Kf(n[1],"local")),Ze(arguments))},getConfig(e,t){return this._runTask(l4(e,Kf(t,void 0)),Ze(arguments))},listConfig(...e){return this._runTask(c4(Kf(e[0],void 0)),Ze(arguments))}}}var ch,Sv=W({"src/lib/tasks/config.ts"(){"use strict";s4(),oe(),ch=(e=>(e.system="system",e.global="global",e.local="local",e.worktree="worktree",e))(ch||{})}});function f4(e){return Ev.has(e)}var Jf,Ev,Av=W({"src/lib/tasks/diff-name-status.ts"(){"use strict";Jf=(e=>(e.ADDED="A",e.COPIED="C",e.DELETED="D",e.MODIFIED="M",e.RENAMED="R",e.CHANGED="T",e.UNMERGED="U",e.UNKNOWN="X",e.BROKEN="B",e))(Jf||{}),Ev=new Set(Object.values(Jf))}});function h4(...e){return new Tv().param(...e)}function d4(e){let t=new Set,n={};return yh(e,r=>{let[i,a,s]=r.split(zi);t.add(i),(n[i]=n[i]||[]).push({line:Oe(a),path:i,preview:s})}),{paths:t,results:n}}function p4(){return{grep(e){let t=Ze(arguments),n=Lt(arguments);for(let i of kv)if(n.includes(i))return this._runTask(jt(`git.grep: use of "${i}" is not supported.`),t);typeof e=="string"&&(e=h4().param(e));let r=["grep","--null","-n","--full-name",...n,...e];return this._runTask({commands:r,format:"utf-8",parser(i){return d4(i)}},t)}}}var kv,vs,hy,Tv,Cv=W({"src/lib/tasks/grep.ts"(){"use strict";oe(),Qe(),kv=["-h"],vs=Symbol("grepQuery"),Tv=class{constructor(){this[hy]=[]}*[(hy=vs,Symbol.iterator)](){for(let e of this[vs])yield e}and(...e){return e.length&&this[vs].push("--and","(",...xs(e,"-e"),")"),this}param(...e){return this[vs].push(...xs(e,"-e")),this}}}}),Fv={};et(Fv,{ResetMode:()=>ol,getResetMode:()=>g4,resetTask:()=>m4});function m4(e,t){let n=["reset"];return Pv(e)&&n.push(`--${e}`),n.push(...t),Tt(n)}function g4(e){if(Pv(e))return e;switch(typeof e){case"string":case"undefined":return"soft"}}function Pv(e){return Mv.includes(e)}var ol,Mv,Ov=W({"src/lib/tasks/reset.ts"(){"use strict";Qe(),ol=(e=>(e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep",e))(ol||{}),Mv=Array.from(Object.values(ol))}});function y4(){return(0,hl.default)("simple-git")}function dy(e,t,n){return!t||!String(t).replace(/\s*/,"")?n?(r,...i)=>{e(r,...i),n(r,...i)}:e:(r,...i)=>{e(`%s ${r}`,t,...i),n&&n(r,...i)}}function v4(e,t,{namespace:n}){if(typeof e=="string")return e;let r=t&&t.namespace||"";return r.startsWith(n)?r.substr(n.length+1):r||n}function Fh(e,t,n,r=y4()){let i=e&&`[${e}]`||"",a=[],s=typeof t=="string"?r.extend(t):t,o=v4(Fn(t,yt),s,r);return c(n);function l(u,f){return we(a,Fh(e,o.replace(/^[^:]+/,u),f,r))}function c(u){let f=u&&`[${u}]`||"",h=s&&dy(s,f)||Zr,d=dy(r,`${i} ${f}`,h);return Object.assign(s?h:d,{label:e,sibling:l,info:d,step:c})}}var Iv=W({"src/lib/git-logger.ts"(){"use strict";oe(),hl.default.formatters.L=e=>String(xh(e)?e.length:"-"),hl.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):Ts(e)}}),il,uh,w4=W({"src/lib/runners/tasks-pending-queue.ts"(){"use strict";dr(),Iv(),il=class{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){let t=il.getName(e.commands[0]),n=Fh(this.logLabel,t);return{task:e,logger:n,name:t}}push(e){let t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(let[t,{logger:n}]of Array.from(this._queue.entries()))t===e.task?(n.info("Failed %o",e),n("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):n.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){let t=this.withProgress(e);if(!t)throw new dn(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++il.counter}`}},uh=il,uh.counter=0}});function Xr(e,t){return{method:Xy(e.commands)||"",commands:t}}function b4(e,t){return n=>{t("[ERROR] child process exception %o",n),e.push(Buffer.from(String(n.stack),"ascii"))}}function py(e,t,n,r){return i=>{n("%s received %L bytes",t,i),r("%B",i),e.push(i)}}var fh,x4=W({"src/lib/runners/git-executor-chain.ts"(){"use strict";dr(),Qe(),oe(),w4(),fh=class{constructor(e,t,n){this._executor=e,this._scheduler=t,this._plugins=n,this._chain=Promise.resolve(),this._queue=new uh}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then(()=>this.attemptTask(e))}attemptTask(e){return ws(this,null,function*(){let t=yield this._scheduler.next(),n=()=>this._queue.complete(e);try{let{logger:r}=this._queue.attempt(e);return yield yv(e)?this.attemptEmptyTask(e,r):this.attemptRemoteTask(e,r)}catch(r){throw this.onFatalException(e,r)}finally{n(),t()}})}onFatalException(e,t){let n=t instanceof dn?Object.assign(t,{task:e}):new dn(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(n),n}attemptRemoteTask(e,t){return ws(this,null,function*(){let n=this._plugins.exec("spawn.binary","",Xr(e,e.commands)),r=this._plugins.exec("spawn.args",[...e.commands],Xr(e,e.commands)),i=yield this.gitResponse(e,n,r,this.outputHandler,t.step("SPAWN")),a=yield this.handleTaskData(e,r,i,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),gv(e)?sh(e.parser,a):sh(e.parser,a.asStrings())})}attemptEmptyTask(e,t){return ws(this,null,function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)})}handleTaskData(e,t,n,r){let{exitCode:i,rejection:a,stdOut:s,stdErr:o}=n;return new Promise((l,c)=>{r("Preparing to handle process response exitCode=%d stdOut=",i);let{error:u}=this._plugins.exec("task.error",{error:a},tn(tn({},Xr(e,t)),n));if(u&&e.onError)return r.info("exitCode=%s handling with custom error handler"),e.onError(n,u,f=>{r.info("custom error handler treated as success"),r("custom error returned a %s",Ts(f)),l(new Ss(Array.isArray(f)?Buffer.concat(f):f,Buffer.concat(o)))},c);if(u)return r.info("handling as error: exitCode=%s stdErr=%s rejection=%o",i,o.length,a),c(u);r.info("retrieving task output complete"),l(new Ss(Buffer.concat(s),Buffer.concat(o)))})}gitResponse(e,t,n,r,i){return ws(this,null,function*(){let a=i.sibling("output"),s=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},Xr(e,e.commands));return new Promise(o=>{let l=[],c=[];i.info("%s %o",t,n),i("%O",s);let u=this._beforeSpawn(e,n);if(u)return o({stdOut:l,stdErr:c,exitCode:9901,rejection:u});this._plugins.exec("spawn.before",void 0,bs(tn({},Xr(e,n)),{kill(h){u=h||u}}));let f=(0,Rv.spawn)(t,n,s);f.stdout.on("data",py(l,"stdOut",i,a.step("stdOut"))),f.stderr.on("data",py(c,"stdErr",i,a.step("stdErr"))),f.on("error",b4(c,i)),r&&(i("Passing child process stdOut/stdErr to custom outputHandler"),r(t,f.stdout,f.stderr,[...n])),this._plugins.exec("spawn.after",void 0,bs(tn({},Xr(e,n)),{spawned:f,close(h,d){o({stdOut:l,stdErr:c,exitCode:h,rejection:u||d})},kill(h){f.killed||(u=h,f.kill("SIGINT"))}}))})})}_beforeSpawn(e,t){let n;return this._plugins.exec("spawn.before",void 0,bs(tn({},Xr(e,t)),{kill(r){n=r||n}})),n}}}}),Lv={};et(Lv,{GitExecutor:()=>jv});var jv,_4=W({"src/lib/runners/git-executor.ts"(){"use strict";x4(),jv=class{constructor(e,t,n){this.cwd=e,this._scheduler=t,this._plugins=n,this._chain=new fh(this,this._scheduler,this._plugins)}chain(){return new fh(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function S4(e,t,n=Zr){let r=a=>{n(null,a)},i=a=>{(a==null?void 0:a.task)===e&&n(a instanceof As?E4(a):a,void 0)};t.then(r,i)}function E4(e){let t=r=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${r} should be GitResponseError.git.${r}, this will no longer be available in version 3`),t=Zr};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(n,{}));function n(r,i){return i in e||(r[i]={enumerable:!1,configurable:!1,get(){return t(i),e.git[i]}}),r}}var A4=W({"src/lib/task-callback.ts"(){"use strict";Vi(),oe()}});function my(e,t){return pv(n=>{if(!vh(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||n).cwd=e})}var k4=W({"src/lib/tasks/change-working-directory.ts"(){"use strict";oe(),Qe()}});function Qf(e){let t=["checkout",...e];return t[1]==="-b"&&t.includes("-B")&&(t[1]=yl(t,"-B")),Tt(t)}function T4(){return{checkout(){return this._runTask(Qf(Lt(arguments,1)),Ze(arguments))},checkoutBranch(e,t){return this._runTask(Qf(["-b",e,t,...Lt(arguments)]),Ze(arguments))},checkoutLocalBranch(e){return this._runTask(Qf(["-b",e,...Lt(arguments)]),Ze(arguments))}}}var C4=W({"src/lib/tasks/checkout.ts"(){"use strict";oe(),Qe()}});function F4(){return{count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0}}function P4(){return{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser(e){return Dt(F4(),[Dv],e)}})}}}var Dv,M4=W({"src/lib/tasks/count-objects.ts"(){"use strict";oe(),Dv=new fe(/([a-z-]+): (\d+)$/,(e,[t,n])=>{let r=Ky(t);e.hasOwnProperty(r)&&(e[r]=Oe(n))})}});function O4(e){return Dt({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Bv,e)}var Bv,I4=W({"src/lib/parsers/parse-commit.ts"(){"use strict";oe(),Bv=[new fe(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(e,[t,n,r])=>{e.branch=t,e.commit=r,e.root=!!n}),new fe(/\s*Author:\s(.+)/i,(e,[t])=>{let n=t.split("<"),r=n.pop();!r||!r.includes("@")||(e.author={email:r.substr(0,r.length-1),name:n.join("<").trim()})}),new fe(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(n,10)||0,e.summary.deletions=parseInt(r,10)||0}),new fe(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0;let i=parseInt(n,10)||0;r==="-"?e.summary.deletions=i:r==="+"&&(e.summary.insertions=i)})]}});function R4(e,t,n){return{commands:["-c","core.abbrev=40","commit",...xs(e,"-m"),...t,...n],format:"utf-8",parser:O4}}function L4(){return{commit(t,...n){let r=Ze(arguments),i=e(t)||R4(Cn(t),Cn(Fn(n[0],fl,[])),[...Fn(n[1],Cs,[]),...Lt(arguments,0,!0)]);return this._runTask(i,r)}};function e(t){return!fl(t)&&jt("git.commit: requires the commit message to be supplied as a string/string[]")}}var j4=W({"src/lib/tasks/commit.ts"(){"use strict";I4(),oe(),Qe()}});function D4(){return{firstCommit(){return this._runTask(Tt(["rev-list","--max-parents=0","HEAD"],!0),Ze(arguments))}}}var B4=W({"src/lib/tasks/first-commit.ts"(){"use strict";oe(),Qe()}});function N4(e,t){let n=["hash-object",e];return t&&n.push("-w"),Tt(n,!0)}var $4=W({"src/lib/tasks/hash-object.ts"(){"use strict";Qe()}});function H4(e,t,n){let r=String(n).trim(),i;if(i=Nv.exec(r))return new ll(e,t,!1,i[1]);if(i=$v.exec(r))return new ll(e,t,!0,i[1]);let a="",s=r.split(" ");for(;s.length;)if(s.shift()==="in"){a=s.join(" ");break}return new ll(e,t,/^re/i.test(r),a)}var ll,Nv,$v,U4=W({"src/lib/responses/InitSummary.ts"(){"use strict";ll=class{constructor(e,t,n,r){this.bare=e,this.path=t,this.existing=n,this.gitDir=r}},Nv=/^Init.+ repository in (.+)$/,$v=/^Rein.+ in (.+)$/}});function G4(e){return e.includes(Ph)}function z4(e=!1,t,n){let r=["init",...n];return e&&!G4(r)&&r.splice(1,0,Ph),{commands:r,format:"utf-8",parser(i){return H4(r.includes("--bare"),t,i)}}}var Ph,V4=W({"src/lib/tasks/init.ts"(){"use strict";U4(),Ph="--bare"}});function Mh(e){for(let t=0;t<e.length;t++){let n=Oh.exec(e[t]);if(n)return`--${n[1]}`}return""}function W4(e){return Oh.test(e)}var Oh,Fs=W({"src/lib/args/log-format.ts"(){"use strict";Oh=/^--(stat|numstat|name-only|name-status)(=|$)/}}),Hv,q4=W({"src/lib/responses/DiffSummary.ts"(){"use strict";Hv=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function Uv(e=""){let t=Gv[e];return n=>Dt(new Hv,t,n,!1)}var eh,gy,yy,vy,Gv,zv=W({"src/lib/parsers/parse-diff-summary.ts"(){"use strict";Fs(),q4(),Av(),oe(),eh=[new fe(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(e,[t,n,r=""])=>{e.files.push({file:t.trim(),changes:Oe(n),insertions:r.replace(/[^+]/g,"").length,deletions:r.replace(/[^-]/g,"").length,binary:!1})}),new fe(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(e,[t,n,r])=>{e.files.push({file:t.trim(),before:Oe(n),after:Oe(r),binary:!0})}),new fe(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(e,[t,n])=>{let r=/(\d+) i/.exec(n),i=/(\d+) d/.exec(n);e.changed=Oe(t),e.insertions=Oe(r==null?void 0:r[1]),e.deletions=Oe(i==null?void 0:i[1])})],gy=[new fe(/(\d+)\t(\d+)\t(.+)$/,(e,[t,n,r])=>{let i=Oe(t),a=Oe(n);e.changed++,e.insertions+=i,e.deletions+=a,e.files.push({file:r,changes:i+a,insertions:i,deletions:a,binary:!1})}),new fe(/-\t-\t(.+)$/,(e,[t])=>{e.changed++,e.files.push({file:t,after:0,before:0,binary:!0})})],yy=[new fe(/(.+)$/,(e,[t])=>{e.changed++,e.files.push({file:t,changes:0,insertions:0,deletions:0,binary:!1})})],vy=[new fe(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,(e,[t,n,r,i,a])=>{e.changed++,e.files.push({file:a!=null?a:r,changes:0,insertions:0,deletions:0,binary:!1,status:ih(f4(t)&&t),from:ih(!!a&&r!==a&&r),similarity:Oe(n)})})],Gv={"":eh,"--stat":eh,"--numstat":gy,"--name-status":vy,"--name-only":yy}}});function X4(e,t){return t.reduce((n,r,i)=>(n[r]=e[i]||"",n),Object.create({diff:null}))}function Vv(e=Lh,t=Wv,n=""){let r=Uv(n);return function(i){let a=ks(i.trim(),!1,Ih).map(function(s){let o=s.split(Rh),l=X4(o[0].split(e),t);return o.length>1&&o[1].trim()&&(l.diff=r(o[1])),l});return{all:a,latest:a.length&&a[0]||null,total:a.length}}}var Ih,Rh,Lh,Wv,qv=W({"src/lib/parsers/parse-list-log-summary.ts"(){"use strict";oe(),zv(),Fs(),Ih="\xF2\xF2\xF2\xF2\xF2\xF2 ",Rh=" \xF2\xF2",Lh=" \xF2 ",Wv=["hash","date","message","refs","author_name","author_email"]}}),Xv={};et(Xv,{diffSummaryTask:()=>Y4,validateLogFormatConfig:()=>xl});function Y4(e){let t=Mh(e),n=["diff"];return t===""&&(t="--stat",n.push("--stat=4096")),n.push(...e),xl(n)||{commands:n,format:"utf-8",parser:Uv(t)}}function xl(e){let t=e.filter(W4);if(t.length>1)return jt(`Summary flags are mutually exclusive - pick one of ${t.join(",")}`);if(t.length&&e.includes("-z"))return jt(`Summary flag ${t} parsing is not compatible with null termination option '-z'`)}var jh=W({"src/lib/tasks/diff.ts"(){"use strict";Fs(),zv(),Qe()}});function Z4(e,t){let n=[],r=[];return Object.keys(e).forEach(i=>{n.push(i),r.push(String(e[i]))}),[n,r.join(t)]}function K4(e){return Object.keys(e).reduce((t,n)=>(n in hh||(t[n]=e[n]),t),{})}function Yv(e={},t=[]){let n=Fn(e.splitter,yt,Lh),r=!wh(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==!1?"%aN":"%an",author_email:e.mailMap!==!1?"%aE":"%ae"},[i,a]=Z4(r,n),s=[],o=[`--pretty=format:${Ih}${a}${Rh}`,...t],l=e.n||e["max-count"]||e.maxCount;if(l&&o.push(`--max-count=${l}`),e.from||e.to){let c=e.symmetric!==!1?"...":"..";s.push(`${e.from||""}${c}${e.to||""}`)}return yt(e.file)&&o.push("--follow",N6(e.file)),_h(K4(e),o),{fields:i,splitter:n,commands:[...o,...s]}}function J4(e,t,n){let r=Vv(e,t,Mh(n));return{commands:["log",...n],format:"utf-8",parser:r}}function Q4(){return{log(...n){let r=Ze(arguments),i=Yv(Sh(arguments),Fn(arguments[0],Cs)),a=t(...n)||xl(i.commands)||e(i);return this._runTask(a,r)}};function e(n){return J4(n.splitter,n.fields,n.commands)}function t(n,r){return yt(n)&&yt(r)&&jt("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var hh,Zv=W({"src/lib/tasks/log.ts"(){"use strict";Fs(),Es(),qv(),oe(),Qe(),jh(),hh=(e=>(e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.mailMap=10]="mailMap",e[e.multiLine=11]="multiLine",e[e.strictDate=12]="strictDate",e))(hh||{})}}),cl,Kv,eF=W({"src/lib/responses/MergeSummary.ts"(){"use strict";cl=class{constructor(e,t=null,n){this.reason=e,this.file=t,this.meta=n}toString(){return`${this.file}:${this.reason}`}},Kv=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),dh,Jv,tF=W({"src/lib/responses/PullSummary.ts"(){"use strict";dh=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},Jv=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function th(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function wy(e){let t=/^\s*(\d+)/.exec(e),n=/delta (\d+)/i.exec(e);return{count:Oe(t&&t[1]||"0"),delta:Oe(n&&n[1]||"0")}}var Qv,nF=W({"src/lib/parsers/parse-remote-objects.ts"(){"use strict";oe(),Qv=[new hr(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(e,[t,n])=>{let r=t.toLowerCase(),i=th(e.remoteMessages);Object.assign(i,{[r]:Oe(n)})}),new hr(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(e,[t,n])=>{let r=t.toLowerCase(),i=th(e.remoteMessages);Object.assign(i,{[r]:Oe(n)})}),new hr(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(e,[t,n,r])=>{let i=th(e.remoteMessages);i.total=wy(t),i.reused=wy(n),i.packReused=Oe(r)})]}});function ew(e,t){return Dt({remoteMessages:new nw},tw,t)}var tw,nw,rw=W({"src/lib/parsers/parse-remote-messages.ts"(){"use strict";oe(),nF(),tw=[new hr(/^remote:\s*(.+)$/,(e,[t])=>(e.remoteMessages.all.push(t.trim()),!1)),...Qv,new hr([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(e,[t])=>{e.remoteMessages.pullRequestUrl=t}),new hr([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(e,[t,n,r])=>{e.remoteMessages.vulnerabilities={count:Oe(t),summary:n,url:r}})],nw=class{constructor(){this.all=[]}}}});function rF(e,t){let n=Dt(new Jv,iw,[e,t]);return n.message&&n}var by,xy,_y,Sy,iw,Ey,Dh,aw=W({"src/lib/parsers/parse-pull.ts"(){"use strict";tF(),oe(),rw(),by=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,xy=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,_y=/^(create|delete) mode \d+ (.+)/,Sy=[new fe(by,(e,[t,n,r])=>{e.files.push(t),n&&(e.insertions[t]=n.length),r&&(e.deletions[t]=r.length)}),new fe(xy,(e,[t,,n,,r])=>n!==void 0||r!==void 0?(e.summary.changes=+t||0,e.summary.insertions=+n||0,e.summary.deletions=+r||0,!0):!1),new fe(_y,(e,[t,n])=>{we(e.files,n),we(t==="create"?e.created:e.deleted,n)})],iw=[new fe(/^from\s(.+)$/i,(e,[t])=>void(e.remote=t)),new fe(/^fatal:\s(.+)$/,(e,[t])=>void(e.message=t)),new fe(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(e,[t,n,r,i])=>{e.branch.local=r,e.hash.local=t,e.branch.remote=i,e.hash.remote=n})],Ey=(e,t)=>Dt(new dh,Sy,[e,t]),Dh=(e,t)=>Object.assign(new dh,Ey(e,t),ew(e,t))}}),Ay,sw,ky,iF=W({"src/lib/parsers/parse-merge.ts"(){"use strict";eF(),oe(),aw(),Ay=[new fe(/^Auto-merging\s+(.+)$/,(e,[t])=>{e.merges.push(t)}),new fe(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(e,[t,n])=>{e.conflicts.push(new cl(t,n))}),new fe(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(e,[t,n,r])=>{e.conflicts.push(new cl(t,n,{deleteRef:r}))}),new fe(/^CONFLICT\s+\((.+)\):/,(e,[t])=>{e.conflicts.push(new cl(t,null))}),new fe(/^Automatic merge failed;\s+(.+)$/,(e,[t])=>{e.result=t})],sw=(e,t)=>Object.assign(ky(e,t),Dh(e,t)),ky=e=>Dt(new Kv,Ay,e)}});function Ty(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(t,n){let r=sw(t,n);if(r.failed)throw new As(r);return r}}:jt("Git.merge requires at least one option")}var aF=W({"src/lib/tasks/merge.ts"(){"use strict";Vi(),iF(),Qe()}});function sF(e,t,n){let r=n.includes("deleted"),i=n.includes("tag")||/^refs\/tags/.test(e),a=!n.includes("new");return{deleted:r,tag:i,branch:!i,new:!a,alreadyUpdated:a,local:e,remote:t}}var Cy,ow,Fy,oF=W({"src/lib/parsers/parse-push.ts"(){"use strict";oe(),rw(),Cy=[new fe(/^Pushing to (.+)$/,(e,[t])=>{e.repo=t}),new fe(/^updating local tracking ref '(.+)'/,(e,[t])=>{e.ref=bs(tn({},e.ref||{}),{local:t})}),new fe(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(e,[t,n,r])=>{e.pushed.push(sF(t,n,r))}),new fe(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(e,[t,n,r])=>{e.branch=bs(tn({},e.branch||{}),{local:t,remote:n,remoteName:r})}),new fe(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(e,[t,n,r,i])=>{e.update={head:{local:t,remote:n},hash:{from:r,to:i}}})],ow=(e,t)=>{let n=Fy(e,t),r=ew(e,t);return tn(tn({},n),r)},Fy=(e,t)=>Dt({pushed:[]},Cy,[e,t])}}),lw={};et(lw,{pushTagsTask:()=>lF,pushTask:()=>Bh});function lF(e={},t){return we(t,"--tags"),Bh(e,t)}function Bh(e={},t){let n=["push",...t];return e.branch&&n.splice(1,0,e.branch),e.remote&&n.splice(1,0,e.remote),yl(n,"-v"),we(n,"--verbose"),we(n,"--porcelain"),{commands:n,format:"utf-8",parser:ow}}var cw=W({"src/lib/tasks/push.ts"(){"use strict";oF(),oe()}});function cF(){return{showBuffer(){let e=["show",...Lt(arguments,1)];return e.includes("--binary")||e.splice(1,0,"--binary"),this._runTask(mv(e),Ze(arguments))},show(){let e=["show",...Lt(arguments,1)];return this._runTask(Tt(e),Ze(arguments))}}}var uF=W({"src/lib/tasks/show.ts"(){"use strict";oe(),Qe()}}),Py,uw,fF=W({"src/lib/responses/FileStatusSummary.ts"(){"use strict";Py=/^(.+)\0(.+)$/,uw=class{constructor(e,t,n){if(this.path=e,this.index=t,this.working_dir=n,t==="R"||n==="R"){let r=Py.exec(e)||[null,e,e];this.from=r[2]||"",this.path=r[1]||""}}}}});function My(e){let[t,n]=e.split(zi);return{from:n||t,to:t}}function Wt(e,t,n){return[`${e}${t}`,n]}function nh(e,...t){return t.map(n=>Wt(e,n,(r,i)=>we(r.conflicted,i)))}function hF(e,t){let n=t.trim();switch(" "){case n.charAt(2):return r(n.charAt(0),n.charAt(1),n.substr(3));case n.charAt(1):return r(" ",n.charAt(0),n.substr(2));default:return}function r(i,a,s){let o=`${i}${a}`,l=fw.get(o);l&&l(e,s),o!=="##"&&o!=="!!"&&e.files.push(new uw(s,i,a))}}var Oy,fw,hw,dF=W({"src/lib/responses/StatusSummary.ts"(){"use strict";oe(),fF(),Oy=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},fw=new Map([Wt(" ","A",(e,t)=>we(e.created,t)),Wt(" ","D",(e,t)=>we(e.deleted,t)),Wt(" ","M",(e,t)=>we(e.modified,t)),Wt("A"," ",(e,t)=>we(e.created,t)&&we(e.staged,t)),Wt("A","M",(e,t)=>we(e.created,t)&&we(e.staged,t)&&we(e.modified,t)),Wt("D"," ",(e,t)=>we(e.deleted,t)&&we(e.staged,t)),Wt("M"," ",(e,t)=>we(e.modified,t)&&we(e.staged,t)),Wt("M","M",(e,t)=>we(e.modified,t)&&we(e.staged,t)),Wt("R"," ",(e,t)=>{we(e.renamed,My(t))}),Wt("R","M",(e,t)=>{let n=My(t);we(e.renamed,n),we(e.modified,n.to)}),Wt("!","!",(e,t)=>{we(e.ignored=e.ignored||[],t)}),Wt("?","?",(e,t)=>we(e.not_added,t)),...nh("A","A","U"),...nh("D","D","U"),...nh("U","A","D","U"),["##",(e,t)=>{let n=/ahead (\d+)/,r=/behind (\d+)/,i=/^(.+?(?=(?:\.{3}|\s|$)))/,a=/\.{3}(\S*)/,s=/\son\s([\S]+)$/,o;o=n.exec(t),e.ahead=o&&+o[1]||0,o=r.exec(t),e.behind=o&&+o[1]||0,o=i.exec(t),e.current=o&&o[1],o=a.exec(t),e.tracking=o&&o[1],o=s.exec(t),e.current=o&&o[1]||e.current,e.detached=/\(no branch\)/.test(t)}]]),hw=function(e){let t=e.split(zi),n=new Oy;for(let r=0,i=t.length;r<i;){let a=t[r++].trim();a&&(a.charAt(0)==="R"&&(a+=zi+(t[r++]||"")),hF(n,a))}return n}}});function pF(e){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...e.filter(n=>!dw.includes(n))],parser(n){return hw(n)}}}var dw,mF=W({"src/lib/tasks/status.ts"(){"use strict";dF(),dw=["--null","-z"]}});function dl(e=0,t=0,n=0,r="",i=!0){return Object.defineProperty({major:e,minor:t,patch:n,agent:r,installed:i},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function gF(){return dl(0,0,0,"",!1)}function yF(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:vF,onError(e,t,n,r){if(e.exitCode===-2)return n(Buffer.from(Nh));r(t)}})}}}function vF(e){return e===Nh?gF():Dt(dl(0,0,0,e),pw,e)}var Nh,pw,wF=W({"src/lib/tasks/version.ts"(){"use strict";oe(),Nh="installed=false",pw=[new fe(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(e,[t,n,r,i=""])=>{Object.assign(e,dl(Oe(t),Oe(n),Oe(r),i))}),new fe(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(e,[t,n,r,i=""])=>{Object.assign(e,dl(Oe(t),Oe(n),r,i))})]}}),mw={};et(mw,{SimpleGitApi:()=>ph});var ph,bF=W({"src/lib/simple-git-api.ts"(){"use strict";A4(),k4(),C4(),M4(),j4(),Sv(),B4(),Cv(),$4(),V4(),Zv(),aF(),cw(),uF(),mF(),Qe(),wF(),oe(),ph=class{constructor(e){this._executor=e}_runTask(e,t){let n=this._executor.chain(),r=n.push(e);return t&&S4(e,r,t),Object.create(this,{then:{value:r.then.bind(r)},catch:{value:r.catch.bind(r)},_executor:{value:n}})}add(e){return this._runTask(Tt(["add",...Cn(e)]),Ze(arguments))}cwd(e){let t=Ze(arguments);return typeof e=="string"?this._runTask(my(e,this._executor),t):typeof(e==null?void 0:e.path)=="string"?this._runTask(my(e.path,e.root&&this._executor||void 0),t):this._runTask(jt("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(N4(e,t===!0),Ze(arguments))}init(e){return this._runTask(z4(e===!0,this._executor.cwd,Lt(arguments)),Ze(arguments))}merge(){return this._runTask(Ty(Lt(arguments)),Ze(arguments))}mergeFromTo(e,t){return yt(e)&&yt(t)?this._runTask(Ty([e,t,...Lt(arguments)]),Ze(arguments,!1)):this._runTask(jt("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){let e=Bh({remote:Fn(arguments[0],yt),branch:Fn(arguments[1],yt)},Lt(arguments));return this._runTask(e,Ze(arguments))}stash(){return this._runTask(Tt(["stash",...Lt(arguments)]),Ze(arguments))}status(){return this._runTask(pF(Lt(arguments)),Ze(arguments))}},Object.assign(ph.prototype,T4(),L4(),u4(),P4(),D4(),p4(),Q4(),cF(),yF())}}),gw={};et(gw,{Scheduler:()=>vw});var Iy,vw,xF=W({"src/lib/runners/scheduler.ts"(){"use strict";oe(),Iv(),Iy=(()=>{let e=0;return()=>{e++;let{promise:t,done:n}=(0,yw.createDeferred)();return{promise:t,done:n,id:e}}})(),vw=class{constructor(e=2){this.concurrency=e,this.logger=Fh("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let e=we(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done(()=>{this.logger("Completing id=",e.id),yl(this.running,e),this.schedule()})}next(){let{promise:e,id:t}=we(this.pending,Iy());return this.logger("Scheduling id=%s",t),this.schedule(),e}}}}),ww={};et(ww,{applyPatchTask:()=>_F});function _F(e,t){return Tt(["apply",...t,...e])}var SF=W({"src/lib/tasks/apply-patch.ts"(){"use strict";Qe()}});function EF(e,t){return{branch:e,hash:t,success:!0}}function AF(e){return{branch:e,hash:null,success:!1}}var bw,kF=W({"src/lib/responses/BranchDeleteSummary.ts"(){"use strict";bw=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function xw(e,t){return t===1&&mh.test(e)}var Ry,mh,Ly,_l,TF=W({"src/lib/parsers/parse-branch-delete.ts"(){"use strict";kF(),oe(),Ry=/(\S+)\s+\(\S+\s([^)]+)\)/,mh=/^error[^']+'([^']+)'/m,Ly=[new fe(Ry,(e,[t,n])=>{let r=EF(t,n);e.all.push(r),e.branches[t]=r}),new fe(mh,(e,[t])=>{let n=AF(t);e.errors.push(n),e.all.push(n),e.branches[t]=n})],_l=(e,t)=>Dt(new bw,Ly,[e,t])}}),_w,CF=W({"src/lib/responses/BranchSummary.ts"(){"use strict";_w=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,n,r,i){e==="*"&&(this.detached=t,this.current=n),this.all.push(n),this.branches[n]={current:e==="*",linkedWorkTree:e==="+",name:n,commit:r,label:i}}}}});function jy(e){return e?e.charAt(0):""}function Sw(e){return Dt(new _w,Ew,e)}var Ew,FF=W({"src/lib/parsers/parse-branch.ts"(){"use strict";CF(),oe(),Ew=[new fe(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(e,[t,n,r,i])=>{e.push(jy(t),!0,n,r,i)}),new fe(new RegExp("^([*+]\\s)?(\\S+)\\s+([a-z0-9]+)\\s?(.*)$","s"),(e,[t,n,r,i])=>{e.push(jy(t),!1,n,r,i)})]}}),Aw={};et(Aw,{branchLocalTask:()=>MF,branchTask:()=>PF,containsDeleteBranchCommand:()=>kw,deleteBranchTask:()=>IF,deleteBranchesTask:()=>OF});function kw(e){let t=["-d","-D","--delete"];return e.some(n=>t.includes(n))}function PF(e){let t=kw(e),n=["branch",...e];return n.length===1&&n.push("-a"),n.includes("-v")||n.splice(1,0,"-v"),{format:"utf-8",commands:n,parser(r,i){return t?_l(r,i).all[0]:Sw(r)}}}function MF(){return{format:"utf-8",commands:["branch","-v"],parser:Sw}}function OF(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(n,r){return _l(n,r)},onError({exitCode:n,stdOut:r},i,a,s){if(!xw(String(i),n))return s(i);a(r)}}}function IF(e,t=!1){let n={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(r,i){return _l(r,i).branches[e]},onError({exitCode:r,stdErr:i,stdOut:a},s,o,l){if(!xw(String(s),r))return l(s);throw new As(n.parser(_s(a),_s(i)),String(s))}};return n}var RF=W({"src/lib/tasks/branch.ts"(){"use strict";Vi(),TF(),FF(),oe()}}),Tw,LF=W({"src/lib/responses/CheckIgnore.ts"(){"use strict";Tw=e=>e.split(/\n/g).map(t=>t.trim()).filter(t=>!!t)}}),Cw={};et(Cw,{checkIgnoreTask:()=>jF});function jF(e){return{commands:["check-ignore",...e],format:"utf-8",parser:Tw}}var DF=W({"src/lib/tasks/check-ignore.ts"(){"use strict";LF()}}),Fw={};et(Fw,{cloneMirrorTask:()=>NF,cloneTask:()=>Pw});function BF(e){return/^--upload-pack(=|$)/.test(e)}function Pw(e,t,n){let r=["clone",...n];return yt(e)&&r.push(e),yt(t)&&r.push(t),r.find(BF)?jt("git.fetch: potential exploit argument blocked."):Tt(r)}function NF(e,t,n){return we(n,"--mirror"),Pw(e,t,n)}var $F=W({"src/lib/tasks/clone.ts"(){"use strict";Qe(),oe()}});function HF(e,t){return Dt({raw:e,remote:null,branches:[],tags:[],updated:[],deleted:[]},Mw,[e,t])}var Mw,UF=W({"src/lib/parsers/parse-fetch.ts"(){"use strict";oe(),Mw=[new fe(/From (.+)$/,(e,[t])=>{e.remote=t}),new fe(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.branches.push({name:t,tracking:n})}),new fe(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.tags.push({name:t,tracking:n})}),new fe(/- \[deleted]\s+\S+\s*-> (.+)$/,(e,[t])=>{e.deleted.push({tracking:t})}),new fe(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(e,[t,n,r,i])=>{e.updated.push({name:r,tracking:i,to:n,from:t})})]}}),Ow={};et(Ow,{fetchTask:()=>zF});function GF(e){return/^--upload-pack(=|$)/.test(e)}function zF(e,t,n){let r=["fetch",...n];return e&&t&&r.push(e,t),r.find(GF)?jt("git.fetch: potential exploit argument blocked."):{commands:r,format:"utf-8",parser:HF}}var VF=W({"src/lib/tasks/fetch.ts"(){"use strict";UF(),Qe()}});function WF(e){return Dt({moves:[]},Iw,e)}var Iw,qF=W({"src/lib/parsers/parse-move.ts"(){"use strict";oe(),Iw=[new fe(/^Renaming (.+) to (.+)$/,(e,[t,n])=>{e.moves.push({from:t,to:n})})]}}),Rw={};et(Rw,{moveTask:()=>XF});function XF(e,t){return{commands:["mv","-v",...Cn(e),t],format:"utf-8",parser:WF}}var YF=W({"src/lib/tasks/move.ts"(){"use strict";qF(),oe()}}),Lw={};et(Lw,{pullTask:()=>ZF});function ZF(e,t,n){let r=["pull",...n];return e&&t&&r.splice(1,0,e,t),{commands:r,format:"utf-8",parser(i,a){return Dh(i,a)},onError(i,a,s,o){let l=rF(_s(i.stdOut),_s(i.stdErr));if(l)return o(new As(l));o(a)}}}var KF=W({"src/lib/tasks/pull.ts"(){"use strict";Vi(),aw(),oe()}});function JF(e){let t={};return jw(e,([n])=>t[n]={name:n}),Object.values(t)}function QF(e){let t={};return jw(e,([n,r,i])=>{t.hasOwnProperty(n)||(t[n]={name:n,refs:{fetch:"",push:""}}),i&&r&&(t[n].refs[i.replace(/[^a-z]/g,"")]=r)}),Object.values(t)}function jw(e,t){yh(e,n=>t(n.split(/\s+/)))}var eP=W({"src/lib/responses/GetRemoteSummary.ts"(){"use strict";oe()}}),Dw={};et(Dw,{addRemoteTask:()=>tP,getRemotesTask:()=>nP,listRemotesTask:()=>rP,remoteTask:()=>iP,removeRemoteTask:()=>aP});function tP(e,t,n){return Tt(["remote","add",...n,e,t])}function nP(e){let t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?QF:JF}}function rP(e){let t=[...e];return t[0]!=="ls-remote"&&t.unshift("ls-remote"),Tt(t)}function iP(e){let t=[...e];return t[0]!=="remote"&&t.unshift("remote"),Tt(t)}function aP(e){return Tt(["remote","remove",e])}var sP=W({"src/lib/tasks/remote.ts"(){"use strict";eP(),Qe()}}),Bw={};et(Bw,{stashListTask:()=>oP});function oP(e={},t){let n=Yv(e),r=["stash","list",...n.commands,...t],i=Vv(n.splitter,n.fields,Mh(r));return xl(r)||{commands:r,format:"utf-8",parser:i}}var lP=W({"src/lib/tasks/stash-list.ts"(){"use strict";Fs(),qv(),jh(),Zv()}}),Nw={};et(Nw,{addSubModuleTask:()=>cP,initSubModuleTask:()=>uP,subModuleTask:()=>Sl,updateSubModuleTask:()=>fP});function cP(e,t){return Sl(["add",e,t])}function uP(e){return Sl(["init",...e])}function Sl(e){let t=[...e];return t[0]!=="submodule"&&t.unshift("submodule"),Tt(t)}function fP(e){return Sl(["update",...e])}var hP=W({"src/lib/tasks/sub-module.ts"(){"use strict";Qe()}});function dP(e,t){let n=isNaN(e),r=isNaN(t);return n!==r?n?1:-1:n?$w(e,t):0}function $w(e,t){return e===t?0:e>t?1:-1}function pP(e){return e.trim()}function al(e){return typeof e=="string"&&parseInt(e.replace(/^\D+/g,""),10)||0}var Dy,Hw,mP=W({"src/lib/responses/TagList.ts"(){"use strict";Dy=class{constructor(e,t){this.all=e,this.latest=t}},Hw=function(e,t=!1){let n=e.split(`
`).map(pP).filter(Boolean);t||n.sort(function(i,a){let s=i.split("."),o=a.split(".");if(s.length===1||o.length===1)return dP(al(s[0]),al(o[0]));for(let l=0,c=Math.max(s.length,o.length);l<c;l++){let u=$w(al(s[l]),al(o[l]));if(u)return u}return 0});let r=t?n[0]:[...n].reverse().find(i=>i.indexOf(".")>=0);return new Dy(n,r)}}}),Uw={};et(Uw,{addAnnotatedTagTask:()=>vP,addTagTask:()=>yP,tagListTask:()=>gP});function gP(e=[]){let t=e.some(n=>/^--sort=/.test(n));return{format:"utf-8",commands:["tag","-l",...e],parser(n){return Hw(n,t)}}}function yP(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function vP(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var wP=W({"src/lib/tasks/tag.ts"(){"use strict";mP()}}),bP=D6({"src/git.js"(e,t){"use strict";var{GitExecutor:n}=(_4(),Ye(Lv)),{SimpleGitApi:r}=(bF(),Ye(mw)),{Scheduler:i}=(xF(),Ye(gw)),{configurationErrorTask:a}=(Qe(),Ye(lh)),{asArray:s,filterArray:o,filterPrimitives:l,filterString:c,filterStringOrStringArray:u,filterType:f,getTrailingOptions:h,trailingFunctionArgument:d,trailingOptionsArgument:p}=(oe(),Ye(av)),{applyPatchTask:g}=(SF(),Ye(ww)),{branchTask:m,branchLocalTask:w,deleteBranchesTask:b,deleteBranchTask:S}=(RF(),Ye(Aw)),{checkIgnoreTask:A}=(DF(),Ye(Cw)),{checkIsRepoTask:x}=(cv(),Ye(sv)),{cloneTask:k,cloneMirrorTask:y}=($F(),Ye(Fw)),{cleanWithOptionsTask:E,isCleanOptionsArray:_}=(bv(),Ye(vv)),{diffSummaryTask:C}=(jh(),Ye(Xv)),{fetchTask:P}=(VF(),Ye(Ow)),{moveTask:L}=(YF(),Ye(Rw)),{pullTask:N}=(KF(),Ye(Lw)),{pushTagsTask:j}=(cw(),Ye(lw)),{addRemoteTask:Y,getRemotesTask:le,listRemotesTask:he,remoteTask:ae,removeRemoteTask:Pe}=(sP(),Ye(Dw)),{getResetMode:de,resetTask:$}=(Ov(),Ye(Fv)),{stashListTask:z}=(lP(),Ye(Bw)),{addSubModuleTask:D,initSubModuleTask:se,subModuleTask:Se,updateSubModuleTask:gt}=(hP(),Ye(Nw)),{addAnnotatedTagTask:be,addTagTask:ot,tagListTask:ee}=(wP(),Ye(Uw)),{straightThroughBufferTask:Ie,straightThroughStringTask:Ee}=(Qe(),Ye(lh));function G(H,Z){this._plugins=Z,this._executor=new n(H.baseDir,new i(H.maxConcurrentProcesses),Z),this._trimmed=H.trimmed}(G.prototype=Object.create(r.prototype)).constructor=G,G.prototype.customBinary=function(H){return this._plugins.reconfigure("binary",H),this},G.prototype.env=function(H,Z){return arguments.length===1&&typeof H=="object"?this._executor.env=H:(this._executor.env=this._executor.env||{})[H]=Z,this},G.prototype.stashList=function(H){return this._runTask(z(p(arguments)||{},o(H)&&H||[]),d(arguments))};function rt(H,Z,ye,Ke){return typeof ye!="string"?a(`git.${H}() requires a string 'repoPath'`):Z(ye,f(Ke,c),h(arguments))}G.prototype.clone=function(){return this._runTask(rt("clone",k,...arguments),d(arguments))},G.prototype.mirror=function(){return this._runTask(rt("mirror",y,...arguments),d(arguments))},G.prototype.mv=function(H,Z){return this._runTask(L(H,Z),d(arguments))},G.prototype.checkoutLatestTag=function(H){var Z=this;return this.pull(function(){Z.tags(function(ye,Ke){Z.checkout(Ke.latest,H)})})},G.prototype.pull=function(H,Z,ye,Ke){return this._runTask(N(f(H,c),f(Z,c),h(arguments)),d(arguments))},G.prototype.fetch=function(H,Z){return this._runTask(P(f(H,c),f(Z,c),h(arguments)),d(arguments))},G.prototype.silent=function(H){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},G.prototype.tags=function(H,Z){return this._runTask(ee(h(arguments)),d(arguments))},G.prototype.rebase=function(){return this._runTask(Ee(["rebase",...h(arguments)]),d(arguments))},G.prototype.reset=function(H){return this._runTask($(de(H),h(arguments)),d(arguments))},G.prototype.revert=function(H){let Z=d(arguments);return typeof H!="string"?this._runTask(a("Commit must be a string"),Z):this._runTask(Ee(["revert",...h(arguments,0,!0),H]),Z)},G.prototype.addTag=function(H){let Z=typeof H=="string"?ot(H):a("Git.addTag requires a tag name");return this._runTask(Z,d(arguments))},G.prototype.addAnnotatedTag=function(H,Z){return this._runTask(be(H,Z),d(arguments))},G.prototype.deleteLocalBranch=function(H,Z,ye){return this._runTask(S(H,typeof Z=="boolean"?Z:!1),d(arguments))},G.prototype.deleteLocalBranches=function(H,Z,ye){return this._runTask(b(H,typeof Z=="boolean"?Z:!1),d(arguments))},G.prototype.branch=function(H,Z){return this._runTask(m(h(arguments)),d(arguments))},G.prototype.branchLocal=function(H){return this._runTask(w(),d(arguments))},G.prototype.raw=function(H){let Z=!Array.isArray(H),ye=[].slice.call(Z?arguments:H,0);for(let _t=0;_t<ye.length&&Z;_t++)if(!l(ye[_t])){ye.splice(_t,ye.length-_t);break}ye.push(...h(arguments,0,!0));var Ke=d(arguments);return ye.length?this._runTask(Ee(ye,this._trimmed),Ke):this._runTask(a("Raw: must supply one or more command to execute"),Ke)},G.prototype.submoduleAdd=function(H,Z,ye){return this._runTask(D(H,Z),d(arguments))},G.prototype.submoduleUpdate=function(H,Z){return this._runTask(gt(h(arguments,!0)),d(arguments))},G.prototype.submoduleInit=function(H,Z){return this._runTask(se(h(arguments,!0)),d(arguments))},G.prototype.subModule=function(H,Z){return this._runTask(Se(h(arguments)),d(arguments))},G.prototype.listRemote=function(){return this._runTask(he(h(arguments)),d(arguments))},G.prototype.addRemote=function(H,Z,ye){return this._runTask(Y(H,Z,h(arguments)),d(arguments))},G.prototype.removeRemote=function(H,Z){return this._runTask(Pe(H),d(arguments))},G.prototype.getRemotes=function(H,Z){return this._runTask(le(H===!0),d(arguments))},G.prototype.remote=function(H,Z){return this._runTask(ae(h(arguments)),d(arguments))},G.prototype.tag=function(H,Z){let ye=h(arguments);return ye[0]!=="tag"&&ye.unshift("tag"),this._runTask(Ee(ye),d(arguments))},G.prototype.updateServerInfo=function(H){return this._runTask(Ee(["update-server-info"]),d(arguments))},G.prototype.pushTags=function(H,Z){let ye=j({remote:f(H,c)},h(arguments));return this._runTask(ye,d(arguments))},G.prototype.rm=function(H){return this._runTask(Ee(["rm","-f",...s(H)]),d(arguments))},G.prototype.rmKeepLocal=function(H){return this._runTask(Ee(["rm","--cached",...s(H)]),d(arguments))},G.prototype.catFile=function(H,Z){return this._catFile("utf-8",arguments)},G.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},G.prototype._catFile=function(H,Z){var ye=d(Z),Ke=["cat-file"],_t=Z[0];if(typeof _t=="string")return this._runTask(a("Git.catFile: options must be supplied as an array of strings"),ye);Array.isArray(_t)&&Ke.push.apply(Ke,_t);let yu=H==="buffer"?Ie(Ke):Ee(Ke);return this._runTask(yu,ye)},G.prototype.diff=function(H,Z){let ye=c(H)?a("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):Ee(["diff",...h(arguments)]);return this._runTask(ye,d(arguments))},G.prototype.diffSummary=function(){return this._runTask(C(h(arguments,1)),d(arguments))},G.prototype.applyPatch=function(H){let Z=u(H)?g(s(H),h([].slice.call(arguments,1))):a("git.applyPatch requires one or more string patches as the first argument");return this._runTask(Z,d(arguments))},G.prototype.revparse=function(){let H=["rev-parse",...h(arguments,!0)];return this._runTask(Ee(H,!0),d(arguments))},G.prototype.clean=function(H,Z,ye){let Ke=_(H),_t=Ke&&H.join("")||f(H,c)||"",yu=h([].slice.call(arguments,Ke?1:0));return this._runTask(E(_t,yu),d(arguments))},G.prototype.exec=function(H){let Z={commands:[],format:"utf-8",parser(){typeof H=="function"&&H()}};return this._runTask(Z)},G.prototype.clearQueue=function(){return this},G.prototype.checkIgnore=function(H,Z){return this._runTask(A(s(f(H,u,[]))),d(arguments))},G.prototype.checkIsRepo=function(H,Z){return this._runTask(x(f(H,c)),d(arguments))},t.exports=G}});Es();dr();var xP=class extends dn{constructor(e,t){super(void 0,t),this.config=e}};dr();dr();var zn=class extends dn{constructor(e,t,n){super(e,n),this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}};Vi();zy();cv();bv();Sv();Av();Cv();Ov();function _P(e){return e?[{type:"spawn.before",action(r,i){e.aborted&&i.kill(new zn(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(r,i){function a(){i.kill(new zn(void 0,"abort","Abort signal received"))}e.addEventListener("abort",a),i.spawned.on("close",()=>e.removeEventListener("abort",a))}}]:void 0}function SP(e){return typeof e=="string"&&e.trim().toLowerCase()==="-c"}function EP(e,t){if(SP(e)&&/^\s*protocol(.[a-z]+)?.allow/.test(t))throw new zn(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function AP(e,t){if(/^\s*--(upload|receive)-pack/.test(e))throw new zn(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(t==="clone"&&/^\s*-u\b/.test(e))throw new zn(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(t==="push"&&/^\s*--exec\b/.test(e))throw new zn(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function kP({allowUnsafeProtocolOverride:e=!1,allowUnsafePack:t=!1}={}){return{type:"spawn.args",action(n,r){return n.forEach((i,a)=>{let s=a<n.length?n[a+1]:"";e||EP(i,s),t||AP(i,r.method)}),n}}}oe();function TP(e){let t=xs(e,"-c");return{type:"spawn.args",action(n){return[...t,...n]}}}oe();var By=(0,Gi.deferred)().promise;function CP({onClose:e=!0,onExit:t=50}={}){function n(){let i=-1,a={close:(0,Gi.deferred)(),closeTimeout:(0,Gi.deferred)(),exit:(0,Gi.deferred)(),exitTimeout:(0,Gi.deferred)()},s=Promise.race([e===!1?By:a.closeTimeout.promise,t===!1?By:a.exitTimeout.promise]);return r(e,a.close,a.closeTimeout),r(t,a.exit,a.exitTimeout),{close(o){i=o,a.close.done()},exit(o){i=o,a.exit.done()},get exitCode(){return i},result:s}}function r(i,a,s){i!==!1&&(i===!0?a.promise:a.promise.then(()=>rh(i))).then(s.done)}return{type:"spawn.after",action(i,a){return ws(this,arguments,function*(s,{spawned:o,close:l}){var c,u;let f=n(),h=!0,d=()=>void(h=!1);(c=o.stdout)==null||c.on("data",d),(u=o.stderr)==null||u.on("data",d),o.on("error",d),o.on("close",p=>f.close(p)),o.on("exit",p=>f.exit(p));try{yield f.result,h&&(yield rh(50)),l(f.exitCode)}catch(p){l(f.exitCode,p)}})}}}oe();var FP="Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings",Ny="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option";function PP(e){return!e||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(e)}function $y(e,t){if(e.length<1||e.length>2)throw new zn(void 0,"binary",FP);if(e.some(PP))if(t)console.warn(Ny);else throw new zn(void 0,"binary",Ny);let[r,i]=e;return{binary:r,prefix:i}}function MP(e,t=["git"],n=!1){let r=$y(Cn(t),n);e.on("binary",i=>{r=$y(Cn(i),n)}),e.append("spawn.binary",()=>r.binary),e.append("spawn.args",i=>r.prefix?[r.prefix,...i]:i)}dr();function OP(e){return!!(e.exitCode&&e.stdErr.length)}function IP(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function RP(e=!1,t=OP,n=IP){return(r,i)=>!e&&r||!t(i)?r:n(i)}function Hy(e){return{type:"task.error",action(t,n){let r=e(t.error,{stdErr:n.stdErr,stdOut:n.stdOut,exitCode:n.exitCode});return Buffer.isBuffer(r)?{error:new dn(void 0,r.toString("utf-8"))}:{error:r}}}}oe();var LP=class{constructor(){this.plugins=new Set,this.events=new Gw.EventEmitter}on(e,t){this.events.on(e,t)}reconfigure(e,t){this.events.emit(e,t)}append(e,t){let n=we(this.plugins,{type:e,action:t});return()=>this.plugins.delete(n)}add(e){let t=[];return Cn(e).forEach(n=>n&&this.plugins.add(we(t,n))),()=>{t.forEach(n=>this.plugins.delete(n))}}exec(e,t,n){let r=t,i=Object.freeze(Object.create(n));for(let a of this.plugins)a.type===e&&(r=a.action(r,i));return r}};oe();function jP(e){let t="--progress",n=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(a,s){return n.includes(s.method)?Zy(a,t):a}},{type:"spawn.after",action(a,s){var o;s.commands.includes(t)&&((o=s.spawned.stderr)==null||o.on("data",l=>{let c=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(l.toString("utf8"));c&&e({method:s.method,stage:DP(c[1]),progress:Oe(c[2]),processed:Oe(c[3]),total:Oe(c[4])})}))}}]}function DP(e){return String(e.toLowerCase().split(" ",1))||"unknown"}oe();function BP(e){let t=Qy(e,["uid","gid"]);return{type:"spawn.options",action(n){return tn(tn({},t),n)}}}function NP({block:e,stdErr:t=!0,stdOut:n=!0}){if(e>0)return{type:"spawn.after",action(r,i){var a,s;let o;function l(){o&&clearTimeout(o),o=setTimeout(u,e)}function c(){var f,h;(f=i.spawned.stdout)==null||f.off("data",l),(h=i.spawned.stderr)==null||h.off("data",l),i.spawned.off("exit",c),i.spawned.off("close",c),o&&clearTimeout(o)}function u(){c(),i.kill(new zn(void 0,"timeout","block timeout reached"))}n&&((a=i.spawned.stdout)==null||a.on("data",l)),t&&((s=i.spawned.stderr)==null||s.on("data",l)),i.spawned.on("exit",c),i.spawned.on("close",c),l()}}}Es();function $P(){return{type:"spawn.args",action(e){let t=[],n;function r(i){(n=n||[]).push(...i)}for(let i=0;i<e.length;i++){let a=e[i];if(ul(a)){r(fy(a));continue}if(a==="--"){r(e.slice(i+1).flatMap(s=>ul(s)&&fy(s)||s));break}t.push(a)}return n?[...t,"--",...n.map(String)]:t}}}oe();var HP=bP();function UP(e,t){var n;let r=new LP,i=rv(e&&(typeof e=="string"?{baseDir:e}:e)||{},t);if(!vh(i.baseDir))throw new xP(i,"Cannot use simple-git on a directory that does not exist");return Array.isArray(i.config)&&r.add(TP(i.config)),r.add(kP(i.unsafe)),r.add($P()),r.add(CP(i.completion)),i.abort&&r.add(_P(i.abort)),i.progress&&r.add(jP(i.progress)),i.timeout&&r.add(NP(i.timeout)),i.spawnOptions&&r.add(BP(i.spawnOptions)),r.add(Hy(RP(!0))),i.errors&&r.add(Hy(i.errors)),MP(r,i.binary,(n=i.unsafe)==null?void 0:n.allowUnsafeCustomBinary),new HP(i,r)}Vi();var zw=UP;v();var Vw=require("obsidian"),El="YYYY-MM-DD",$h=`${El} HH:mm`,Hh=`${El} HH:mm:ss`,Al=40,Wi="conflict-files-obsidian-git.md",Pn={commitMessage:"vault backup: {{date}}",commitDateFormat:Hh,autoSaveInterval:0,autoPushInterval:0,autoPullInterval:0,autoPullOnBoot:!1,disablePush:!1,pullBeforePush:!0,disablePopups:!1,disablePopupsForNoChanges:!1,listChangedFilesInMessageBody:!1,showStatusBar:!0,updateSubmodules:!1,syncMethod:"merge",customMessageOnAutoBackup:!1,autoBackupAfterFileChange:!1,treeStructure:!1,refreshSourceControl:Vw.Platform.isDesktopApp,basePath:"",differentIntervalCommitAndPush:!1,changedFilesInStatusBar:!1,showedMobileNotice:!1,refreshSourceControlTimer:7e3,showBranchStatusBar:!0,setLastSaveToLastCommit:!1,submoduleRecurseCheckout:!1,gitDir:"",showFileMenu:!0,authorInHistoryView:"hide",dateInHistoryView:!1,lineAuthor:{show:!1,followMovement:"inactive",authorDisplay:"initials",showCommitHash:!1,dateTimeFormatOptions:"date",dateTimeFormatCustomString:$h,dateTimeTimezone:"viewer-local",coloringMaxAge:"1y",colorNew:{r:255,g:150,b:150},colorOld:{r:120,g:160,b:255},textColorCss:"var(--text-muted)",ignoreWhitespace:!1,gutterSpacingFallbackLength:5}},pt={type:"git-view",name:"Source Control",icon:"git-pull-request"},nn={type:"git-history-view",name:"History",icon:"history"},Ct={type:"diff-view",name:"Diff View",icon:"git-pull-request"},kl="C:\\Program Files\\Git\\cmd\\git.exe",Tl="git_credentials_input",qi="obsidian_askpass.sh",Ww=`#!/bin/sh

PROMPT="$1"
TEMP_FILE="$OBSIDIAN_GIT_CREDENTIALS_INPUT"

cleanup() {
    rm -f "$TEMP_FILE" "$TEMP_FILE.response"
}
trap cleanup EXIT

echo "$PROMPT" > "$TEMP_FILE"

while [ ! -e "$TEMP_FILE.response" ]; do
    if [ ! -e "$TEMP_FILE" ]; then
        echo "Trigger file got removed: Abort" >&2
        exit 1
    fi
    sleep 0.1
done

RESPONSE=$(cat "$TEMP_FILE.response")

echo "$RESPONSE"
`;v();var qw=require("obsidian"),GP={options:[],placeholder:"",allowEmpty:!1,onlySelection:!1,initialValue:void 0},$e=class extends qw.SuggestModal{constructor(t,n){super(t.app),this.config={...GP,...n},this.setPlaceholder(this.config.placeholder)}openAndGetResult(){return new Promise(t=>{this.resolve=t,this.open(),this.config.initialValue!=null&&(this.inputEl.value=this.config.initialValue,this.inputEl.dispatchEvent(new Event("input")))})}onClose(){new Promise(t=>setTimeout(t,10)).then(()=>{this.resolve&&this.resolve(void 0)})}getSuggestions(t){return this.config.onlySelection?this.config.options:this.config.allowEmpty?[t.length>0?t:" ",...this.config.options]:[t.length>0?t:"...",...this.config.options]}renderSuggestion(t,n){n.setText(t)}onChooseSuggestion(t,n){if(this.resolve){let r;this.config.allowEmpty&&t===" "?r="":t==="..."?r=void 0:r=t,this.resolve(r)}}};v();function Xw(e,t){let n=Object.assign({},e.lineAuthor,t.lineAuthor);return Object.assign({},e,t,{lineAuthor:n})}var Xi=class extends Error{constructor(n){super("No network connection available");this.originalError=n}};v();var PS=Xe(h2()),MS=Xe(FS()),aa=require("obsidian"),lp=(e,t)=>e==="."||t==null||t.length===0||t==="."?!0:t.length>=e.length?t.startsWith(e):e.startsWith(t);function Xt(e,t){let n;if(t){if(t.button===0||t.button===1){let r=aa.Keymap.isModEvent(t);n=e.workspace.getLeaf(r)}}else n=e.workspace.getLeaf(!1);return n}function In(e,t,n,r,i){if(t.button==2){let a=e.vault.getAbstractFileByPath(n);if(a!=null){let s=new aa.Menu;e.workspace.trigger("file-menu",s,a,i,r),s.showAtPosition({x:t.pageX,y:t.pageY})}}}function wr(e){throw new Error("Impossible branch: "+e)}function cp(e){return`rgb(${e.r},${e.g},${e.b})`}function OS(e){var a;let t=(a=PS.fromString(e))==null?void 0:a.toRgbaArray();if(t===void 0)return;let[n,r,i]=t;return{r:n,g:r,b:i}}function IS(e){return e.diff(aa.moment.unix(0),"seconds")}function RS(e){if(e.length!==0)return e.slice().sort()[Math.floor(e.length/2)]}function LS(e,t){return(0,MS.default)(e,t,{strict:!0})}function br(e,t){return new Proxy(e,{get(n,r){return r==="length"?Math.min(t,n.length):n[r]}})}function jS(e,t,n){return e.length<=t?new Array(t-e.length).fill(n).join("")+e:e.substring(e.length-t)}function DS(e,t){if(t<=0)return e;let n=new Array(t).fill(" ").join(""),r=e.substring(t,e.length);return n+r}function up(e,t,n){return e<=t&&t<=n}function xr(e){let[t,...n]=e.split("/");return[t,n.length===0?void 0:n.join("/")]}function Bt(e){return e.endsWith("/")?e:e.split("/").last().replace(".md","")}function Us(e){return e===1?"1 minute":`${e} minutes`}v();var BS=require("obsidian"),sa=class{constructor(t){this.plugin=t,this.app=t.app}getRelativeVaultPath(t){return this.plugin.settings.basePath?this.plugin.settings.basePath+"/"+t:t}getRelativeRepoPath(t,n=!0){return n&&this.plugin.settings.basePath.length>0?t.substring(this.plugin.settings.basePath.length+1):t}unload(){}_getTreeStructure(t,n=0){let r=[];for(t=[...t];t.length>0;){let i=t.first(),a=i.path.substring(n);if(a.contains("/")){let s=a.substring(0,a.indexOf("/")),o=t.filter(c=>c.path.substring(n).startsWith(s+"/"));o.forEach(c=>t.remove(c));let l=i.path.substring(0,a.indexOf("/")+n);r.push({title:s,path:l,vaultPath:this.getRelativeVaultPath(l),children:this._getTreeStructure(o,(n>0?n+s.length:s.length)+1)})}else r.push({title:a,data:i,path:i.path,vaultPath:this.getRelativeVaultPath(i.path)}),t.remove(i)}return r}simplify(t){var n,r,i,a;for(let s of t){for(;;){let o=((n=s.children)==null?void 0:n.length)==1,l=((i=(r=s.children)==null?void 0:r.first())==null?void 0:i.data)==null;if(!(s.children!=null&&o&&l))break;let c=s.children.first();s.title+="/"+c.title,s.data=c.data,s.path=c.path,s.vaultPath=c.vaultPath,s.children=c.children}s.children!=null&&this.simplify(s.children),(a=s.children)==null||a.sort((o,l)=>{let c=(l.data==null?1:0)-(o.data==null?1:0);return c!=0?c:o.title.localeCompare(l.title)})}return t.sort((s,o)=>{let l=(o.data==null?1:0)-(s.data==null?1:0);return l!=0?l:s.title.localeCompare(o.title)})}getTreeStructure(t){let n=this._getTreeStructure(t);return this.simplify(n)}async formatCommitMessage(t){let n;if(t.includes("{{numFiles}}")){n=await this.status();let r=n.staged.length;t=t.replace("{{numFiles}}",String(r))}if(t.includes("{{hostname}}")){let r=this.plugin.localStorage.getHostname()||"";t=t.replace("{{hostname}}",r)}if(t.includes("{{files}}")){n=n!=null?n:await this.status();let r={},i="";if(n.staged.length<100){n.staged.forEach(s=>{s.index in r?r[s.index].push(s.path):r[s.index]=[s.path]});let a=[];for(let[s,o]of Object.entries(r))a.push(s+" "+o.join(" "));i=a.join(", ")}else i="Too many files to list";t=t.replace("{{files}}",i)}if(t=t.replace("{{date}}",(0,BS.moment)().format(this.plugin.settings.commitDateFormat)),this.plugin.settings.listChangedFilesInMessageBody){let r=n!=null?n:await this.status(),i="";r.staged.length<100?i=r.staged.map(a=>a.path).join(`
`):i="Too many files to list",t=t+`

Affected files:
`+i}return t}};var Le=class extends sa{constructor(n){super(n);this.useDefaultWindowsGitPath=!1}async setGitInstance(n=!1){if(this.isGitInstalled()){let r=this.app.vault.adapter,i=r.getBasePath(),a=i;this.plugin.settings.basePath&&(await r.exists((0,Xn.normalizePath)(this.plugin.settings.basePath))?a=He.join(i,this.plugin.settings.basePath):n||new Xn.Notice("ObsidianGit: Base path does not exist")),this.absoluteRepoPath=a,this.git=zw({baseDir:a,binary:this.plugin.localStorage.getGitPath()||(this.useDefaultWindowsGitPath?kl:void 0),config:["core.quotepath=off"],unsafe:{allowUnsafeCustomBinary:!0}});let s=this.plugin.localStorage.getPATHPaths(),o=this.plugin.localStorage.getEnvVars(),l=this.plugin.settings.gitDir;if(s.length>0){let f=process.env.PATH+":"+s.join(":");process.env.PATH=f}l&&(process.env.GIT_DIR=l);for(let f of o){let[h,d]=f.split("=");process.env[h]=d}if(HS.default.enable("simple-git"),await this.git.checkIsRepo()){let f=await this.git.revparse("--show-cdup"),h=(0,Gs.resolve)(a+Gs.sep+f);this.absoluteRepoPath=h,await this.git.cwd(h)}let c=He.join(i,this.app.vault.configDir,"plugins","obsidian-git"),u=He.join(c,qi);process.env.SSH_ASKPASS==null&&(process.env.SSH_ASKPASS=u),process.env.OBSIDIAN_GIT_CREDENTIALS_INPUT=He.join(c,Tl),process.env.SSH_ASKPASS==u&&this.askpass().catch(f=>this.plugin.displayError(f))}}getRelativeVaultPath(n){let i=this.app.vault.adapter.getBasePath(),a=He.join(this.absoluteRepoPath,n),s=He.relative(i,a);return Xn.Platform.isWin&&(s=s.replace(/\\/g,"/")),s}getRelativeRepoPath(n,r=!0){if(r){let a=this.plugin.app.vault.adapter.getBasePath(),s=this.absoluteRepoPath,o=He.join(a,n),l=He.relative(s,o);return Xn.Platform.isWin&&(l=l.replace(/\\/g,"/")),l}return n}async askpass(){let n=this.app.vault.adapter,r=n.getBasePath(),i=He.join(r,this.app.vault.configDir,"plugins","obsidian-git"),a=this.app.vault.configDir+"/plugins/obsidian-git/";await Yn.writeFile(He.join(i,qi),Ww),await Yn.chmod(He.join(i,qi),493),this.watchAbortController=new AbortController;let{signal:s}=this.watchAbortController;try{let o=Yn.watch(i,{signal:s});for await(let l of o){if(l.filename!=Tl)continue;let c=a+Tl;if(!await n.exists(c))continue;let u=await n.read(c),f;u.length>60&&(f=new Xn.Notice(u,999999));let h=await new $e(this.plugin,{allowEmpty:!0,placeholder:u.length>60?"Enter a response to the message.":u}).openAndGetResult();f==null||f.hide(),await n.exists(c)&&await n.write(`${c}.response`,h!=null?h:"")}}catch(o){this.plugin.displayError(o),await Yn.rm(He.join(i,qi),{force:!0}),await Yn.rm(He.join(i,`${qi}.response`),{force:!0}),await new Promise(l=>setTimeout(l,5e3)),this.plugin.log("Retry watch for ask pass"),await this.askpass()}}unload(){var n;(n=this.watchAbortController)==null||n.abort()}async status(){this.plugin.setPluginState({gitAction:1});let n=await this.git.status();this.plugin.setPluginState({gitAction:0});let r=n.files.map(i=>{let a=this.formatPath(i);return{path:a.path,from:a.from,index:i.index==="?"?"U":i.index,working_dir:i.working_dir==="?"?"U":i.working_dir,vault_path:this.getRelativeVaultPath(a.path)}});return{all:r,changed:r.filter(i=>i.working_dir!==" "),staged:r.filter(i=>i.index!==" "&&i.index!="U"),conflicted:n.conflicted.map(i=>this.formatPath({path:i}).path)}}async submoduleAwareHeadRevisonInContainingDirectory(n){let r=this.getRelativeRepoPath(n),a=["-C",He.dirname(r),"rev-parse","HEAD"],s=this.git.raw(a);return s.catch(o=>console.warn("obsidian-git: rev-parse error:",o)),s}async getSubmodulePaths(){return new Promise(n=>{this.git.outputHandler((r,i,a,s)=>{if(!(s.contains("submodule")&&s.contains("foreach")))return;let o="",l=this.app.vault.adapter.getBasePath()+(this.plugin.settings.basePath?"/"+this.plugin.settings.basePath:"");i.on("data",c=>{o+=c.toString("utf8")}),i.on("end",()=>{let u=o.split(`
`).map(f=>{let h=f.match(/'([^']*)'/);if(h!=null)return l+"/"+h[1]+Gs.sep}).filter(f=>!!f);u.reverse(),n(u)})}),this.git.subModule(["foreach","--recursive",""]).then(()=>{this.git.outputHandler(()=>{})},r=>this.plugin.displayError(r))})}formatPath(n,r=!1){function i(a){if(a!=null)return a.startsWith('"')&&a.endsWith('"')?a.substring(1,a.length-1):a}return r?{from:i(n.from),path:i(n.path)}:{path:i(n.path)}}async blame(n,r,i){if(n=this.getRelativeRepoPath(n),!await this.isTracked(n))return"untracked";let a=await this.getSubmoduleOfFile(n),s=a?["-C",a.submodule]:[],o=a?a.relativeFilepath:n;s.push("blame","--porcelain"),i&&s.push("-w");let l=`-C${Al}`;switch(r){case"inactive":break;case"same-commit":s.push("-C",l);break;case"all-commits":s.push("-C","-C",l);break;default:wr(r)}s.push("--",o);let c=await this.git.raw(s);return VR(c)}async isTracked(n){let r=await this.getSubmoduleOfFile(n),i=r?["-C",r.submodule]:[],a=r?r.relativeFilepath:n;return i.push("ls-files","--",a),this.git.raw(i).then(s=>s.trim()!=="")}async commitAll({message:n}){if(this.plugin.settings.updateSubmodules){this.plugin.setPluginState({gitAction:4});let i=await this.getSubmodulePaths();for(let a of i)await this.git.cwd({path:a,root:!1}).add("-A"),await this.git.cwd({path:a,root:!1}).commit(await this.formatCommitMessage(n))}this.plugin.setPluginState({gitAction:3}),await this.git.add("-A"),this.plugin.setPluginState({gitAction:4});let r=await this.git.commit(await this.formatCommitMessage(n));return this.app.workspace.trigger("obsidian-git:head-change"),r.summary.changes}async commit({message:n,amend:r}){this.plugin.setPluginState({gitAction:4});let i=(await this.git.commit(await this.formatCommitMessage(n),r?["--amend"]:[])).summary.changes;return this.app.workspace.trigger("obsidian-git:head-change"),this.plugin.setPluginState({gitAction:0}),i}async stage(n,r){this.plugin.setPluginState({gitAction:3}),n=this.getRelativeRepoPath(n,r),await this.git.add(["--",n]),this.plugin.setPluginState({gitAction:0})}async stageAll({dir:n}){this.plugin.setPluginState({gitAction:3}),await this.git.add(n!=null?n:"-A"),this.plugin.setPluginState({gitAction:0})}async unstageAll({dir:n}){this.plugin.setPluginState({gitAction:3}),await this.git.reset(n!=null?["--",n]:[]),this.plugin.setPluginState({gitAction:0})}async unstage(n,r){this.plugin.setPluginState({gitAction:3}),n=this.getRelativeRepoPath(n,r),await this.git.reset(["--",n]),this.plugin.setPluginState({gitAction:0})}async discard(n){this.plugin.setPluginState({gitAction:3}),await this.isTracked(n)?await this.git.checkout(["--",n]):await this.app.vault.adapter.rmdir(this.getRelativeVaultPath(n),!0),this.plugin.setPluginState({gitAction:0})}async hashObject(n){n=this.getRelativeRepoPath(n);let r=await this.getSubmoduleOfFile(n),i=r?["-C",r.submodule]:[],a=r?r.relativeFilepath:n;return i.push("hash-object","--",a),this.git.raw(i)}async discardAll({dir:n}){return this.discard(n!=null?n:".")}async pull(){this.plugin.setPluginState({gitAction:2});try{this.plugin.settings.updateSubmodules&&await this.git.subModule(["update","--remote","--merge","--recursive"]);let n=await this.branchInfo(),r=await this.git.revparse([n.current]);if(!n.tracking&&this.plugin.settings.updateSubmodules){this.plugin.log("No tracking branch found. Ignoring pull of main repo and updating submodules only.");return}await this.git.fetch();let i=await this.git.revparse([n.tracking]);if(r!==i){if(this.plugin.settings.syncMethod==="merge"||this.plugin.settings.syncMethod==="rebase")try{switch(this.plugin.settings.syncMethod){case"merge":await this.git.merge([n.tracking]);break;case"rebase":await this.git.rebase([n.tracking])}}catch(o){this.plugin.displayError(`Pull failed (${this.plugin.settings.syncMethod}): ${"message"in o?o.message:o}`);return}else if(this.plugin.settings.syncMethod==="reset")try{await this.git.raw(["update-ref",`refs/heads/${n.current}`,i]),await this.unstageAll({})}catch(o){this.plugin.displayError(`Sync failed (${this.plugin.settings.syncMethod}): ${"message"in o?o.message:o}`)}this.app.workspace.trigger("obsidian-git:head-change");let a=await this.git.revparse([n.current]);return(await this.git.diff([`${r}..${a}`,"--name-only"])).split(/\r\n|\r|\n/).filter(o=>o.length>0).map(o=>({path:o,working_dir:"P",vault_path:this.getRelativeVaultPath(o)}))}else return[]}catch(n){this.convertErrors(n)}}async push(){this.plugin.setPluginState({gitAction:5});try{if(this.plugin.settings.updateSubmodules){let s=await this.git.env({...process.env,OBSIDIAN_GIT:1}).subModule(["foreach","--recursive",`tracking=$(git for-each-ref --format='%(upstream:short)' "$(git symbolic-ref -q HEAD)"); echo $tracking; if [ ! -z "$(git diff --shortstat $tracking)" ]; then git push; fi`]);console.log(s)}let n=await this.git.status(),r=n.tracking,i=n.current;if(!r&&this.plugin.settings.updateSubmodules){this.plugin.log("No tracking branch found. Ignoring push of main repo and updating submodules only.");return}let a=(await this.git.diffSummary([i,r,"--"])).changed;return await this.git.env({...process.env,OBSIDIAN_GIT:1}).push(),a}catch(n){this.convertErrors(n)}}async getUnpushedCommits(){let n=await this.git.status(),r=n.tracking,i=n.current;return r==null||i==null?0:(await this.git.diffSummary([i,r,"--"])).changed}async canPush(){if(this.plugin.settings.updateSubmodules===!0)return!0;let n=await this.git.status(),r=n.tracking,i=n.current;return r?(await this.git.diffSummary([i,r,"--"])).changed!==0:!1}async checkRequirements(){return this.isGitInstalled()?await this.git.checkIsRepo()?"valid":"missing-repo":"missing-git"}async branchInfo(){let n=await this.git.status(),r=await this.git.branch(["--no-color"]);return{current:n.current||void 0,tracking:n.tracking||void 0,branches:r.all}}async getRemoteUrl(n){try{return await this.git.remote(["get-url",n])||void 0}catch(r){if(String(r).contains(n))return;throw r}}async log(n,r=!0,i){let a;return n&&(a=this.getRelativeRepoPath(n,r)),(await this.git.log({file:a,maxCount:i,"-m":null,"--name-status":null})).all.map(o=>{var l,c,u,f;return{...o,author:{name:o.author_name,email:o.author_email},refs:o.refs.split(", ").filter(h=>h.length>0),diff:{...o.diff,files:(c=(l=o.diff)==null?void 0:l.files.map(h=>({...h,status:h.status,path:h.file,hash:o.hash,vault_path:this.getRelativeVaultPath(h.file)})))!=null?c:[]},fileName:(f=(u=o.diff)==null?void 0:u.files.first())==null?void 0:f.file}})}async show(n,r,i=!0){let a=this.getRelativeRepoPath(r,i);return this.git.show([n+":"+a])}async checkout(n,r){if(r&&(n=`${r}/${n}`),await this.git.checkout(n),this.plugin.settings.submoduleRecurseCheckout){let i=await this.getSubmodulePaths();for(let a of i){let s=await this.git.cwd({path:a,root:!1}).branch();Object.keys(s.branches).includes(n)&&await this.git.cwd({path:a,root:!1}).checkout(n)}}}async createBranch(n){await this.git.checkout(["-b",n])}async deleteBranch(n,r){await this.git.branch([r?"-D":"-d",n])}async branchIsMerged(n){return!(await this.git.branch(["--no-merged"])).all.contains(n)}async init(){await this.git.init(!1)}async clone(n,r,i){await this.git.clone(n,He.join(this.app.vault.adapter.getBasePath(),r),i?["--depth",`${i}`]:[])}async setConfig(n,r){r==null?await this.git.raw(["config","--local","--unset",n]):await this.git.addConfig(n,r)}async getConfig(n){let i=(await this.git.listConfig("local")).all[n];if(typeof i=="string"||i==null)return i;throw new Error("Config value is not a string")}async fetch(n){await this.git.fetch(n!=null?[n]:[])}async setRemote(n,r){(await this.getRemotes()).includes(n)?await this.git.remote(["set-url",n,r]):await this.git.remote(["add",n,r])}async getRemoteBranches(n){let r=await this.git.branch(["-r","--list",`${n}*`]),i=[];for(let a in r.branches)i.push(r.branches[a].name);return i}async getRemotes(){let n=await this.git.remote([]);return n?n.trim().split(`
`):[]}async removeRemote(n){await this.git.removeRemote(n)}async updateUpstreamBranch(n){try{await this.git.branch(["--set-upstream-to",n])}catch(r){try{await this.git.branch(["--set-upstream",n])}catch(i){await this.git.push(["--set-upstream",...xr(n)])}}}updateGitPath(n){return this.setGitInstance()}updateBasePath(n){return this.setGitInstance(!0)}async getDiffString(n,r=!1,i){return r?await this.git.diff(["--cached","--",n]):i?await this.git.show([`${i}`,"--",n]):await this.git.diff(["--",n])}async diff(n,r,i){return await this.git.diff([`${r}..${i}`,"--",n])}async getSubmoduleOfFile(n){if(!await this.app.vault.adapter.exists(He.dirname(n)))return;let r=await this.git.raw(["-C",He.dirname(n),"rev-parse","--show-toplevel"],l=>l&&console.warn("get-submodule-of-file",l==null?void 0:l.message));if(r=r.trim(),(await this.git.raw(["-C",He.dirname(n),"rev-parse","--show-superproject-working-tree"],l=>l&&console.warn("get-submodule-of-file",l==null?void 0:l.message))).trim()==="")return;let s=this.app.vault.adapter.getFullPath(He.normalize(n)),o=He.relative(r,s);return{submodule:r,relativeFilepath:o}}async getLastCommitTime(){let n=await this.git.log({n:1});if(n!=null&&n.latest!=null)return new Date(n.latest.date)}isGitInstalled(){let n=this.plugin.localStorage.getGitPath(),r=(0,hp.spawnSync)(n||"git",["--version"],{stdio:"ignore"});if(r.error)if(Xn.Platform.isWin&&!n){this.plugin.log(`Git not found in PATH. Checking standard installation path(${kl}) of Git for Windows.`);let i=(0,hp.spawnSync)(kl,["--version"],{stdio:"ignore"});if(i.error)return console.error(i.error),!1;this.useDefaultWindowsGitPath=!0}else return console.error(r.error),!1;else this.useDefaultWindowsGitPath=!1;return!0}convertErrors(n){if(n instanceof dn){let r=String(n.message);if(r.contains("Could not resolve host")||r.contains("Unable to resolve host")||r.match(/ssh: connect to host .*? port .*?: Operation timed out/)!=null||r.match(/ssh: connect to host .*? port .*?: Network is unreachable/)!=null||r.match(/ssh: connect to host .*? port .*?: Undefined error: 0/)!=null)throw new Xi(r)}throw n}},US={hash:"000000",isZeroCommit:!0,summary:""};function VR(e){let n=e.replace(`\r
`,`
`).split(`
`),r={commits:new Map,hashPerLine:[void 0],originalFileLineNrPerLine:[void 0],finalFileLineNrPerLine:[void 0],groupSizePerStartingLine:new Map},i=1;for(let a=0;a<n.length;){if(NS(n[a])){let s=n[a].split(" "),o=WR(s,i,r);for(a++;NS(n[a]);a++){let l=n[a].split(" ");qR(l,r,i)}XR(r.commits.get(o)),i+=1}else if(!(n[a]===""&&a===n.length-1))throw Error(`Expected non-whitespace line or EOF, but found: ${n[a]}`);a++}return r}function WR(e,t,n){let r=e[0];if(n.hashPerLine.push(r),n.originalFileLineNrPerLine.push(parseInt(e[1])),n.finalFileLineNrPerLine.push(parseInt(e[2])),e.length>=4&&n.groupSizePerStartingLine.set(t,parseInt(e[3])),parseInt(e[2])!==t)throw Error(`git-blame output is out of order: ${t} vs ${e[2]}`);return r}function qR(e,t,n){let r=e[0],i=e.slice(1).join(" "),a=t.hashPerLine[n],s=t.commits.get(a)||{hash:a,author:{},committer:{},previous:{}};switch(r){case"summary":s.summary=i;break;case"author":s.author.name=i;break;case"author-mail":s.author.email=$S(i);break;case"author-time":s.author.epochSeconds=parseInt(i);break;case"author-tz":s.author.tz=i;break;case"committer":s.committer.name=i;break;case"committer-mail":s.committer.email=$S(i);break;case"committer-time":s.committer.epochSeconds=parseInt(i);break;case"committer-tz":s.committer.tz=i;break;case"previous":s.previous.commitHash=i;break;case"filename":s.previous.filename=i;break}t.commits.set(a,s)}function XR(e){if(e.summary===void 0)throw Error(`Summary not provided for commit: ${e.hash}`);fp(e.author)&&(e.author=void 0),fp(e.committer)&&(e.committer=void 0),fp(e.previous)&&(e.previous=void 0),e.isZeroCommit=!!e.hash.match(/^0*$/)}function fp(e){return!e||Object.keys(e).length===0}function NS(e){return e.length>0&&e[0].trim()===e[0]}function $S(e){let t=e.startsWith("<")?e.substring(1):e;return t.endsWith(">")?t.substring(0,t.length-1):t}v();var SE=require("@codemirror/state");v();var nE=require("@codemirror/state"),Fc=require("obsidian");v();var dp=class{constructor(){this.eventsPerFilepath=new Map;this.startRemoveStalesSubscribersInterval()}ifFilepathDefinedTransformSubscribers(t,n){if(t)return this.ensureInitialized(t),n(this.eventsPerFilepath.get(t))}forEachSubscriber(t){this.eventsPerFilepath.forEach(n=>n.forEach(t))}ensureInitialized(t){this.eventsPerFilepath.get(t)||this.eventsPerFilepath.set(t,new Set)}startRemoveStalesSubscribersInterval(){this.removeStalesSubscribersTimer=window.setInterval(()=>this==null?void 0:this.forEachSubscriber(t=>t==null?void 0:t.removeIfStale()),6e4)}clear(){window.clearInterval(this.removeStalesSubscribersTimer),this.eventsPerFilepath.clear()}},oa=new dp;v();var kc=require("@codemirror/state"),KS=Xe(pp());v();var V=require("obsidian");v();v();function gn(){}gn.prototype={diff:function(t,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.callback;typeof i=="function"&&(a=i,i={});var s=this;function o(A){return A=s.postProcess(A,i),a?(setTimeout(function(){a(A)},0),!0):A}t=this.castInput(t,i),n=this.castInput(n,i),t=this.removeEmpty(this.tokenize(t,i)),n=this.removeEmpty(this.tokenize(n,i));var l=n.length,c=t.length,u=1,f=l+c;i.maxEditLength!=null&&(f=Math.min(f,i.maxEditLength));var h=(r=i.timeout)!==null&&r!==void 0?r:1/0,d=Date.now()+h,p=[{oldPos:-1,lastComponent:void 0}],g=this.extractCommon(p[0],n,t,0,i);if(p[0].oldPos+1>=c&&g+1>=l)return o(GS(s,p[0].lastComponent,n,t,s.useLongestToken));var m=-1/0,w=1/0;function b(){for(var A=Math.max(m,-u);A<=Math.min(w,u);A+=2){var x=void 0,k=p[A-1],y=p[A+1];k&&(p[A-1]=void 0);var E=!1;if(y){var _=y.oldPos-A;E=y&&0<=_&&_<l}var C=k&&k.oldPos+1<c;if(!E&&!C){p[A]=void 0;continue}if(!C||E&&k.oldPos<y.oldPos?x=s.addToPath(y,!0,!1,0,i):x=s.addToPath(k,!1,!0,1,i),g=s.extractCommon(x,n,t,A,i),x.oldPos+1>=c&&g+1>=l)return o(GS(s,x.lastComponent,n,t,s.useLongestToken));p[A]=x,x.oldPos+1>=c&&(w=Math.min(w,A-1)),g+1>=l&&(m=Math.max(m,A+1))}u++}if(a)(function A(){setTimeout(function(){if(u>f||Date.now()>d)return a();b()||A()},0)})();else for(;u<=f&&Date.now()<=d;){var S=b();if(S)return S}},addToPath:function(t,n,r,i,a){var s=t.lastComponent;return s&&!a.oneChangePerToken&&s.added===n&&s.removed===r?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:r,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:r,previousComponent:s}}},extractCommon:function(t,n,r,i,a){for(var s=n.length,o=r.length,l=t.oldPos,c=l-i,u=0;c+1<s&&l+1<o&&this.equals(r[l+1],n[c+1],a);)c++,l++,u++,a.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return u&&!a.oneChangePerToken&&(t.lastComponent={count:u,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},equals:function(t,n,r){return r.comparator?r.comparator(t,n):t===n||r.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};function GS(e,t,n,r,i){for(var a=[],s;t;)a.push(t),s=t.previousComponent,delete t.previousComponent,t=s;a.reverse();for(var o=0,l=a.length,c=0,u=0;o<l;o++){var f=a[o];if(f.removed)f.value=e.join(r.slice(u,u+f.count)),u+=f.count;else{if(!f.added&&i){var h=n.slice(c,c+f.count);h=h.map(function(d,p){var g=r[u+p];return g.length>d.length?g:d}),f.value=e.join(h)}else f.value=e.join(n.slice(c,c+f.count));c+=f.count,f.added||(u+=f.count)}}return a}var x$=new gn;function zS(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function VS(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function gp(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function yp(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function zs(e,t){return gp(e,t,"")}function yc(e,t){return yp(e,t,"")}function WS(e,t){return t.slice(0,YR(e,t))}function YR(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var i=Array(r),a=0;i[0]=0;for(var s=1;s<r;s++){for(t[s]==t[a]?i[s]=i[a]:i[s]=a;a>0&&t[s]!=t[a];)a=i[a];t[s]==t[a]&&a++}a=0;for(var o=n;o<e.length;o++){for(;a>0&&e[o]!=t[a];)a=i[a];e[o]==t[a]&&a++}return a}var vc="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",ZR=new RegExp("[".concat(vc,"]+|\\s+|[^").concat(vc,"]"),"ug"),bc=new gn;bc.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};bc.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(a){return a.segment})}else n=e.match(ZR)||[];var r=[],i=null;return n.forEach(function(a){/\s/.test(a)?i==null?r.push(a):r.push(r.pop()+a):/\s/.test(i)?r[r.length-1]==i?r.push(r.pop()+a):r.push(i+a):r.push(a),i=a}),r};bc.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};bc.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,i=null;return e.forEach(function(a){a.added?r=a:a.removed?i=a:((r||i)&&qS(n,i,r,a),n=a,r=null,i=null)}),(r||i)&&qS(n,i,r,null),e};function qS(e,t,n,r){if(t&&n){var i=t.value.match(/^\s*/)[0],a=t.value.match(/\s*$/)[0],s=n.value.match(/^\s*/)[0],o=n.value.match(/\s*$/)[0];if(e){var l=zS(i,s);e.value=yp(e.value,s,l),t.value=zs(t.value,l),n.value=zs(n.value,l)}if(r){var c=VS(a,o);r.value=gp(r.value,o,c),t.value=yc(t.value,c),n.value=yc(n.value,c)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var u=r.value.match(/^\s*/)[0],f=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],d=zS(u,f);t.value=zs(t.value,d);var p=VS(zs(u,d),h);t.value=yc(t.value,p),r.value=gp(r.value,u,p),e.value=yp(e.value,u,u.slice(0,u.length-p.length))}else if(r){var g=r.value.match(/^\s*/)[0],m=t.value.match(/\s*$/)[0],w=WS(m,g);t.value=yc(t.value,w)}else if(e){var b=e.value.match(/\s*$/)[0],S=t.value.match(/^\s*/)[0],A=WS(b,S);t.value=zs(t.value,A)}}var KR=new gn;KR.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(vc,"]+|[^\\S\\n\\r]+|[^").concat(vc,"]"),"ug");return e.match(t)||[]};var xc=new gn;xc.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var a=r[i];i%2&&!t.newlineIsToken?n[n.length-1]+=a:n.push(a)}return n};xc.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),gn.prototype.equals.call(this,e,t,n)};function XS(e,t,n){return xc.diff(e,t,n)}var JR=new gn;JR.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var QR=new gn;QR.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(n),!0).forEach(function(r){nL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tL(e){var t=eL(e,"string");return typeof t=="symbol"?t:t+""}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function nL(e,t,n){return t=tL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mp(e){return rL(e)||iL(e)||aL(e)||sL()}function rL(e){if(Array.isArray(e))return wp(e)}function iL(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aL(e,t){if(e){if(typeof e=="string")return wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wp(e,t)}}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vs=new gn;Vs.useLongestToken=!0;Vs.tokenize=xc.tokenize;Vs.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(a,s){return typeof s=="undefined"?n:s}:r;return typeof e=="string"?e:JSON.stringify(bp(e,null,null,i),i,"  ")};Vs.equals=function(e,t,n){return gn.prototype.equals.call(Vs,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function bp(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=bp(e[a],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),vp(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var o=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&o.push(l);for(o.sort(),a=0;a<o.length;a+=1)l=o[a],s[l]=bp(e[l],t,n,r,l);t.pop(),n.pop()}else s=e;return s}var xp=new gn;xp.tokenize=function(e){return e.slice()};xp.join=xp.removeEmpty=function(e){return e};function ZS(e,t,n,r,i,a,s){if(s||(s={}),typeof s=="function"&&(s={callback:s}),typeof s.context=="undefined"&&(s.context=4),s.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(s.callback){var o=s,l=o.callback;XS(n,r,wc(wc({},s),{},{callback:function(f){var h=c(f);l(h)}}))}else return c(XS(n,r,s));function c(u){if(!u)return;u.push({value:"",lines:[]});function f(E){return E.map(function(_){return" "+_})}for(var h=[],d=0,p=0,g=[],m=1,w=1,b=function(){var _=u[S],C=_.lines||lL(_.value);if(_.lines=C,_.added||_.removed){var P;if(!d){var L=u[S-1];d=m,p=w,L&&(g=s.context>0?f(L.lines.slice(-s.context)):[],d-=g.length,p-=g.length)}(P=g).push.apply(P,mp(C.map(function(he){return(_.added?"+":"-")+he}))),_.added?w+=C.length:m+=C.length}else{if(d)if(C.length<=s.context*2&&S<u.length-2){var N;(N=g).push.apply(N,mp(f(C)))}else{var j,Y=Math.min(C.length,s.context);(j=g).push.apply(j,mp(f(C.slice(0,Y))));var le={oldStart:d,oldLines:m-d+Y,newStart:p,newLines:w-p+Y,lines:g};h.push(le),d=0,p=0,g=[]}m+=C.length,w+=C.length}},S=0;S<u.length;S++)b();for(var A=0,x=h;A<x.length;A++)for(var k=x[A],y=0;y<k.lines.length;y++)k.lines[y].endsWith(`
`)?k.lines[y]=k.lines[y].slice(0,-1):(k.lines.splice(y+1,0,"\\ No newline at end of file"),y++);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:a,hunks:h}}}function _p(e){if(Array.isArray(e))return e.map(_p).join(`
`);var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader=="undefined"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader=="undefined"?"":"	"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var r=e.hunks[n];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),t.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),t.push.apply(t,r.lines)}return t.join(`
`)+`
`}function oL(e,t,n,r,i,a,s){var o;if(typeof s=="function"&&(s={callback:s}),(o=s)!==null&&o!==void 0&&o.callback){var c=s,u=c.callback;ZS(e,t,n,r,i,a,wc(wc({},s),{},{callback:function(h){h?u(_p(h)):u()}}))}else{var l=ZS(e,t,n,r,i,a,s);return l?_p(l):void 0}}function _c(e,t,n,r,i,a){return oL(e,e,t,n,r,i,a)}function lL(e){var t=e.endsWith(`
`),n=e.split(`
`).map(function(r){return r+`
`});return t?n.pop():n.push(n.pop().slice(0,-1)),n}var ei=require("obsidian");v();var _r=require("obsidian"),Sc=class{constructor(t,n){this.plugin=n;this.promises={};this.adapter=t.adapter,this.vault=t,this.lastBasePath=this.plugin.settings.basePath,this.promises.readFile=this.readFile.bind(this),this.promises.writeFile=this.writeFile.bind(this),this.promises.readdir=this.readdir.bind(this),this.promises.mkdir=this.mkdir.bind(this),this.promises.rmdir=this.rmdir.bind(this),this.promises.stat=this.stat.bind(this),this.promises.unlink=this.unlink.bind(this),this.promises.lstat=this.lstat.bind(this),this.promises.readlink=this.readlink.bind(this),this.promises.symlink=this.symlink.bind(this)}async readFile(t,n){var r;if(this.maybeLog("Read: "+t+JSON.stringify(n)),n=="utf8"||n.encoding=="utf8"){let i=this.vault.getAbstractFileByPath(t);return i instanceof _r.TFile?(this.maybeLog("Reuse"),this.vault.read(i)):this.adapter.read(t)}else{if(t.endsWith(this.gitDir+"/index"))return this.plugin.settings.basePath!=this.lastBasePath?(this.clearIndex(),this.lastBasePath=this.plugin.settings.basePath,this.adapter.readBinary(t)):(r=this.index)!=null?r:this.adapter.readBinary(t);let i=this.vault.getAbstractFileByPath(t);return i instanceof _r.TFile?(this.maybeLog("Reuse"),this.vault.readBinary(i)):this.adapter.readBinary(t)}}async writeFile(t,n){if(this.maybeLog("Write: "+t),typeof n=="string"){let r=this.vault.getAbstractFileByPath(t);return r instanceof _r.TFile?this.vault.modify(r,n):this.adapter.write(t,n)}else if(t.endsWith(this.gitDir+"/index"))this.index=n,this.indexmtime=Date.now();else{let r=this.vault.getAbstractFileByPath(t);return r instanceof _r.TFile?this.vault.modifyBinary(r,n):this.adapter.writeBinary(t,n)}}async readdir(t){t==="."&&(t="/");let n=await this.adapter.list(t),r=[...n.files,...n.folders],i;return t!=="/"?i=r.map(a=>(0,_r.normalizePath)(a.substring(t.length))):i=r,i}async mkdir(t){return this.adapter.mkdir(t)}async rmdir(t,n){var r,i;return this.adapter.rmdir(t,(i=(r=n==null?void 0:n.options)==null?void 0:r.recursive)!=null?i:!1)}async stat(t){if(t.endsWith(this.gitDir+"/index")){if(this.index!==void 0&&this.indexctime!=null&&this.indexmtime!=null)return{isFile:()=>!0,isDirectory:()=>!1,isSymbolicLink:()=>!1,size:this.index.length,type:"file",ctimeMs:this.indexctime,mtimeMs:this.indexmtime};{let r=await this.adapter.stat(t);if(r==null)throw{code:"ENOENT"};return this.indexctime=r.ctime,this.indexmtime=r.mtime,{ctimeMs:r.ctime,mtimeMs:r.mtime,size:r.size,type:"file",isFile:()=>!0,isDirectory:()=>!1,isSymbolicLink:()=>!1}}}t==="."&&(t="/");let n=this.vault.getAbstractFileByPath(t);if(this.maybeLog("Stat: "+t),n instanceof _r.TFile)return this.maybeLog("Reuse stat"),{ctimeMs:n.stat.ctime,mtimeMs:n.stat.mtime,size:n.stat.size,type:"file",isFile:()=>!0,isDirectory:()=>!1,isSymbolicLink:()=>!1};{let r=await this.adapter.stat(t);if(r)return{ctimeMs:r.ctime,mtimeMs:r.mtime,size:r.size,type:r.type==="folder"?"directory":r.type,isFile:()=>r.type==="file",isDirectory:()=>r.type==="folder",isSymbolicLink:()=>!1};throw{code:"ENOENT"}}}async unlink(t){return this.adapter.remove(t)}async lstat(t){return this.stat(t)}async readlink(t){throw new Error(`readlink of (${t}) is not implemented.`)}async symlink(t){throw new Error(`symlink of (${t}) is not implemented.`)}async saveAndClear(){this.index!==void 0&&await this.adapter.writeBinary(this.plugin.gitManager.getRelativeVaultPath(this.gitDir+"/index"),this.index,{ctime:this.indexctime,mtime:this.indexmtime}),this.clearIndex()}clearIndex(){this.index=void 0,this.indexctime=void 0,this.indexmtime=void 0}get gitDir(){return this.plugin.settings.gitDir||".git"}maybeLog(t){}};var yn=class extends sa{constructor(n){super(n);this.FILE=0;this.HEAD=1;this.WORKDIR=2;this.STAGE=3;this.status_mapping={"000":"  ","003":"AD","020":"??","022":"A ","023":"AM",100:"D ",101:" D",103:"MD",110:"DA",111:"  ",113:"MM",120:"DA",121:" M",122:"M ",123:"MM"};this.noticeLength=999999;this.fs=new Sc(this.app.vault,this.plugin)}getRepo(){return{fs:this.fs,dir:this.plugin.settings.basePath,gitdir:this.plugin.settings.gitDir||void 0,onAuth:()=>{var n,r;return{username:(n=this.plugin.localStorage.getUsername())!=null?n:void 0,password:(r=this.plugin.localStorage.getPassword())!=null?r:void 0}},onAuthFailure:async()=>{new ei.Notice("Authentication failed. Please try with different credentials");let n=await new $e(this.plugin,{placeholder:"Specify your username"}).openAndGetResult();if(n){let r=await new $e(this.plugin,{placeholder:"Specify your password/personal access token"}).openAndGetResult();if(r)return this.plugin.localStorage.setUsername(n),this.plugin.localStorage.setPassword(r),{username:n,password:r}}return{cancel:!0}},http:{async request({url:n,method:r,headers:i,body:a}){let s;a&&(s=(await hL(a)).buffer);let o=await(0,ei.requestUrl)({url:n,method:r,headers:i,body:s,throw:!1});return{url:n,method:r,headers:o.headers,body:[new Uint8Array(o.arrayBuffer)],statusCode:o.status,statusMessage:o.status.toString()}}}}}async wrapFS(n){try{let r=await n;return await this.fs.saveAndClear(),r}catch(r){throw await this.fs.saveAndClear(),r}}async status(){let n,r=window.setTimeout(()=>{n=new ei.Notice("This takes longer: Getting status",this.noticeLength)},2e4);try{this.plugin.setPluginState({gitAction:1});let i=(await this.wrapFS(ie.statusMatrix({...this.getRepo()}))).map(l=>this.getFileStatusResult(l)),a=i.filter(l=>l.working_dir!==" "),s=i.filter(l=>l.index!==" "&&l.index!=="U"),o=[];return window.clearTimeout(r),n==null||n.hide(),{all:i,changed:a,staged:s,conflicted:o}}catch(i){throw window.clearTimeout(r),n==null||n.hide(),this.plugin.displayError(i),i}}async commitAll({message:n,status:r,unstagedFiles:i}){try{return await this.checkAuthorInfo(),await this.stageAll({status:r,unstagedFiles:i}),this.commit({message:n})}catch(a){throw this.plugin.displayError(a),a}}async commit({message:n}){try{await this.checkAuthorInfo(),this.plugin.setPluginState({gitAction:4});let r=await this.formatCommitMessage(n),i=this.plugin.localStorage.getConflict(),a;if(i){let s=await this.branchInfo();a=[s.current,s.tracking]}await this.wrapFS(ie.commit({...this.getRepo(),message:r,parent:a})),this.plugin.localStorage.setConflict(!1);return}catch(r){throw this.plugin.displayError(r),r}}async stage(n,r){let i=this.getRelativeRepoPath(n,r),a;r?a=n:a=this.getRelativeVaultPath(n);try{this.plugin.setPluginState({gitAction:3}),await this.app.vault.adapter.exists(a)?await this.wrapFS(ie.add({...this.getRepo(),filepath:i})):await this.wrapFS(ie.remove({...this.getRepo(),filepath:i}))}catch(s){throw this.plugin.displayError(s),s}}async stageAll({dir:n,status:r,unstagedFiles:i}){try{if(r)await Promise.all(r.changed.map(a=>a.working_dir!=="D"?this.wrapFS(ie.add({...this.getRepo(),filepath:a.path})):ie.remove({...this.getRepo(),filepath:a.path})));else{let a=i!=null?i:await this.getUnstagedFiles(n!=null?n:".");await Promise.all(a.map(({filepath:s,deleted:o})=>o?ie.remove({...this.getRepo(),filepath:s}):this.wrapFS(ie.add({...this.getRepo(),filepath:s}))))}}catch(a){throw this.plugin.displayError(a),a}}async unstage(n,r){try{this.plugin.setPluginState({gitAction:3}),n=this.getRelativeRepoPath(n,r),await this.wrapFS(ie.resetIndex({...this.getRepo(),filepath:n}))}catch(i){throw this.plugin.displayError(i),i}}async unstageAll({dir:n,status:r}){try{let i;r?i=r.staged.map(a=>a.path):i=(await this.getStagedFiles(n!=null?n:".")).map(({filepath:s})=>s),await this.wrapFS(Promise.all(i.map(a=>ie.resetIndex({...this.getRepo(),filepath:a}))))}catch(i){throw this.plugin.displayError(i),i}}async discard(n){try{this.plugin.setPluginState({gitAction:3}),await this.wrapFS(ie.checkout({...this.getRepo(),filepaths:[n],force:!0}))}catch(r){throw this.plugin.displayError(r),r}}async discardAll({dir:n,status:r}){let i=[];r?n!=null?i=r.changed.filter(a=>a.path.startsWith(n)).map(a=>a.path):i=r.changed.map(a=>a.path):i=(await this.getUnstagedFiles(n)).map(({filepath:a})=>a);try{await this.wrapFS(ie.checkout({...this.getRepo(),filepaths:i,force:!0}))}catch(a){throw this.plugin.displayError(a),a}}getProgressText(n,r){let i=`${n} progress:`;return r.phase&&(i=`${i} ${r.phase}:`),r.loaded&&(i=`${i} ${r.loaded}`,r.total&&(i=`${i} of ${r.total}`)),i}resolveRef(n){return this.wrapFS(ie.resolveRef({...this.getRepo(),ref:n}))}async pull(){let n=this.showNotice("Initializing pull");try{this.plugin.setPluginState({gitAction:2});let r=await this.resolveRef("HEAD");await this.fetch();let i=await this.branchInfo();await this.checkAuthorInfo(),(await this.wrapFS(ie.merge({...this.getRepo(),ours:i.current,theirs:i.tracking,abortOnConflict:!1}))).alreadyMerged||await this.wrapFS(ie.checkout({...this.getRepo(),ref:i.current,onProgress:l=>{n!==void 0&&(n.noticeEl.innerText=this.getProgressText("Checkout",l))},remote:i.remote})),n==null||n.hide();let s=await this.resolveRef("HEAD"),o=await this.getFileChangesCount(r,s);return this.showNotice("Finished pull",!1),o.map(l=>({path:l.path,working_dir:"P",index:"P",vault_path:this.getRelativeVaultPath(l.path)}))}catch(r){throw n==null||n.hide(),r instanceof ps.MergeConflictError&&await this.plugin.handleConflict(r.data.filepaths.map(i=>this.getRelativeVaultPath(i))),this.plugin.displayError(r),r}}async push(){if(!await this.canPush())return 0;let n=this.showNotice("Initializing push");try{this.plugin.setPluginState({gitAction:1});let r=await this.branchInfo(),i=r.tracking,a=r.current,s=(await this.getFileChangesCount(a,i)).length;return this.plugin.setPluginState({gitAction:5}),await this.wrapFS(ie.push({...this.getRepo(),onProgress:o=>{n!==void 0&&(n.noticeEl.innerText=this.getProgressText("Pushing",o))}})),n==null||n.hide(),s}catch(r){throw n==null||n.hide(),this.plugin.displayError(r),r}}async getUnpushedCommits(){let n=await this.branchInfo(),r=n.tracking,i=n.current;if(r==null||i==null)return 0;let a=await this.resolveRef(i),s=await this.resolveRef(r);return(await this.getFileChangesCount(a,s)).length}async canPush(){let n=await this.branchInfo(),r=n.tracking,i=n.current,a=await this.resolveRef(i),s=await this.resolveRef(r);return a!=s}async checkRequirements(){return await this.plugin.app.vault.adapter.exists(`${this.getRepo().dir}/.git/HEAD`)?"valid":"missing-repo"}async branchInfo(){var n,r;try{let i=await ie.currentBranch(this.getRepo())||"",a=await ie.listBranches(this.getRepo()),s=(n=await this.getConfig(`branch.${i}.remote`))!=null?n:"origin",o=(r=await this.getConfig(`branch.${i}.merge`))==null?void 0:r.split("refs/heads")[1],l=o?s+o:void 0;return{current:i,tracking:l,branches:a,remote:s}}catch(i){throw this.plugin.displayError(i),i}}async getCurrentRemote(){var i;let n=await ie.currentBranch(this.getRepo())||"";return(i=await this.getConfig(`branch.${n}.remote`))!=null?i:"origin"}async checkout(n,r){try{return this.wrapFS(ie.checkout({...this.getRepo(),ref:n,force:!!r,remote:r}))}catch(i){throw this.plugin.displayError(i),i}}async createBranch(n){try{await this.wrapFS(ie.branch({...this.getRepo(),ref:n,checkout:!0}))}catch(r){throw this.plugin.displayError(r),r}}async deleteBranch(n){try{await this.wrapFS(ie.deleteBranch({...this.getRepo(),ref:n}))}catch(r){throw this.plugin.displayError(r),r}}branchIsMerged(n){return Promise.resolve(!0)}async init(){try{await this.wrapFS(ie.init(this.getRepo()))}catch(n){throw this.plugin.displayError(n),n}}async clone(n,r,i){let a=this.showNotice("Initializing clone");try{await this.wrapFS(ie.clone({...this.getRepo(),dir:r,url:n,depth:i,onProgress:s=>{a!==void 0&&(a.noticeEl.innerText=this.getProgressText("Cloning",s))}})),a==null||a.hide()}catch(s){throw a==null||a.hide(),this.plugin.displayError(s),s}}async setConfig(n,r){try{return this.wrapFS(ie.setConfig({...this.getRepo(),path:n,value:r}))}catch(i){throw this.plugin.displayError(i),i}}async getConfig(n){try{return this.wrapFS(ie.getConfig({...this.getRepo(),path:n}))}catch(r){throw this.plugin.displayError(r),r}}async fetch(n){let r=this.showNotice("Initializing fetch");try{let i={...this.getRepo(),onProgress:a=>{r!==void 0&&(r.noticeEl.innerText=this.getProgressText("Fetching",a))},remote:n!=null?n:await this.getCurrentRemote()};await this.wrapFS(ie.fetch(i)),r==null||r.hide()}catch(i){throw this.plugin.displayError(i),r==null||r.hide(),i}}async setRemote(n,r){try{await this.wrapFS(ie.addRemote({...this.getRepo(),remote:n,url:r,force:!0}))}catch(i){throw this.plugin.displayError(i),i}}async getRemoteBranches(n){let r=[];return r.push(...await this.wrapFS(ie.listBranches({...this.getRepo(),remote:n}))),r.remove("HEAD"),r=r.map(i=>`${n}/${i}`),r}async getRemotes(){return(await this.wrapFS(ie.listRemotes({...this.getRepo()}))).map(n=>n.remote)}async removeRemote(n){await this.wrapFS(ie.deleteRemote({...this.getRepo(),remote:n}))}async getRemoteUrl(n){var r;return(r=(await this.wrapFS(ie.listRemotes({...this.getRepo()}))).filter(i=>i.remote==n)[0])==null?void 0:r.url}async log(n,r=!0,i){let a=await this.wrapFS(ie.log({...this.getRepo(),depth:i}));return Promise.all(a.map(async s=>{let o=s.commit.message.split(`

`);return{message:o[0],author:{name:s.commit.author.name,email:s.commit.author.email},body:o.slice(1).join(`

`),date:new Date(s.commit.committer.timestamp).toDateString(),diff:{changed:0,files:(await this.getFileChangesCount(s.commit.parent.first(),s.oid)).map(l=>({path:l.path,status:l.type,vault_path:this.getRelativeVaultPath(l.path),hash:s.oid,binary:void 0}))},hash:s.oid,refs:[]}}))}updateBasePath(n){return this.getRepo().dir=n,Promise.resolve()}async updateUpstreamBranch(n){let[r,i]=xr(n),a=await this.branchInfo();await this.wrapFS(ie.push({...this.getRepo(),remote:r,remoteRef:i})),await this.setConfig(`branch.${a.current}.merge`,`refs/heads/${i}`)}updateGitPath(n){return Promise.resolve()}async getFileChangesCount(n,r){return this.walkDifference({walkers:[ie.TREE({ref:n}),ie.TREE({ref:r})]})}async walkDifference({walkers:n,dir:r}){return await this.wrapFS(ie.walk({...this.getRepo(),trees:n,map:async function(a,[s,o]){if(!lp(a,r))return null;if(await(s==null?void 0:s.type())==="tree"||await(o==null?void 0:o.type())==="tree")return;let l=await(s==null?void 0:s.oid()),c=await(o==null?void 0:o.oid()),u="equal";if(l!==c&&(u="M"),l===void 0&&(u="A"),c===void 0&&(u="D"),l===void 0&&c===void 0&&(console.log("Something weird happened:"),console.log(s),console.log(o)),u!=="equal")return{path:a,type:u}}}))}async getStagedFiles(n="."){return(await this.walkDifference({walkers:[ie.TREE({ref:"HEAD"}),ie.STAGE()],dir:n})).map(i=>({vault_path:this.getRelativeVaultPath(i.path),filepath:i.path}))}async getUnstagedFiles(n="."){let r,i=window.setTimeout(()=>{r=new ei.Notice("This takes longer: Getting status",this.noticeLength)},2e4);try{let a=this.getRepo(),s=await this.wrapFS(ie.walk({...a,trees:[ie.WORKDIR(),ie.STAGE()],map:async function(o,[l,c]){if(!c&&l&&await ie.isIgnored({...a,filepath:o})||!lp(o,n))return null;let[u,f]=await Promise.all([l&&l.type(),c&&c.type()]),h=[u,f].includes("blob");if((u==="tree"||u==="special")&&!h)return;if(f==="commit")return null;if((f==="tree"||f==="special")&&!h)return;let d=f==="blob"?await c.oid():void 0,p;return u==="blob"&&f!=="blob"?p="42":u==="blob"&&(p=await l.oid()),p?p!==d?{filepath:o,deleted:!1}:null:{filepath:o,deleted:!0}}}));return window.clearTimeout(i),r==null||r.hide(),s}catch(a){throw window.clearTimeout(i),r==null||r.hide(),this.plugin.displayError(a),a}}async getDiffString(n,r=!1,i){let a=this.getRelativeVaultPath(n),s=async(c,[u])=>{if(n==c){let f=await u.oid();return(await ie.readBlob({...this.getRepo(),oid:f})).blob}};if(i){let c=await ys({...this.getRepo(),filepath:n,oid:i}).then(d=>new TextDecoder().decode(d.blob)).catch(d=>{if(!(d instanceof ie.Errors.NotFoundError))throw d}),u=await ie.readCommit({...this.getRepo(),oid:i}),f=await ys({...this.getRepo(),filepath:n,oid:u.commit.parent.first()}).then(d=>new TextDecoder().decode(d.blob)).catch(d=>{if(!(d instanceof ie.Errors.NotFoundError))throw d});return _c(a,f!=null?f:"",c!=null?c:"")}let o=(await ie.walk({...this.getRepo(),trees:[ie.STAGE()],map:s})).first(),l=new TextDecoder().decode(o);if(r){let c=await this.resolveRef("HEAD").then(f=>ys({...this.getRepo(),filepath:n,oid:f})).then(f=>new TextDecoder().decode(f.blob)).catch(f=>{if(!(f instanceof ie.Errors.NotFoundError))throw f});return _c(a,c!=null?c:"",l)}else{let c;return await this.app.vault.adapter.exists(a)?c=await this.app.vault.adapter.read(a):c="",_c(a,l,c)}}async getLastCommitTime(){let n=this.getRepo(),r=await this.resolveRef("HEAD"),a=(await ie.readCommit({...n,oid:r})).commit.committer.timestamp;return new Date(a*1e3)}getFileStatusResult(n){let r=this.status_mapping[`${n[this.HEAD]}${n[this.WORKDIR]}${n[this.STAGE]}`];return{index:r[0]=="?"?"U":r[0],working_dir:r[1]=="?"?"U":r[1],path:n[this.FILE],vault_path:this.getRelativeVaultPath(n[this.FILE])}}async checkAuthorInfo(){let n=await this.getConfig("user.name"),r=await this.getConfig("user.email");if(!n||!r)throw Error("Git author name and email are not set. Please set both fields in the settings.")}showNotice(n,r=!0){if(!this.plugin.settings.disablePopups)return new ei.Notice(n,r?this.noticeLength:void 0)}};function cL(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function uL(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:cL(e)}async function fL(e,t){let n=uL(e);for(;;){let{value:r,done:i}=await n.next();if(r&&await t(r),i)break}n.return&&n.return()}async function hL(e){let t=0,n=[];await fL(e,a=>{n.push(a),t+=a.byteLength});let r=new Uint8Array(t),i=0;for(let a of n)r.set(a,i),i+=a.byteLength;return r}var dL="https://momentjs.com/docs/#/parsing/string-format/",pL="https://publish.obsidian.md/git-doc/Line+Authoring",Ec=class extends V.PluginSettingTab{constructor(n,r){super(n,r);this.plugin=r;this.lineAuthorColorSettings=new Map}get settings(){return this.plugin.settings}display(){let{containerEl:n}=this,r=this.plugin,i;r.settings.differentIntervalCommitAndPush?i="commit":i="commit-and-sync";let a=r.gitReady;n.empty(),a||(n.createEl("p",{text:"Git is not ready. When all settings are correct you can configure commit-sync, etc."}),n.createEl("br"));let s;if(a){new V.Setting(n).setName("Automatic").setHeading(),new V.Setting(n).setName("Split timers for automatic commit and sync").setDesc("Enable to use one interval for commit and another for sync.").addToggle(u=>u.setValue(r.settings.differentIntervalCommitAndPush).onChange(async f=>{r.settings.differentIntervalCommitAndPush=f,await r.saveSettings(),r.automaticsManager.reload("commit","push"),this.display()})),new V.Setting(n).setName(`Auto ${i} interval (minutes)`).setDesc(`${r.settings.differentIntervalCommitAndPush?"Commit":"Commit and sync"} changes every X minutes. Set to 0 (default) to disable. (See below setting for further configuration!)`).addText(u=>u.setValue(String(r.settings.autoSaveInterval)).onChange(async f=>{isNaN(Number(f))?new V.Notice("Please specify a valid number."):(r.settings.autoSaveInterval=Number(f),await r.saveSettings(),r.automaticsManager.reload("commit"),r.settings.autoSaveInterval>0?new V.Notice(`Automatic ${i} enabled! Every ${Us(r.settings.autoSaveInterval)}.`):r.settings.autoSaveInterval<=0&&new V.Notice(`Automatic ${i} disabled!`))})),s=new V.Setting(n).setName(`Auto ${i} after stopping file edits`).setDesc(`Requires the ${i} interval not to be 0.
                        If turned on, do auto ${i} every ${Us(r.settings.autoSaveInterval)} after stopping file edits.
                        This also prevents auto ${i} while editing a file. If turned off, it's independent from the last file edit.`).addToggle(u=>u.setValue(r.settings.autoBackupAfterFileChange).onChange(async f=>{r.settings.autoBackupAfterFileChange=f,this.display(),await r.saveSettings(),r.automaticsManager.reload("commit")})),this.mayDisableSetting(s,r.settings.setLastSaveToLastCommit),s=new V.Setting(n).setName(`Auto ${i} after latest commit`).setDesc(`If turned on, sets last auto ${i} timestamp to the latest commit timestamp. This reduces the frequency of auto ${i} when doing manual commits.`).addToggle(u=>u.setValue(r.settings.setLastSaveToLastCommit).onChange(async f=>{r.settings.setLastSaveToLastCommit=f,await r.saveSettings(),r.automaticsManager.reload("commit"),this.display()})),this.mayDisableSetting(s,r.settings.autoBackupAfterFileChange),s=new V.Setting(n).setName("Auto push interval (minutes)").setDesc("Push commits every X minutes. Set to 0 (default) to disable.").addText(u=>u.setValue(String(r.settings.autoPushInterval)).onChange(async f=>{isNaN(Number(f))?new V.Notice("Please specify a valid number."):(r.settings.autoPushInterval=Number(f),await r.saveSettings(),r.automaticsManager.reload("push"),r.settings.autoPushInterval>0?new V.Notice(`Automatic push enabled! Every ${Us(r.settings.autoPushInterval)}.`):r.settings.autoPushInterval<=0&&new V.Notice("Automatic push disabled!"))})),this.mayDisableSetting(s,!r.settings.differentIntervalCommitAndPush),new V.Setting(n).setName("Auto pull interval (minutes)").setDesc("Pull changes every X minutes. Set to 0 (default) to disable.").addText(u=>u.setValue(String(r.settings.autoPullInterval)).onChange(async f=>{isNaN(Number(f))?new V.Notice("Please specify a valid number."):(r.settings.autoPullInterval=Number(f),await r.saveSettings(),r.automaticsManager.reload("pull"),r.settings.autoPullInterval>0?new V.Notice(`Automatic pull enabled! Every ${Us(r.settings.autoPullInterval)}.`):r.settings.autoPullInterval<=0&&new V.Notice("Automatic pull disabled!"))})),new V.Setting(n).setName(`Specify custom commit message on auto ${i}`).setDesc("You will get a pop up to specify your message.").addToggle(u=>u.setValue(r.settings.customMessageOnAutoBackup).onChange(async f=>{r.settings.customMessageOnAutoBackup=f,await r.saveSettings(),this.display()})),s=new V.Setting(n).setName(`Commit message on auto ${i}`).setDesc("Available placeholders: {{date}} (see below), {{hostname}} (see below), {{numFiles}} (number of changed files in the commit) and {{files}} (changed files in commit message).").addTextArea(u=>u.setPlaceholder("vault backup: {{date}}").setValue(r.settings.autoCommitMessage).onChange(async f=>{r.settings.autoCommitMessage=f,await r.saveSettings()})),this.mayDisableSetting(s,r.settings.customMessageOnAutoBackup),new V.Setting(n).setName("Commit message").setHeading(),new V.Setting(n).setName("Commit message on manual commit").setDesc("Available placeholders: {{date}} (see below), {{hostname}} (see below), {{numFiles}} (number of changed files in the commit) and {{files}} (changed files in commit message).").addTextArea(u=>u.setPlaceholder("vault backup: {{date}}").setValue(r.settings.commitMessage?r.settings.commitMessage:"").onChange(async f=>{r.settings.commitMessage=f,await r.saveSettings()}));let c=new V.Setting(n).setName("{{date}} placeholder format").addMomentFormat(u=>u.setDefaultFormat(r.settings.commitDateFormat).setValue(r.settings.commitDateFormat).onChange(async f=>{r.settings.commitDateFormat=f,await r.saveSettings()}));c.descEl.innerHTML=`
            Specify custom date format. E.g. "${Hh}. See <a href="https://momentjs.com">Moment.js</a> for more formats.`,new V.Setting(n).setName("{{hostname}} placeholder replacement").setDesc("Specify custom hostname for every device.").addText(u=>{var f;return u.setValue((f=r.localStorage.getHostname())!=null?f:"").onChange(h=>{r.localStorage.setHostname(h)})}),new V.Setting(n).setName("Preview commit message").addButton(u=>u.setButtonText("Preview").onClick(async()=>{let f=await r.gitManager.formatCommitMessage(r.settings.commitMessage);new V.Notice(`${f}`)})),new V.Setting(n).setName("List filenames affected by commit in the commit body").addToggle(u=>u.setValue(r.settings.listChangedFilesInMessageBody).onChange(async f=>{r.settings.listChangedFilesInMessageBody=f,await r.saveSettings()})),new V.Setting(n).setName("Pull").setHeading(),r.gitManager instanceof Le&&new V.Setting(n).setName("Merge strategy").setDesc("Decide how to integrate commits from your remote branch into your local branch.").addDropdown(u=>{let f={merge:"Merge",rebase:"Rebase",reset:"Other sync service (Only updates the HEAD without touching the working directory)"};u.addOptions(f),u.setValue(r.settings.syncMethod),u.onChange(async h=>{r.settings.syncMethod=h,await r.saveSettings()})}),new V.Setting(n).setName("Pull on startup").setDesc("Automatically pull commits when Obsidian starts.").addToggle(u=>u.setValue(r.settings.autoPullOnBoot).onChange(async f=>{r.settings.autoPullOnBoot=f,await r.saveSettings()})),new V.Setting(n).setName("Commit-and-sync").setDesc("Commit-and-sync with default settings means staging everything -> committing -> pulling -> pushing. Ideally this is a single action that you do regularly to keep your local and remote repository in sync.").setHeading(),s=new V.Setting(n).setName("Push on commit-and-sync").setDesc(`Most of the time you want to push after committing. Turning this off turns a commit-and-sync action into commit ${r.settings.pullBeforePush?"and pull ":""}only. It will still be called commit-and-sync.`).addToggle(u=>u.setValue(!r.settings.disablePush).onChange(async f=>{r.settings.disablePush=!f,this.display(),await r.saveSettings()})),new V.Setting(n).setName("Pull on commit-and-sync").setDesc(`On commit-and-sync, pull commits as well. Turning this off turns a commit-and-sync action into commit ${r.settings.disablePush?"":"and push "}only.`).addToggle(u=>u.setValue(r.settings.pullBeforePush).onChange(async f=>{r.settings.pullBeforePush=f,this.display(),await r.saveSettings()})),r.gitManager instanceof Le&&(new V.Setting(n).setName("Line author information").setHeading(),this.addLineAuthorInfoSettings())}new V.Setting(n).setName("History view").setHeading(),new V.Setting(n).setName("Show Author").setDesc("Show the author of the commit in the history view.").addDropdown(c=>{let u={hide:"Hide",full:"Full",initials:"Initials"};c.addOptions(u),c.setValue(r.settings.authorInHistoryView),c.onChange(async f=>{r.settings.authorInHistoryView=f,await r.saveSettings(),await r.refresh()})}),new V.Setting(n).setName("Show Date").setDesc("Show the date of the commit in the history view. The {{date}} placeholder format is used to display the date.").addToggle(c=>c.setValue(r.settings.dateInHistoryView).onChange(async u=>{r.settings.dateInHistoryView=u,await r.saveSettings(),await r.refresh()})),new V.Setting(n).setName("Source control view").setHeading(),new V.Setting(n).setName("Automatically refresh source control view on file changes").setDesc("On slower machines this may cause lags. If so, just disable this option.").addToggle(c=>c.setValue(r.settings.refreshSourceControl).onChange(async u=>{r.settings.refreshSourceControl=u,await r.saveSettings()})),new V.Setting(n).setName("Source control view refresh interval").setDesc("Milliseconds to wait after file change before refreshing the Source Control View.").addText(c=>c.setValue(r.settings.refreshSourceControlTimer.toString()).setPlaceholder("7000").onChange(async u=>{r.settings.refreshSourceControlTimer=Math.max(parseInt(u),500),await r.saveSettings(),r.setRefreshDebouncer()})),new V.Setting(n).setName("Miscellaneous").setHeading(),new V.Setting(n).setName("Disable notifications").setDesc("Disable notifications for git operations to minimize distraction (refer to status bar for updates). Errors are still shown as notifications even if you enable this setting.").addToggle(c=>c.setValue(r.settings.disablePopups).onChange(async u=>{r.settings.disablePopups=u,this.display(),await r.saveSettings()})),r.settings.disablePopups||new V.Setting(n).setName("Hide notifications for no changes").setDesc("Don't show notifications when there are no changes to commit or push.").addToggle(c=>c.setValue(r.settings.disablePopupsForNoChanges).onChange(async u=>{r.settings.disablePopupsForNoChanges=u,await r.saveSettings()})),new V.Setting(n).setName("Show status bar").setDesc("Obsidian must be restarted for the changes to take affect.").addToggle(c=>c.setValue(r.settings.showStatusBar).onChange(async u=>{r.settings.showStatusBar=u,await r.saveSettings()})),new V.Setting(n).setName("Show stage/unstage button in file menu").addToggle(c=>c.setValue(r.settings.showFileMenu).onChange(async u=>{r.settings.showFileMenu=u,await r.saveSettings()})),new V.Setting(n).setName("Show branch status bar").setDesc("Obsidian must be restarted for the changes to take affect.").addToggle(c=>c.setValue(r.settings.showBranchStatusBar).onChange(async u=>{r.settings.showBranchStatusBar=u,await r.saveSettings()})),new V.Setting(n).setName("Show the count of modified files in the status bar").addToggle(c=>c.setValue(r.settings.changedFilesInStatusBar).onChange(async u=>{r.settings.changedFilesInStatusBar=u,await r.saveSettings()})),r.gitManager instanceof yn?new V.Setting(n).setName("Authentication/commit author").setHeading():new V.Setting(n).setName("Commit author").setHeading(),r.gitManager instanceof yn&&new V.Setting(n).setName("Username on your git server. E.g. your username on GitHub").addText(c=>{var u;c.setValue((u=r.localStorage.getUsername())!=null?u:""),c.onChange(f=>{r.localStorage.setUsername(f)})}),r.gitManager instanceof yn&&new V.Setting(n).setName("Password/Personal access token").setDesc("Type in your password. You won't be able to see it again.").addText(c=>{c.inputEl.autocapitalize="off",c.inputEl.autocomplete="off",c.inputEl.spellcheck=!1,c.onChange(u=>{r.localStorage.setPassword(u)})}),r.gitReady&&new V.Setting(n).setName("Author name for commit").addText(async c=>{var u;c.setValue((u=await r.gitManager.getConfig("user.name"))!=null?u:""),c.onChange(async f=>{await r.gitManager.setConfig("user.name",f==""?void 0:f)})}),r.gitReady&&new V.Setting(n).setName("Author email for commit").addText(async c=>{var u;c.setValue((u=await r.gitManager.getConfig("user.email"))!=null?u:""),c.onChange(async f=>{await r.gitManager.setConfig("user.email",f==""?void 0:f)})}),new V.Setting(n).setName("Advanced").setDesc("These settings usually don't need to be changed, but may be requried for special setups.").setHeading(),r.gitManager instanceof Le&&(new V.Setting(n).setName("Update submodules").setDesc('"Commit-and-sync" and "pull" takes care of submodules. Missing features: Conflicted files, count of pulled/pushed/committed files. Tracking branch needs to be set for each submodule.').addToggle(c=>c.setValue(r.settings.updateSubmodules).onChange(async u=>{r.settings.updateSubmodules=u,await r.saveSettings()})),r.settings.updateSubmodules&&new V.Setting(n).setName("Submodule recurse checkout/switch").setDesc("Whenever a checkout happens on the root repository, recurse the checkout on the submodules (if the branches exist).").addToggle(c=>c.setValue(r.settings.submoduleRecurseCheckout).onChange(async u=>{r.settings.submoduleRecurseCheckout=u,await r.saveSettings()}))),r.gitManager instanceof Le&&new V.Setting(n).setName("Custom Git binary path").addText(c=>{var u;c.setValue((u=r.localStorage.getGitPath())!=null?u:""),c.setPlaceholder("git"),c.onChange(f=>{r.localStorage.setGitPath(f),r.gitManager.updateGitPath(f||"git").catch(h=>r.displayError(h))})}),r.gitManager instanceof Le&&new V.Setting(n).setName("Additional environment variables").setDesc("Use each line for a new environment variable in the format KEY=VALUE .").addTextArea(c=>{c.setPlaceholder("GIT_DIR=/path/to/git/dir"),c.setValue(r.localStorage.getEnvVars().join(`
`)),c.onChange(u=>{r.localStorage.setEnvVars(u.split(`
`))})}),r.gitManager instanceof Le&&new V.Setting(n).setName("Additional PATH environment variable paths").setDesc("Use each line for one path").addTextArea(c=>{c.setValue(r.localStorage.getPATHPaths().join(`
`)),c.onChange(u=>{r.localStorage.setPATHPaths(u.split(`
`))})}),r.gitManager instanceof Le&&new V.Setting(n).setName("Reload with new environment variables").setDesc("Removing previously added environment variables will not take effect until Obsidian is restarted.").addButton(c=>{c.setButtonText("Reload"),c.setCta(),c.onClick(async()=>{await r.gitManager.setGitInstance()})}),new V.Setting(n).setName("Custom base path (Git repository path)").setDesc(`
            Sets the relative path to the vault from which the Git binary should be executed.
             Mostly used to set the path to the Git repository, which is only required if the Git repository is below the vault root directory. Use "\\" instead of "/" on Windows.
            `).addText(c=>{c.setValue(r.settings.basePath),c.setPlaceholder("directory/directory-with-git-repo"),c.onChange(async u=>{r.settings.basePath=u,await r.saveSettings(),r.gitManager.updateBasePath(u||"").catch(f=>r.displayError(f))})}),new V.Setting(n).setName("Custom Git directory path (Instead of '.git')").setDesc('Requires restart of Obsidian to take effect. Use "\\" instead of "/" on Windows.').addText(c=>{c.setValue(r.settings.gitDir),c.setPlaceholder(".git"),c.onChange(async u=>{r.settings.gitDir=u,await r.saveSettings()})}),new V.Setting(n).setName("Disable on this device").setDesc("Disables the plugin on this device. This setting is not synced.").addToggle(c=>c.setValue(r.localStorage.getPluginDisabled()).onChange(u=>{r.localStorage.setPluginDisabled(u),u?r.unloadPlugin():r.init({fromReload:!0}).catch(f=>r.displayError(f)),new V.Notice("Obsidian must be restarted for the changes to take affect.")})),new V.Setting(n).setName("Support").setHeading(),new V.Setting(n).setName("Donate").setDesc("If you like this Plugin, consider donating to support continued development.").addButton(c=>{c.buttonEl.outerHTML="<a href='https://ko-fi.com/F1F195IQ5' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://cdn.ko-fi.com/cdn/kofi3.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>"});let o=n.createDiv();o.setAttr("align","center"),o.setAttr("style","margin: var(--size-4-2)");let l=o.createEl("button");if(l.setText("Copy Debug Information"),l.onclick=async()=>{await window.navigator.clipboard.writeText(JSON.stringify({settings:this.plugin.settings,pluginVersion:this.plugin.manifest.version},null,4)),new V.Notice("Debug information copied to clipboard. May contain sensitive information!")},V.Platform.isDesktopApp){let c=n.createDiv();c.setAttr("align","center"),c.setText(`Debugging and logging:
You can always see the logs of this and every other plugin by opening the console with`);let u=n.createDiv();u.setAttr("align","center"),u.addClass("obsidian-git-shortcuts"),V.Platform.isMacOS===!0?u.createEl("kbd",{text:"CMD (\u2318) + OPTION (\u2325) + I"}):u.createEl("kbd",{text:"CTRL + SHIFT + I"})}}mayDisableSetting(n,r){r&&(n.setDisabled(r),n.setClass("obsidian-git-disabled"))}configureLineAuthorShowStatus(n){this.settings.lineAuthor.show=n,this.plugin.saveSettings(),n?this.plugin.lineAuthoringFeature.activateFeature():this.plugin.lineAuthoringFeature.deactivateFeature()}async lineAuthorSettingHandler(n,r){this.settings.lineAuthor[n]=r,await this.plugin.saveSettings(),this.plugin.lineAuthoringFeature.refreshLineAuthorViews()}beforeSaveSettings(){let n=this.settings.lineAuthor;n.authorDisplay!=="hide"&&(n.lastShownAuthorDisplay=n.authorDisplay),n.dateTimeFormatOptions!=="hide"&&(n.lastShownDateTimeFormatOptions=n.dateTimeFormatOptions)}addLineAuthorInfoSettings(){let n=new V.Setting(this.containerEl).setName("Show commit authoring information next to each line");if(this.plugin.lineAuthoringFeature.isAvailableOnCurrentPlatform()||n.setDesc("Only available on desktop currently.").setDisabled(!0),n.descEl.innerHTML=`
            <a href="${pL}">Feature guide and quick examples</a></br>
            The commit hash, author name and authoring date can all be individually toggled.</br>Hide everything, to only show the age-colored sidebar.`,n.addToggle(r=>r.setValue(this.settings.lineAuthor.show).onChange(i=>{this.configureLineAuthorShowStatus(i),this.display()})),this.settings.lineAuthor.show){let r=new V.Setting(this.containerEl).setName("Follow movement and copies across files and commits").setDesc("").addDropdown(a=>{a.addOptions({inactive:"Do not follow (default)","same-commit":"Follow within same commit","all-commits":"Follow within all commits (maybe slow)"}),a.setValue(this.settings.lineAuthor.followMovement),a.onChange(s=>this.lineAuthorSettingHandler("followMovement",s))});if(r.descEl.innerHTML=`
                By default (deactivated), each line only shows the newest commit where it was changed.
                <br/>
                With <i>same commit</i>, cut-copy-paste-ing of text is followed within the same commit and the original commit of authoring will be shown.
                <br/>
                With <i>all commits</i>, cut-copy-paste-ing text inbetween multiple commits will be detected.
                <br/>
                It uses <a href="https://git-scm.com/docs/git-blame">git-blame</a> and
                for matches (at least ${Al} characters) within the same (or all) commit(s), <em>the originating</em> commit's information is shown.`,new V.Setting(this.containerEl).setName("Show commit hash").addToggle(a=>{a.setValue(this.settings.lineAuthor.showCommitHash),a.onChange(s=>this.lineAuthorSettingHandler("showCommitHash",s))}),new V.Setting(this.containerEl).setName("Author name display").setDesc("If and how the author is displayed").addDropdown(a=>{let s={hide:"Hide",initials:"Initials (default)","first name":"First name","last name":"Last name",full:"Full name"};a.addOptions(s),a.setValue(this.settings.lineAuthor.authorDisplay),a.onChange(async o=>this.lineAuthorSettingHandler("authorDisplay",o))}),new V.Setting(this.containerEl).setName("Authoring date display").setDesc("If and how the date and time of authoring the line is displayed").addDropdown(a=>{let s={hide:"Hide",date:"Date (default)",datetime:"Date and time","natural language":"Natural language",custom:"Custom"};a.addOptions(s),a.setValue(this.settings.lineAuthor.dateTimeFormatOptions),a.onChange(async o=>{await this.lineAuthorSettingHandler("dateTimeFormatOptions",o),this.display()})}),this.settings.lineAuthor.dateTimeFormatOptions==="custom"){let a=new V.Setting(this.containerEl);a.setName("Custom authoring date format").addText(s=>{s.setValue(this.settings.lineAuthor.dateTimeFormatCustomString),s.setPlaceholder("YYYY-MM-DD HH:mm"),s.onChange(async o=>{await this.lineAuthorSettingHandler("dateTimeFormatCustomString",o),a.descEl.innerHTML=this.previewCustomDateTimeDescriptionHtml(o)})}),a.descEl.innerHTML=this.previewCustomDateTimeDescriptionHtml(this.settings.lineAuthor.dateTimeFormatCustomString)}new V.Setting(this.containerEl).setName("Authoring date display timezone").addDropdown(a=>{let s={"viewer-local":"My local (default)","author-local":"Author's local",utc0000:"UTC+0000/Z"};a.addOptions(s),a.setValue(this.settings.lineAuthor.dateTimeTimezone),a.onChange(async o=>this.lineAuthorSettingHandler("dateTimeTimezone",o))}).descEl.innerHTML=`
                    The time-zone in which the authoring date should be shown.
                    Either your local time-zone (default),
                    the author's time-zone during commit creation or
                    <a href="https://en.wikipedia.org/wiki/UTC%C2%B100:00">UTC\xB100:00</a>.
            `;let i=new V.Setting(this.containerEl).setName("Oldest age in coloring");i.descEl.innerHTML=this.previewOldestAgeDescriptionHtml(this.settings.lineAuthor.coloringMaxAge)[0],i.addText(a=>{a.setPlaceholder("1y"),a.setValue(this.settings.lineAuthor.coloringMaxAge),a.onChange(async s=>{let[o,l]=this.previewOldestAgeDescriptionHtml(s);i.descEl.innerHTML=o,l&&(await this.lineAuthorSettingHandler("coloringMaxAge",s),this.refreshColorSettingsName("oldest"))})}),this.createColorSetting("newest"),this.createColorSetting("oldest"),new V.Setting(this.containerEl).setName("Text color").addText(a=>{a.setValue(this.settings.lineAuthor.textColorCss),a.onChange(async s=>{await this.lineAuthorSettingHandler("textColorCss",s)})}).descEl.innerHTML=`
                    The CSS color of the gutter text.<br/>
                    
                    It is higly recommended to use
                    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties">
                    CSS variables</a>
                    defined by themes
                    (e.g. <pre style="display:inline">var(--text-muted)</pre> or
                    <pre style="display:inline">var(--text-on-accent)</pre>,
                    because they automatically adapt to theme changes.<br/>

                    See: <a href="https://github.com/obsidian-community/obsidian-theme-template/blob/main/obsidian.css">
                    List of available CSS variables in Obsidian
                    <a/>
                `,new V.Setting(this.containerEl).setName("Ignore whitespace and newlines in changes").addToggle(a=>{a.setValue(this.settings.lineAuthor.ignoreWhitespace),a.onChange(s=>this.lineAuthorSettingHandler("ignoreWhitespace",s))}).descEl.innerHTML=`
                    Whitespace and newlines are interpreted as
                    part of the document and in changes
                    by default (hence not ignored).
                    This makes the last line being shown as 'changed'
                    when a new subsequent line is added,
                    even if the previously last line's text is the same.
                    <br>
                    If you don't care about purely-whitespace changes
                    (e.g. list nesting / quote indentation changes),
                    then activating this will provide more meaningful change detection.
                `}}createColorSetting(n){let r=new V.Setting(this.containerEl).setName("").addText(i=>{let a=Sp(n,this.settings.lineAuthor),s=Sp(n,Pn.lineAuthor);i.setPlaceholder(cp(s)),i.setValue(cp(a)),i.onChange(async o=>{let l=OS(o);if(l!==void 0){let c=n==="newest"?"colorNew":"colorOld";await this.lineAuthorSettingHandler(c,l)}this.refreshColorSettingsDesc(n,l)})});this.lineAuthorColorSettings.set(n,r),this.refreshColorSettingsName(n),this.refreshColorSettingsDesc(n,Sp(n,this.settings.lineAuthor))}refreshColorSettingsName(n){let r=this.lineAuthorColorSettings.get(n);if(r){let i=n==="oldest"?`oldest (${this.settings.lineAuthor.coloringMaxAge} or older)`:"newest";r.nameEl.innerText=`Color for ${i} commits`}}refreshColorSettingsDesc(n,r){let i=this.lineAuthorColorSettings.get(n);i&&(i.descEl.innerHTML=this.colorSettingPreviewDescHtml(n,this.settings.lineAuthor,r!==void 0))}colorSettingPreviewDescHtml(n,r,i){let a=i?Ep(n,r):"rgba(127,127,127,0.3)",s=V.moment.unix(V.moment.now()/1e3).format("YYYY-MM-DD"),o=i?`abcdef Author Name ${s}`:"invalid color";return`Supports 'rgb(r,g,b)', 'hsl(h,s,l)', hex (#) and
            named colors (e.g. 'black', 'purple'). Color preview: ${`<div
            class="line-author-settings-preview"
            style="background-color: ${a}; width: 30ch;"
            >${o}</div>`}`}previewCustomDateTimeDescriptionHtml(n){let r=(0,V.moment)().format(n);return`<a href="${dL}">Format string</a> to display the authoring date.</br>Currently: ${r}`}previewOldestAgeDescriptionHtml(n){let r=Ac(n);return[`The oldest age in the line author coloring. Everything older will have the same color.
            </br>Smallest valid age is "1d". Currently: ${r!==void 0?`${r.asDays()} days`:"invalid!"}`,r]}};function Sp(e,t){return e==="oldest"?t.colorOld:t.colorNew}function Ac(e){let t=V.moment.duration("P"+e.toUpperCase());return t.isValid()&&t.asDays()&&t.asDays()>=1?t:void 0}function JS(e,t,n){if(!(e===void 0||t===void 0||n===void 0))return`head${e}-obj${t}-path${n}`}var QS=kc.Annotation.define();function eE(e,t,n){return n.update({annotations:QS.of({key:e,la:t,lineOffsetsFromUnsavedChanges:new Map})})}function mL(e){return e.annotation(QS)}var la=kc.StateField.define({create:e=>{},update:(e,t)=>{var n;return(n=mL(t))!=null?n:gL(t,e)},compare:(e,t)=>(e==null?void 0:e.key)===(t==null?void 0:t.key)});function Tc(e){var a;let t=KS.sha256.create();if(!e)return t;let{la:n,key:r,lineOffsetsFromUnsavedChanges:i}=e;t.update(n==="untracked"?"t":"f"),t.update(r);for(let[s,o]of(a=i.entries())!=null?a:[])t.update([s,o]);return t}var an={get:void 0,save:void 0};function tE(e,t){an.get=e,an.save=t}function Cc(e){var t,n;return(n=(t=Ac(e.coloringMaxAge))==null?void 0:t.asDays())!=null?n:Ac(Pn.lineAuthor.coloringMaxAge).asDays()}function gL(e,t){if(t)return e.changes.empty||e.changes.iterChanges((n,r,i,a)=>{var p;let s=e.startState.doc,{newDoc:o}=e,l=s.lineAt(n).number,c=s.lineAt(r).number,u=o.lineAt(i).number,f=o.lineAt(a).number,h=c-l+1,d=f-u+1;for(let g=u;g<=f;g++){let m=(p=t.lineOffsetsFromUnsavedChanges.get(g))!=null?p:0,w=f===g,b=d-h;w&&(m+=b),t.lineOffsetsFromUnsavedChanges.set(g,m)}}),t}var Ap=class{constructor(t){this.state=t;this.subscribeMe()}notifyLineAuthoring(t,n){if(this.view===void 0){console.warn(`Git: View is not defined for editor cache key. Unforeseen situation. id: ${t}`);return}let r=this.view.state,i=eE(t,n,r);this.view.dispatch(i)}updateToNewState(t){let n=this.lastSeenPath&&this.filepath!=this.lastSeenPath;return this.state=t,n&&(this.unsubscribeMe(this.lastSeenPath),this.subscribeMe()),this}removeIfStale(){this.view.destroyed&&this.unsubscribeMe(this.lastSeenPath)}subscribeMe(){this.filepath!==void 0&&(oa.ifFilepathDefinedTransformSubscribers(this.filepath,t=>t.add(this)),this.lastSeenPath=this.filepath)}unsubscribeMe(t){oa.ifFilepathDefinedTransformSubscribers(t,n=>n.delete(this))}get filepath(){var t,n;return(n=(t=this.state.field(Fc.editorInfoField))==null?void 0:t.file)==null?void 0:n.path}get view(){return this.state.field(Fc.editorEditorField)}},rE=nE.StateField.define({create:e=>new Ap(e),update:(e,t)=>e.updateToNewState(t.state),compare:(e,t)=>e===t});v();function iE(){ca=void 0,kp=[],Pc=0,Oc.clear(),Ic.clear(),ua.clear()}var ca,Mc=()=>ca;function aE(e,t){var i;let n=t.length;if(n<((i=ca==null?void 0:ca.length)!=null?i:0))return;ca={gutter:e,length:n,text:t};let r=an.get();n!==r.gutterSpacingFallbackLength&&(r.gutterSpacingFallbackLength=n,an.save(r))}var kp=[],yL=15,Pc=0;function sE(e){kp[Pc]=e,Pc=(Pc+1)%yL}function oE(){return RS(kp)}var Oc=new Map,Ic=new Map,ua=new Set;v();var bE=require("@codemirror/state"),xE=require("@codemirror/view");v();var Pp=require("@codemirror/view"),gE=Xe(pp()),jc=require("obsidian");v();v();var Rc={x:-10,y:-10};function lE(){Rc.x===-10&&window.addEventListener("mousedown",e=>{Rc.x=e.clientX,Rc.y=e.clientY})}function cE(){for(let e of ua)if(vL(e,Rc))return e}function vL(e,t){let{x:n,y:r,width:i,height:a}=e.getBoundingClientRect();return n<=t.x&&t.x<=n+i&&r<=t.y&&t.y<=r+a}v();var Ws={};var uE="data-commit";function fE(e,t,n){if(t.hasFocus())return;let r=cE();if(!r)return;let i=bL(r);i&&(!i.isZeroCommit&&!i.isWaitingGutter&&wL(i,e),Tp("showCommitHash",e),Tp("authorDisplay",e),Tp("dateTimeFormatOptions",e))}function wL(e,t){t.addItem(n=>n.setTitle("Copy commit hash").setIcon("copy").setSection("obs-git-line-author-copy").onClick(r=>navigator.clipboard.writeText(e.hash)))}function Tp(e,t){var l,c;let n,r,i=Ws.plugin.settings.lineAuthor,a=i[e],s=typeof a=="boolean"?a:a!=="hide",o=Pn.lineAuthor[e];if(e==="showCommitHash")n="Show commit hash",r=a;else if(e==="authorDisplay"){let u=(l=i.lastShownAuthorDisplay)!=null?l:o;n="Show author "+(s?a:u),r=s?"hide":u}else if(e==="dateTimeFormatOptions"){let u=(c=i.lastShownDateTimeFormatOptions)!=null?c:o;n="Show "+(s?a:u),n+=n.contains("date")?"":" date",r=s?"hide":u}else wr(e);t.addItem(u=>u.setTitle(n).setSection("obs-git-line-author-configure").setChecked(s).onClick(f=>{var h,d;return(d=(h=Ws.plugin)==null?void 0:h.settingsTab)==null?void 0:d.lineAuthorSettingHandler(e,r)}))}function hE(e,t,n){n.setAttr(uE,JSON.stringify({hash:e.hash,isZeroCommit:e.isZeroCommit,isWaitingGutter:t}))}function bL(e){let t=e.getAttr(uE);return t?JSON.parse(t):void 0}v();function Ep(e,t){return e==="oldest"?Lc(0,!1,t).color:Lc(void 0,!0,t).color}function Lc(e,t,n){let r=Cc(n),i=Date.now()/1e3,a=e!=null?e:0,o=(t?0:i-a)/60/60/24,l=Math.pow(Math.clamp(o/r,0,1),1/2.3),c=xL(),u=n.colorNew,f=n.colorOld,h=c?.4:1,d=Cp(u.r,f.r,l)*h,p=Cp(u.g,f.g,l)*h,g=Cp(u.b,f.b,l)*h;return{color:`rgba(${d},${p},${g},${c?.75:.25})`,daysSinceCommit:o}}function Cp(e,t,n){return e+(t-e)*n}function xL(){var e;return((e=window.app)==null?void 0:e.getTheme())==="obsidian"}function dE(e){document.body.style.setProperty("--obs-git-gutter-text",e.textColorCss)}v();function pE(e,t,n){let r;for(let i=t;i<=n;i++){let a=e.hashPerLine[i],s=e.commits.get(a);(!r||s.isZeroCommit||_L(s,r))&&(r=s)}return r}function _L(e,t){var i,a,s,o;let n=(a=(i=e.author)==null?void 0:i.epochSeconds)!=null?a:0,r=(o=(s=t.author)==null?void 0:s.epochSeconds)!=null?o:0;return n>r}var mE="-",SL="+",EL=3,AL="*",kL=/\S/g,TL="%",fa=class e extends Pp.GutterMarker{constructor(n){super();this.text=n}eq(n){return n instanceof e&&this.text===n.text}toDOM(){return document.createTextNode(this.text)}destroy(n){document.body.contains(n)||n.remove()}},Fp=class extends Pp.GutterMarker{constructor(n,r,i,a,s,o){super();this.lineAuthoring=n;this.startLine=r;this.endLine=i;this.key=a;this.settings=s;this.options=o;this.point=!1;this.elementClass="obs-git-blame-gutter"}eq(n){return this.key===(n==null?void 0:n.key)&&this.startLine===(n==null?void 0:n.startLine)&&this.endLine===(n==null?void 0:n.endLine)&&(this==null?void 0:this.options)===(n==null?void 0:n.options)}toDOM(){var n;return this.precomputedDomProvider=(n=this.precomputedDomProvider)!=null?n:this.computeDom(),this.precomputedDomProvider()}destroy(n){document.body.contains(n)||(n.remove(),ua.delete(n))}computeDom(){let n=pE(this.lineAuthoring,this.startLine,this.endLine),r=n.isZeroCommit?"":this.renderNonZeroCommit(n);return!n.isZeroCommit&&this.options!=="waiting-for-result"?aE(this,r):r=this.adaptTextForFakeCommit(n,r,this.options),this.createHtmlNode(n,r,this.options==="waiting-for-result")}createHtmlNode(n,r,i){var c;let a=window.createDiv();a.innerText=r;let{color:s,daysSinceCommit:o}=Lc((c=n==null?void 0:n.author)==null?void 0:c.epochSeconds,n==null?void 0:n.isZeroCommit,this.settings);a.style.backgroundColor=s,hE(n,i,a);function l(){let u=a.cloneNode(!0);return ua.add(u),i||sE(o),u}return l}renderNonZeroCommit(n){let r=this.settings.showCommitHash?this.renderHash(n):"",i=this.settings.authorDisplay==="hide"?"":`${this.renderAuthorName(n,this.settings.authorDisplay)}`,a=this.settings.dateTimeFormatOptions==="hide"?"":`${this.renderAuthoringDate(n,this.settings.dateTimeFormatOptions,this.settings.dateTimeFormatCustomString,this.settings.dateTimeTimezone)}`;return[r,i,a].filter(o=>o.length>=1).join(" ")}renderHash(n){return n.hash.substring(0,6)}renderAuthorName(n,r){var o,l,c,u;let i=(l=(o=n==null?void 0:n.author)==null?void 0:o.name)!=null?l:"",a=i.split(" ").filter(f=>f.length>=1),s;switch(r){case"initials":s=a.map(f=>f[0].toUpperCase()).join("");break;case"first name":s=(c=a.first())!=null?c:mE;break;case"last name":s=(u=a.last())!=null?u:mE;break;case"full":s=i;break;default:return wr(r)}return LS(n==null?void 0:n.author,n==null?void 0:n.committer)||(s=s+AL),s}renderAuthoringDate(n,r,i,a){var c;let s="?";if(((c=n==null?void 0:n.author)==null?void 0:c.epochSeconds)===void 0)return s;let o;switch(r){case"date":o=El;break;case"datetime":o=$h;break;case"custom":o=i;break;case"natural language":o=u=>{let f=u.diff((0,jc.moment)());return jc.moment.duration(f).humanize(!0)};break;default:return wr(r)}let l=jc.moment.unix(n.author.epochSeconds);switch(a){case"viewer-local":break;case"author-local":l=l.utcOffset(n.author.tz),typeof o=="string"&&(o+=" Z");break;case"utc0000":l=l.utc(),typeof o=="string"&&(o+="[Z]");break;default:return wr(a)}return typeof o=="string"?l.format(o):o(l)}adaptTextForFakeCommit(n,r,i){var l,c,u,f;let a=(c=(l=Mc())==null?void 0:l.text)!=null?c:r,s=i!=="waiting-for-result"&&n.isZeroCommit?SL:TL;r=a.replace(kL,s);let o=(f=(u=an.get())==null?void 0:u.gutterSpacingFallbackLength)!=null?f:r.length;if(r=jS(r,o,s),i!=="waiting-for-result"&&n.isZeroCommit){let h=Math.min(o,EL);r=DS(r,o-h)}return r}};function ti(e,t,n,r,i,a){let s=gE.sha256.create();s.update(Object.values(i).join(",")),s.update(`s${t}-e${n}-k${r}-o${a}`);let o=s.hex(),l=Oc.get(o);if(l)return l;let c=new Fp(e,t,n,r,i,a);return Oc.set(o,c),c}v();var yE=require("obsidian");function Mp(){var t,n;let e=(n=(t=an.get())==null?void 0:t.gutterSpacingFallbackLength)!=null?n:Pn.lineAuthor.gutterSpacingFallbackLength;return new fa(Array(e).fill("-").join(""))}function Op(e){let{lineAuthoring:t,ageForInitialRender:n}=CL(e);return ti(t,1,1,"initialGutter"+n,e,"waiting-for-result")}function CL(e){var a;let t=(a=oE())!=null?a:Cc(e)*.25,n=(0,yE.moment)().add(-t,"days"),r={name:"",epochSeconds:IS(n),tz:"+0000"},i={hash:"waiting-for-result",author:r,committer:r,isZeroCommit:!1};return{lineAuthoring:{hashPerLine:[void 0,"waiting-for-result"],commits:new Map([["waiting-for-result",i]])},ageForInitialRender:t}}v();function vE(e,t){return ti({hashPerLine:[void 0,"000000"],commits:new Map([["000000",US]])},1,1,e,t)}var Ip=new fa(""),_E=(0,xE.gutter)({class:"line-author-gutter-container",markers(e){let t=e.state.field(la,!1);return FL(e,t)},lineMarkerChange(e){let t=Tc(e.state.field(la));return Tc(e.startState.field(la))!==t},renderEmptyElements:!0,initialSpacer:e=>(wE(e),Mp()),updateSpacer:(e,t)=>{var n,r;return wE(t.view),(r=(n=Mc())==null?void 0:n.gutter)!=null?r:Mp()}});function FL(e,t){let n=Tc(t),r=e.state.doc,i=new Map;for(let u=1;u<=r.lines;u++){let f=r.line(u).from,h=e.lineBlockAt(f).to;i.set(u,[f,h]),n.update([f,h,0])}let a=an.get();n.update("s"+Object.values(an).join(","));let s=n.hex(),o=Ic.get(s);if(o)return o;let{result:l,allowCache:c}=PL(r,i,a,t);return c&&Ic.set(s,l),l}function PL(e,t,n,r){let i=!0,a=e.lines,s=[];function o(f,h,d){return s.push(d.range(f,h))}let l=ML(a,r),c=e.length===0,u=e.iterLines(a,a+1).next().value==="";for(let f=1;f<=a;f++){let[h,d]=t.get(f),p=e.lineAt(d).number;if(c){o(h,d,Ip);continue}if(f===a&&u){o(h,d,Ip);continue}if(r===void 0){o(h,d,Op(n)),i=!1;continue}let{key:g,la:m}=r;if(m==="untracked"){o(h,d,vE(m,n));continue}let w=m.hashPerLine.length-1,b=l[f],S=l[p];if(S&&S>w&&o(h,d,Ip),b!==void 0&&up(1,b,w)&&S!==void 0&&up(1,S,w)){o(h,d,ti(m,b,S,g,n));continue}if(w<1){o(h,d,Op(n)),i=!1;continue}let A=Math.clamp(b!=null?b:f,1,w),x=Math.clamp(S!=null?S:p,1,w);o(h,d,ti(m,A,x,g+"computing",n,"waiting-for-result"))}return{result:bE.RangeSet.of(s,!0),allowCache:i}}function ML(e,t){if(!(t!=null&&t.lineOffsetsFromUnsavedChanges))return Array.from(new Array(e+1),i=>i);let n=[void 0],r=0;for(let i=1;i<=e;i++){let a=t.lineOffsetsFromUnsavedChanges.get(i);r+=a!=null?a:0,n[i]=a===void 0?i-r:void 0}return n}function wE(e){e.dom.querySelectorAll(".cm-gutters").forEach(n=>{n!=null&&n.style&&(n.style.marginLeft||(n.style.marginLeft="unset"))})}var Dc=class{constructor(t){this.plugin=t;this.lineAuthorings=new Map}async trackChanged(t){return this.trackChangedHelper(t).catch(n=>(console.warn("Git: Error in trackChanged."+n),Promise.reject(n)))}async trackChangedHelper(t){if(t){if(t.path===void 0){console.warn("Git: Attempted to track change of undefined filepath. Unforeseen situation.");return}return this.computeLineAuthorInfo(t.path)}}destroy(){this.lineAuthorings.clear(),oa.clear(),iE()}async computeLineAuthorInfo(t){let n=this.plugin.lineAuthoringFeature.isAvailableOnCurrentPlatform().gitManager,r=await n.submoduleAwareHeadRevisonInContainingDirectory(t),i=await n.hashObject(t),a=JS(r,i,t);if(a!==void 0){if(!this.lineAuthorings.has(a)){let s=await n.blame(t,this.plugin.settings.lineAuthor.followMovement,this.plugin.settings.lineAuthor.ignoreWhitespace);this.lineAuthorings.set(a,s)}this.notifyComputationResultToSubscribers(t,a)}}notifyComputationResultToSubscribers(t,n){oa.ifFilepathDefinedTransformSubscribers(t,r=>r.forEach(i=>i.notifyLineAuthoring(n,this.lineAuthorings.get(n))))}},EE=SE.Prec.high([rE,la,_E]);var Bc=class{constructor(t){this.plg=t;this.codeMirrorExtensions=[];this.handleWorkspaceLeaf=t=>{if(!this.lineAuthorInfoProvider){console.warn("Git: undefined lineAuthorInfoProvider. Unexpected situation.");return}let n=t==null?void 0:t.view;!(n instanceof ni.MarkdownView)||n.file==null||(n==null?void 0:n.allowNoFile)===!0||this.lineAuthorInfoProvider.trackChanged(n.file).catch(console.error)}}onLoadPlugin(){this.plg.registerEditorExtension(this.codeMirrorExtensions),tE(()=>this.plg.settings.lineAuthor,t=>{this.plg.settings.lineAuthor=t,this.plg.saveSettings()})}conditionallyActivateBySettings(){this.plg.settings.lineAuthor.show&&this.activateFeature()}activateFeature(){try{if(!this.isAvailableOnCurrentPlatform().available)return;dE(this.plg.settings.lineAuthor),this.lineAuthorInfoProvider=new Dc(this.plg),this.createEventHandlers(),this.activateCodeMirrorExtensions(),console.log(this.plg.manifest.name+": Enabled line authoring.")}catch(t){console.warn("Git: Error while loading line authoring feature.",t),this.deactivateFeature()}}deactivateFeature(){var t;this.destroyEventHandlers(),this.deactivateCodeMirrorExtensions(),(t=this.lineAuthorInfoProvider)==null||t.destroy(),this.lineAuthorInfoProvider=void 0,console.log(this.plg.manifest.name+": Disabled line authoring.")}isAvailableOnCurrentPlatform(){return{available:this.plg.useSimpleGit&&ni.Platform.isDesktopApp,gitManager:this.plg.gitManager instanceof Le?this.plg.gitManager:void 0}}refreshLineAuthorViews(){this.plg.settings.lineAuthor.show&&(this.deactivateFeature(),this.activateFeature())}activateCodeMirrorExtensions(){this.codeMirrorExtensions.push(EE),this.plg.app.workspace.updateOptions(),this.plg.app.workspace.iterateAllLeaves(this.handleWorkspaceLeaf)}deactivateCodeMirrorExtensions(){for(let t of this.codeMirrorExtensions)this.codeMirrorExtensions.remove(t);this.plg.app.workspace.updateOptions()}createEventHandlers(){this.gutterContextMenuEvent=this.createGutterContextMenuHandler(),this.fileOpenEvent=this.createFileOpenEvent(),this.workspaceLeafChangeEvent=this.createWorkspaceLeafChangeEvent(),this.fileModificationEvent=this.createVaultFileModificationHandler(),this.refreshOnCssChangeEvent=this.createCssRefreshHandler(),this.fileRenameEvent=this.createFileRenameEvent(),lE(),this.plg.registerEvent(this.gutterContextMenuEvent),this.plg.registerEvent(this.refreshOnCssChangeEvent),this.plg.registerEvent(this.fileOpenEvent),this.plg.registerEvent(this.workspaceLeafChangeEvent),this.plg.registerEvent(this.fileModificationEvent),this.plg.registerEvent(this.fileRenameEvent)}destroyEventHandlers(){this.plg.app.workspace.offref(this.refreshOnCssChangeEvent),this.plg.app.workspace.offref(this.fileOpenEvent),this.plg.app.workspace.offref(this.workspaceLeafChangeEvent),this.plg.app.workspace.offref(this.refreshOnCssChangeEvent),this.plg.app.vault.offref(this.fileRenameEvent),this.plg.app.workspace.offref(this.gutterContextMenuEvent)}createFileOpenEvent(){return this.plg.app.workspace.on("file-open",t=>{var n;return void((n=this.lineAuthorInfoProvider)==null?void 0:n.trackChanged(t).catch(console.error))})}createWorkspaceLeafChangeEvent(){return this.plg.app.workspace.on("active-leaf-change",this.handleWorkspaceLeaf)}createFileRenameEvent(){return this.plg.app.vault.on("rename",(t,n)=>{var r;return t instanceof ni.TFile&&((r=this.lineAuthorInfoProvider)==null?void 0:r.trackChanged(t))})}createVaultFileModificationHandler(){return this.plg.app.vault.on("modify",t=>{var n;return t instanceof ni.TFile&&((n=this.lineAuthorInfoProvider)==null?void 0:n.trackChanged(t))})}createCssRefreshHandler(){return this.plg.app.workspace.on("css-change",()=>this.refreshLineAuthorViews())}createGutterContextMenuHandler(){return this.plg.app.workspace.on("editor-menu",fE)}};v();var Nc=class{constructor(t){this.plugin=t;this.tasks=[]}addTask(t){this.tasks.push(t),this.tasks.length===1&&this.handleTask()}handleTask(){this.tasks.length>0&&this.tasks[0]().catch(t=>this.plugin.displayError(t)).finally(()=>{this.tasks.shift(),this.handleTask()})}clear(){this.tasks=[]}};v();var sn=require("obsidian");var $c=class{constructor(t,n){this.statusBarEl=t;this.plugin=n;this.messages=[];this.base="obsidian-git-statusbar-";this.statusBarEl.setAttribute("data-tooltip-position","top"),n.registerEvent(n.app.workspace.on("obsidian-git:refresh",()=>{this.refreshCommitTimestamp().catch(console.error)}))}displayMessage(t,n){this.messages.push({message:`Git: ${t.slice(0,100)}`,timeout:n}),this.display()}display(){this.messages.length>0&&!this.currentMessage?(this.currentMessage=this.messages.shift(),this.statusBarEl.addClass(this.base+"message"),this.statusBarEl.ariaLabel="",this.statusBarEl.setText(this.currentMessage.message),this.lastMessageTimestamp=Date.now()):this.currentMessage?Date.now()-this.lastMessageTimestamp>=this.currentMessage.timeout&&(this.currentMessage=null,this.lastMessageTimestamp=null):this.displayState()}displayState(){switch((this.statusBarEl.getText().length>3||!this.statusBarEl.hasChildNodes())&&(this.statusBarEl.empty(),this.conflictEl=this.statusBarEl.createDiv(),this.conflictEl.setAttribute("data-tooltip-position","top"),this.conflictEl.style.float="left",this.iconEl=this.statusBarEl.createDiv(),this.iconEl.style.float="left",this.textEl=this.statusBarEl.createDiv(),this.textEl.style.float="right",this.textEl.style.marginLeft="5px"),this.plugin.localStorage.getConflict()?((0,sn.setIcon)(this.conflictEl,"alert-circle"),this.conflictEl.ariaLabel="You have merge conflicts. Resolve them and commit afterwards.",this.conflictEl.style.marginRight="5px",this.conflictEl.addClass(this.base+"conflict")):(this.conflictEl.empty(),this.conflictEl.style.marginRight=""),this.plugin.state.gitAction){case 0:this.displayFromNow();break;case 1:this.statusBarEl.ariaLabel="Checking repository status...",(0,sn.setIcon)(this.iconEl,"refresh-cw"),this.statusBarEl.addClass(this.base+"status");break;case 3:this.statusBarEl.ariaLabel="Adding files...",(0,sn.setIcon)(this.iconEl,"archive"),this.statusBarEl.addClass(this.base+"add");break;case 4:this.statusBarEl.ariaLabel="Committing changes...",(0,sn.setIcon)(this.iconEl,"git-commit"),this.statusBarEl.addClass(this.base+"commit");break;case 5:this.statusBarEl.ariaLabel="Pushing changes...",(0,sn.setIcon)(this.iconEl,"upload"),this.statusBarEl.addClass(this.base+"push");break;case 2:this.statusBarEl.ariaLabel="Pulling changes...",(0,sn.setIcon)(this.iconEl,"download"),this.statusBarEl.addClass(this.base+"pull");break;default:this.statusBarEl.ariaLabel="Failed on initialization!",(0,sn.setIcon)(this.iconEl,"alert-triangle"),this.statusBarEl.addClass(this.base+"failed-init");break}}displayFromNow(){var r;let t=this.lastCommitTimestamp,n=this.plugin.state.offlineMode;if(t){let i=(0,sn.moment)(t).fromNow();this.statusBarEl.ariaLabel=`${n?"Offline: ":""}Last Commit: ${i}`,(r=this.unPushedCommits)!=null&&r&&(this.statusBarEl.ariaLabel+=`
(${this.unPushedCommits} unpushed commits)`)}else this.statusBarEl.ariaLabel=n?"Git is offline":"Git is ready";n?(0,sn.setIcon)(this.iconEl,"globe"):(0,sn.setIcon)(this.iconEl,"check"),this.plugin.settings.changedFilesInStatusBar&&this.plugin.cachedStatus&&this.textEl.setText(this.plugin.cachedStatus.changed.length.toString()),this.statusBarEl.addClass(this.base+"idle")}async refreshCommitTimestamp(){this.lastCommitTimestamp=await this.plugin.gitManager.getLastCommitTime(),this.unPushedCommits=await this.plugin.gitManager.getUnpushedCommits()}remove(){this.statusBarEl.remove()}};v();var Uc=require("obsidian"),Hc=class extends Uc.SuggestModal{constructor(n){super(n.app);this.plugin=n;this.resolve=null;this.setPlaceholder("Type your message and select optional the version with the added date.")}openAndGetResult(){return new Promise(n=>{this.resolve=n,this.open()})}onClose(){new Promise(n=>setTimeout(n,10)).then(()=>{this.resolve&&this.resolve(void 0)})}getSuggestions(n){let r=(0,Uc.moment)().format(this.plugin.settings.commitDateFormat);return n==""&&(n="..."),[n,`${r}: ${n}`,`${n}: ${r}`]}renderSuggestion(n,r){r.innerText=n}onChooseSuggestion(n,r){this.resolve&&this.resolve(n)}};v();var AE=require("obsidian"),qs=class{constructor(t){this.plugin=t}saveLastAuto(t,n){n==="backup"?this.plugin.localStorage.setLastAutoBackup(t.toString()):n==="pull"?this.plugin.localStorage.setLastAutoPull(t.toString()):n==="push"&&this.plugin.localStorage.setLastAutoPush(t.toString())}loadLastAuto(){var t,n,r;return{backup:new Date((t=this.plugin.localStorage.getLastAutoBackup())!=null?t:""),pull:new Date((n=this.plugin.localStorage.getLastAutoPull())!=null?n:""),push:new Date((r=this.plugin.localStorage.getLastAutoPush())!=null?r:"")}}async init(){await this.setUpAutoCommitAndSync();let t=this.loadLastAuto();if(this.plugin.settings.differentIntervalCommitAndPush&&this.plugin.settings.autoPushInterval>0){let n=new Date,r=this.plugin.settings.autoPushInterval-Math.round((n.getTime()-t.push.getTime())/1e3/60);this.startAutoPush(r<=0?0:r)}if(this.plugin.settings.autoPullInterval>0){let n=new Date,r=this.plugin.settings.autoPullInterval-Math.round((n.getTime()-t.pull.getTime())/1e3/60);this.startAutoPull(r<=0?0:r)}}unload(){this.clearAutoPull(),this.clearAutoPush(),this.clearAutoCommitAndSync()}reload(...t){t.contains("commit")&&(this.clearAutoCommitAndSync(),this.plugin.settings.autoSaveInterval>0&&this.startAutoCommitAndSync(this.plugin.settings.autoSaveInterval)),t.contains("push")&&(this.clearAutoPush(),this.plugin.settings.differentIntervalCommitAndPush&&this.plugin.settings.autoPushInterval>0&&this.startAutoPush(this.plugin.settings.autoPushInterval)),t.contains("pull")&&(this.clearAutoPull(),this.plugin.settings.autoPullInterval>0&&this.startAutoPull(this.plugin.settings.autoPullInterval))}async setUpAutoCommitAndSync(){if(this.plugin.settings.setLastSaveToLastCommit){this.clearAutoCommitAndSync();let t=await this.plugin.gitManager.getLastCommitTime();t&&this.plugin.localStorage.setLastAutoBackup(t.toString())}if(!this.timeoutIDCommitAndSync&&!this.plugin.autoCommitDebouncer){let t=this.loadLastAuto();if(this.plugin.settings.autoSaveInterval>0){let n=new Date,r=this.plugin.settings.autoSaveInterval-Math.round((n.getTime()-t.backup.getTime())/1e3/60);this.startAutoCommitAndSync(r<=0?0:r)}}}startAutoCommitAndSync(t){let n=(t!=null?t:this.plugin.settings.autoSaveInterval)*6e4;this.plugin.settings.autoBackupAfterFileChange?t===0?this.doAutoCommitAndSync():this.plugin.autoCommitDebouncer=(0,AE.debounce)(()=>this.doAutoCommitAndSync(),n,!0):(n>2147483647&&(n=2147483647),this.timeoutIDCommitAndSync=window.setTimeout(()=>this.doAutoCommitAndSync(),n))}doAutoCommitAndSync(){this.plugin.promiseQueue.addTask(()=>this.plugin.settings.differentIntervalCommitAndPush?this.plugin.commit({fromAuto:!0}):this.plugin.commitAndSync(!0)),this.saveLastAuto(new Date,"backup"),this.startAutoCommitAndSync()}startAutoPull(t){let n=(t!=null?t:this.plugin.settings.autoPullInterval)*6e4;n>2147483647&&(n=2147483647),this.timeoutIDPull=window.setTimeout(()=>{this.plugin.promiseQueue.addTask(()=>this.plugin.pullChangesFromRemote()),this.saveLastAuto(new Date,"pull"),this.startAutoPull()},n)}startAutoPush(t){let n=(t!=null?t:this.plugin.settings.autoPushInterval)*6e4;n>2147483647&&(n=2147483647),this.timeoutIDPush=window.setTimeout(()=>{this.plugin.promiseQueue.addTask(()=>this.plugin.push()),this.saveLastAuto(new Date,"push"),this.startAutoPush()},n)}clearAutoCommitAndSync(){var n;let t=!1;return this.timeoutIDCommitAndSync&&(window.clearTimeout(this.timeoutIDCommitAndSync),this.timeoutIDCommitAndSync=void 0,t=!0),this.plugin.autoCommitDebouncer&&((n=this.plugin.autoCommitDebouncer)==null||n.cancel(),this.plugin.autoCommitDebouncer=void 0,t=!0),t}clearAutoPull(){return this.timeoutIDPull?(window.clearTimeout(this.timeoutIDPull),this.timeoutIDPull=void 0,!0):!1}clearAutoPush(){return this.timeoutIDPush?(window.clearTimeout(this.timeoutIDPush),this.timeoutIDPush=void 0,!0):!1}};v();var Ys=require("obsidian");v();var Xs=require("obsidian");async function kE(e,t,n){let r=await CE(t,n);if(r.result==="failure"){new Xs.Notice(r.reason);return}let{isGitHub:i,branch:a,repo:s,user:o,filePath:l}=r;if(i){let c=e.getCursor("from").line+1,u=e.getCursor("to").line+1;c===u?window.open(`https://github.com/${o}/${s}/blob/${a}/${l}?plain=1#L${c}`):window.open(`https://github.com/${o}/${s}/blob/${a}/${l}?plain=1#L${c}-L${u}`)}else new Xs.Notice("It seems like you are not using GitHub")}async function TE(e,t){let n=await CE(e,t);if(n.result==="failure"){new Xs.Notice(n.reason);return}let{isGitHub:r,branch:i,repo:a,user:s,filePath:o}=n;r?window.open(`https://github.com/${s}/${a}/commits/${i}/${o}`):new Xs.Notice("It seems like you are not using GitHub")}async function CE(e,t){let n=await t.branchInfo(),r=n.tracking,i=n.current,a,s=t.getRelativeRepoPath(e.path);if(t instanceof Le){let l=await t.getSubmoduleOfFile(t.getRelativeRepoPath(e.path));if(l){s=l.relativeFilepath;let c=await t.git.cwd({path:l.submodule,root:!1}).status();if(r=c.tracking||void 0,i=c.current||void 0,r){let u=r.substring(0,r.indexOf("/")),f=await t.git.cwd({path:l.submodule,root:!1}).getConfig(`remote.${u}.url`,"local");if(f.value!=null)a=f.value;else return{result:"failure",reason:"Failed to get remote url of submodule"}}}}if(r==null)return{result:"failure",reason:"Remote branch is not configured"};if(i==null)return{result:"failure",reason:"Failed to get current branch name"};if(a==null){let l=r.substring(0,r.indexOf("/"));if(a=await t.getConfig(`remote.${l}.url`),a==null)return{result:"failure",reason:"Failed to get remote url"}}let o=a.match(/(?:^https:\/\/github\.com\/(.+)\/(.+?)(?:\.git)?$)|(?:^[a-zA-Z]+@github\.com:(.+)\/(.+?)(?:\.git)?$)/);if(o==null)return{result:"failure",reason:"Could not parse remote url"};{let[l,c,u,f,h]=o;return{result:"success",isGitHub:!!l,repo:u||h,user:c||f,branch:i,filePath:s}}}v();var FE=require("obsidian"),Gc=class extends FE.FuzzySuggestModal{constructor(t,n){super(t.app),this.plugin=t,this.changedFiles=n,this.setPlaceholder("Not supported files will be opened by default app!")}getItems(){return this.changedFiles}getItemText(t){if(t.index=="U"&&t.working_dir=="U")return`Untracked | ${t.vault_path}`;let n="",r="";return t.working_dir!=" "&&(n=`Working Dir: ${t.working_dir} `),t.index!=" "&&(r=`Index: ${t.index}`),`${n}${r} | ${t.vault_path}`}onChooseItem(t,n){this.plugin.app.metadataCache.getFirstLinkpathDest(t.vault_path,"")==null?this.app.openWithDefaultApp(t.vault_path):this.plugin.app.workspace.openLinkText(t.vault_path,"/")}};v();var PE=require("obsidian"),zc=class extends PE.Modal{constructor(n,r){super(n);this.content=r;this.resolve=null}openAndGetReslt(){return new Promise(n=>{this.resolve=n,this.open()})}onOpen(){let{contentEl:n,titleEl:r}=this;r.setText("Edit .gitignore");let i=n.createDiv(),a=i.createEl("textarea",{text:this.content,cls:["obsidian-git-textarea"],attr:{rows:10,cols:30,wrap:"off"}});i.createEl("button",{cls:["mod-cta","obsidian-git-center-button"],text:"Save"}).addEventListener("click",()=>{this.resolve(a.value),this.close()})}onClose(){let{contentEl:n}=this;n.empty(),this.resolve&&this.resolve(void 0)}};function ME(e){let t=e.app;e.addCommand({id:"edit-gitignore",name:"Edit .gitignore",callback:async()=>{let n=e.gitManager.getRelativeVaultPath(".gitignore");await t.vault.adapter.exists(n)||await t.vault.adapter.write(n,"");let r=await t.vault.adapter.read(n),a=await new zc(t,r).openAndGetReslt();a!==void 0&&(await t.vault.adapter.write(n,a),await e.refresh())}}),e.addCommand({id:"open-git-view",name:"Open source control view",callback:async()=>{var i;let n=t.workspace.getLeavesOfType(pt.type),r;n.length===0?(r=(i=t.workspace.getRightLeaf(!1))!=null?i:t.workspace.getLeaf(),await r.setViewState({type:pt.type})):r=n.first(),await t.workspace.revealLeaf(r),t.workspace.trigger("obsidian-git:refresh")}}),e.addCommand({id:"open-history-view",name:"Open history view",callback:async()=>{var i;let n=t.workspace.getLeavesOfType(nn.type),r;n.length===0?(r=(i=t.workspace.getRightLeaf(!1))!=null?i:t.workspace.getLeaf(),await r.setViewState({type:nn.type})):r=n.first(),await t.workspace.revealLeaf(r),t.workspace.trigger("obsidian-git:refresh")}}),e.addCommand({id:"open-diff-view",name:"Open diff view",checkCallback:n=>{var i;let r=t.workspace.getActiveFile();if(n)return r!==null;(i=Xt(t))==null||i.setViewState({type:Ct.type,active:!0,state:{staged:!1,file:e.gitManager.getRelativeRepoPath(r.path,!0)}})}}),e.addCommand({id:"view-file-on-github",name:"Open file on GitHub",editorCallback:(n,{file:r})=>{if(r)return kE(n,r,e.gitManager)}}),e.addCommand({id:"view-history-on-github",name:"Open file history on GitHub",editorCallback:(n,{file:r})=>{if(r)return TE(r,e.gitManager)}}),e.addCommand({id:"pull",name:"Pull",callback:()=>e.promiseQueue.addTask(()=>e.pullChangesFromRemote())}),e.addCommand({id:"fetch",name:"Fetch",callback:()=>e.promiseQueue.addTask(()=>e.fetch())}),e.addCommand({id:"switch-to-remote-branch",name:"Switch to remote branch",callback:()=>e.promiseQueue.addTask(()=>e.switchRemoteBranch())}),e.addCommand({id:"add-to-gitignore",name:"Add file to .gitignore",checkCallback:n=>{let r=t.workspace.getActiveFile();if(n)return r!==null;e.addFileToGitignore(r).catch(i=>e.displayError(i))}}),e.addCommand({id:"push",name:"Commit-and-sync",callback:()=>e.promiseQueue.addTask(()=>e.commitAndSync(!1))}),e.addCommand({id:"backup-and-close",name:"Commit-and-sync and then close Obsidian",callback:()=>e.promiseQueue.addTask(async()=>{await e.commitAndSync(!1),window.close()})}),e.addCommand({id:"commit-push-specified-message",name:"Commit-and-sync with specific message",callback:()=>e.promiseQueue.addTask(()=>e.commitAndSync(!1,!0))}),e.addCommand({id:"commit",name:"Commit all changes",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1}))}),e.addCommand({id:"commit-specified-message",name:"Commit all changes with specific message",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!0}))}),e.addCommand({id:"commit-staged",name:"Commit staged",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!1,onlyStaged:!0}))}),Ys.Platform.isDesktopApp&&e.addCommand({id:"commit-amend-staged-specified-message",name:"Amend staged",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!0,onlyStaged:!0,amend:!0}))}),e.addCommand({id:"commit-staged-specified-message",name:"Commit staged with specific message",callback:()=>e.promiseQueue.addTask(()=>e.commit({fromAuto:!1,requestCustomMessage:!0,onlyStaged:!0}))}),e.addCommand({id:"push2",name:"Push",callback:()=>e.promiseQueue.addTask(()=>e.push())}),e.addCommand({id:"stage-current-file",name:"Stage current file",checkCallback:n=>{let r=t.workspace.getActiveFile();if(n)return r!==null;e.promiseQueue.addTask(()=>e.stageFile(r))}}),e.addCommand({id:"unstage-current-file",name:"Unstage current file",checkCallback:n=>{let r=t.workspace.getActiveFile();if(n)return r!==null;e.promiseQueue.addTask(()=>e.unstageFile(r))}}),e.addCommand({id:"edit-remotes",name:"Edit remotes",callback:()=>e.editRemotes().catch(n=>e.displayError(n))}),e.addCommand({id:"remove-remote",name:"Remove remote",callback:()=>e.removeRemote().catch(n=>e.displayError(n))}),e.addCommand({id:"set-upstream-branch",name:"Set upstream branch",callback:()=>e.setUpstreamBranch().catch(n=>e.displayError(n))}),e.addCommand({id:"delete-repo",name:"CAUTION: Delete repository",callback:async()=>{await t.vault.adapter.exists(`${e.settings.basePath}/.git`)?await new $e(e,{options:["NO","YES"],placeholder:"Do you really want to delete the repository (.git directory)? plugin action cannot be undone.",onlySelection:!0}).openAndGetResult()==="YES"&&(await t.vault.adapter.rmdir(`${e.settings.basePath}/.git`,!0),new Ys.Notice("Successfully deleted repository. Reloading plugin..."),e.unloadPlugin(),await e.init({fromReload:!0})):new Ys.Notice("No repository found")}}),e.addCommand({id:"init-repo",name:"Initialize a new repo",callback:()=>e.createNewRepo().catch(n=>e.displayError(n))}),e.addCommand({id:"clone-repo",name:"Clone an existing remote repo",callback:()=>e.cloneNewRepo().catch(n=>e.displayError(n))}),e.addCommand({id:"list-changed-files",name:"List changed files",callback:async()=>{if(await e.isAllInitialized())try{let n=await e.updateCachedStatus();if(n.changed.length+n.staged.length>500){e.displayError("Too many changes to display");return}new Gc(e,n.all).open()}catch(n){e.displayError(n)}}}),e.addCommand({id:"switch-branch",name:"Switch branch",callback:()=>{e.switchBranch().catch(n=>e.displayError(n))}}),e.addCommand({id:"create-branch",name:"Create new branch",callback:()=>{e.createBranch().catch(n=>e.displayError(n))}}),e.addCommand({id:"delete-branch",name:"Delete branch",callback:()=>{e.deleteBranch().catch(n=>e.displayError(n))}}),e.addCommand({id:"discard-all",name:"CAUTION: Discard all changes",callback:async()=>{if(!await e.isAllInitialized())return!1;await new $e(e,{options:["NO","YES"],placeholder:"Do you want to discard all changes to tracked files? plugin action cannot be undone.",onlySelection:!0}).openAndGetResult()==="YES"&&e.promiseQueue.addTask(()=>e.discardAll())}}),e.addCommand({id:"toggle-line-author-info",name:"Toggle line author information",callback:()=>{var n;return(n=e.settingsTab)==null?void 0:n.configureLineAuthorShowStatus(!e.settings.lineAuthor.show)}})}v();var Vc=class{constructor(t){this.plugin=t;this.prefix=this.plugin.manifest.id+":",this.app=t.app}migrate(){let t=["password","hostname","conflict","lastAutoPull","lastAutoBackup","lastAutoPush","gitPath","pluginDisabled"];for(let n of t){let r=localStorage.getItem(this.prefix+n);this.app.loadLocalStorage(this.prefix+n)==null&&r!=null&&r!=null&&(this.app.saveLocalStorage(this.prefix+n,r),localStorage.removeItem(this.prefix+n))}}getPassword(){return this.app.loadLocalStorage(this.prefix+"password")}setPassword(t){return this.app.saveLocalStorage(this.prefix+"password",t)}getUsername(){return this.app.loadLocalStorage(this.prefix+"username")}setUsername(t){return this.app.saveLocalStorage(this.prefix+"username",t)}getHostname(){return this.app.loadLocalStorage(this.prefix+"hostname")}setHostname(t){return this.app.saveLocalStorage(this.prefix+"hostname",t)}getConflict(){return this.app.loadLocalStorage(this.prefix+"conflict")=="true"}setConflict(t){return this.app.saveLocalStorage(this.prefix+"conflict",`${t}`)}getLastAutoPull(){return this.app.loadLocalStorage(this.prefix+"lastAutoPull")}setLastAutoPull(t){return this.app.saveLocalStorage(this.prefix+"lastAutoPull",t)}getLastAutoBackup(){return this.app.loadLocalStorage(this.prefix+"lastAutoBackup")}setLastAutoBackup(t){return this.app.saveLocalStorage(this.prefix+"lastAutoBackup",t)}getLastAutoPush(){return this.app.loadLocalStorage(this.prefix+"lastAutoPush")}setLastAutoPush(t){return this.app.saveLocalStorage(this.prefix+"lastAutoPush",t)}getGitPath(){return this.app.loadLocalStorage(this.prefix+"gitPath")}setGitPath(t){return this.app.saveLocalStorage(this.prefix+"gitPath",t)}getPATHPaths(){var t,n;return(n=(t=this.app.loadLocalStorage(this.prefix+"PATHPaths"))==null?void 0:t.split(":"))!=null?n:[]}setPATHPaths(t){return this.app.saveLocalStorage(this.prefix+"PATHPaths",t.join(":"))}getEnvVars(){var t;return JSON.parse((t=this.app.loadLocalStorage(this.prefix+"envVars"))!=null?t:"[]")}setEnvVars(t){return this.app.saveLocalStorage(this.prefix+"envVars",JSON.stringify(t))}getPluginDisabled(){return this.app.loadLocalStorage(this.prefix+"pluginDisabled")=="true"}setPluginDisabled(t){return this.app.saveLocalStorage(this.prefix+"pluginDisabled",`${t}`)}};v();v();v();v();var Ue;(function(e){e.INSERT="insert",e.DELETE="delete",e.CONTEXT="context"})(Ue||(Ue={}));var OE={LINE_BY_LINE:"line-by-line",SIDE_BY_SIDE:"side-by-side"},IE={LINES:"lines",WORDS:"words",NONE:"none"},RE={WORD:"word",CHAR:"char"},ri;(function(e){e.AUTO="auto",e.DARK="dark",e.LIGHT="light"})(ri||(ri={}));v();var OL=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],IL=RegExp("["+OL.join("\\")+"]","g");function LE(e){return e.replace(IL,"\\$&")}function Rp(e){return e&&e.replace(/\\/g,"/")}function jE(e){let t,n,r,i=0;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i|=0;return i}function DE(e,t){let n=e.split(".");return n.length>1?n[n.length-1]:t}function BE(e,t){return t.reduce((n,r)=>n||e.startsWith(r),!1)}var NE=["a/","b/","i/","w/","c/","o/"];function Sr(e,t,n){let r=n!==void 0?[...NE,n]:NE,i=t?new RegExp(`^${LE(t)} "?(.+?)"?$`):new RegExp('^"?(.+?)"?$'),[,a=""]=i.exec(e)||[],s=r.find(l=>a.indexOf(l)===0);return(s?a.slice(s.length):a).replace(/\s+\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(?:\.\d+)? [+-]\d{4}.*$/,"")}function RL(e,t){return Sr(e,"---",t)}function LL(e,t){return Sr(e,"+++",t)}function $E(e,t={}){let n=[],r=null,i=null,a=null,s=null,o=null,l=null,c=null,u="--- ",f="+++ ",h="@@",d=/^old mode (\d{6})/,p=/^new mode (\d{6})/,g=/^deleted file mode (\d{6})/,m=/^new file mode (\d{6})/,w=/^copy from "?(.+)"?/,b=/^copy to "?(.+)"?/,S=/^rename from "?(.+)"?/,A=/^rename to "?(.+)"?/,x=/^similarity index (\d+)%/,k=/^dissimilarity index (\d+)%/,y=/^index ([\da-z]+)\.\.([\da-z]+)\s*(\d{6})?/,E=/^Binary files (.*) and (.*) differ/,_=/^GIT binary patch/,C=/^index ([\da-z]+),([\da-z]+)\.\.([\da-z]+)/,P=/^mode (\d{6}),(\d{6})\.\.(\d{6})/,L=/^new file mode (\d{6})/,N=/^deleted file mode (\d{6}),(\d{6})/,j=e.replace(/\\ No newline at end of file/g,"").replace(/\r\n?/g,`
`).split(`
`);function Y(){i!==null&&r!==null&&(r.blocks.push(i),i=null)}function le(){r!==null&&(!r.oldName&&l!==null&&(r.oldName=l),!r.newName&&c!==null&&(r.newName=c),r.newName&&(n.push(r),r=null)),l=null,c=null}function he(){Y(),le(),r={blocks:[],deletedLines:0,addedLines:0}}function ae($){Y();let z;r!==null&&((z=/^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@.*/.exec($))?(r.isCombined=!1,a=parseInt(z[1],10),o=parseInt(z[2],10)):(z=/^@@@ -(\d+)(?:,\d+)? -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@@.*/.exec($))?(r.isCombined=!0,a=parseInt(z[1],10),s=parseInt(z[2],10),o=parseInt(z[3],10)):($.startsWith(h)&&console.error("Failed to parse lines, starting in 0!"),a=0,o=0,r.isCombined=!1)),i={lines:[],oldStartLine:a,oldStartLine2:s,newStartLine:o,header:$}}function Pe($){if(r===null||i===null||a===null||o===null)return;let z={content:$},D=r.isCombined?["+ "," +","++"]:["+"],se=r.isCombined?["- "," -","--"]:["-"];BE($,D)?(r.addedLines++,z.type=Ue.INSERT,z.oldNumber=void 0,z.newNumber=o++):BE($,se)?(r.deletedLines++,z.type=Ue.DELETE,z.oldNumber=a++,z.newNumber=void 0):(z.type=Ue.CONTEXT,z.oldNumber=a++,z.newNumber=o++),i.lines.push(z)}function de($,z){let D=z;for(;D<j.length-3;){if($.startsWith("diff"))return!1;if(j[D].startsWith(u)&&j[D+1].startsWith(f)&&j[D+2].startsWith(h))return!0;D++}return!1}return j.forEach(($,z)=>{if(!$||$.startsWith("*"))return;let D,se=j[z-1],Se=j[z+1],gt=j[z+2];if($.startsWith("diff --git")||$.startsWith("diff --combined")){if(he(),(D=/^diff --git "?([a-ciow]\/.+)"? "?([a-ciow]\/.+)"?/.exec($))&&(l=Sr(D[1],void 0,t.dstPrefix),c=Sr(D[2],void 0,t.srcPrefix)),r===null)throw new Error("Where is my file !!!");r.isGitDiff=!0;return}if($.startsWith("Binary files")&&!(r!=null&&r.isGitDiff)){if(he(),(D=/^Binary files "?([a-ciow]\/.+)"? and "?([a-ciow]\/.+)"? differ/.exec($))&&(l=Sr(D[1],void 0,t.dstPrefix),c=Sr(D[2],void 0,t.srcPrefix)),r===null)throw new Error("Where is my file !!!");r.isBinary=!0;return}if((!r||!r.isGitDiff&&r&&$.startsWith(u)&&Se.startsWith(f)&&gt.startsWith(h))&&he(),r!=null&&r.isTooBig)return;if(r&&(typeof t.diffMaxChanges=="number"&&r.addedLines+r.deletedLines>t.diffMaxChanges||typeof t.diffMaxLineLength=="number"&&$.length>t.diffMaxLineLength)){r.isTooBig=!0,r.addedLines=0,r.deletedLines=0,r.blocks=[],i=null;let ot=typeof t.diffTooBigMessage=="function"?t.diffTooBigMessage(n.length):"Diff too big to be displayed";ae(ot);return}if($.startsWith(u)&&Se.startsWith(f)||$.startsWith(f)&&se.startsWith(u)){if(r&&!r.oldName&&$.startsWith("--- ")&&(D=RL($,t.srcPrefix))){r.oldName=D,r.language=DE(r.oldName,r.language);return}if(r&&!r.newName&&$.startsWith("+++ ")&&(D=LL($,t.dstPrefix))){r.newName=D,r.language=DE(r.newName,r.language);return}}if(r&&($.startsWith(h)||r.isGitDiff&&r.oldName&&r.newName&&!i)){ae($);return}if(i&&($.startsWith("+")||$.startsWith("-")||$.startsWith(" "))){Pe($);return}let be=!de($,z);if(r===null)throw new Error("Where is my file !!!");(D=d.exec($))?r.oldMode=D[1]:(D=p.exec($))?r.newMode=D[1]:(D=g.exec($))?(r.deletedFileMode=D[1],r.isDeleted=!0):(D=m.exec($))?(r.newFileMode=D[1],r.isNew=!0):(D=w.exec($))?(be&&(r.oldName=D[1]),r.isCopy=!0):(D=b.exec($))?(be&&(r.newName=D[1]),r.isCopy=!0):(D=S.exec($))?(be&&(r.oldName=D[1]),r.isRename=!0):(D=A.exec($))?(be&&(r.newName=D[1]),r.isRename=!0):(D=E.exec($))?(r.isBinary=!0,r.oldName=Sr(D[1],void 0,t.srcPrefix),r.newName=Sr(D[2],void 0,t.dstPrefix),ae("Binary file")):_.test($)?(r.isBinary=!0,ae($)):(D=x.exec($))?r.unchangedPercentage=parseInt(D[1],10):(D=k.exec($))?r.changedPercentage=parseInt(D[1],10):(D=y.exec($))?(r.checksumBefore=D[1],r.checksumAfter=D[2],D[3]&&(r.mode=D[3])):(D=C.exec($))?(r.checksumBefore=[D[2],D[3]],r.checksumAfter=D[1]):(D=P.exec($))?(r.oldMode=[D[2],D[3]],r.newMode=D[1]):(D=L.exec($))?(r.newFileMode=D[1],r.isNew=!0):(D=N.exec($))&&(r.deletedFileMode=D[1],r.isDeleted=!0)}),Y(),le(),n}v();v();v();function Zn(){}Zn.prototype={diff:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var a=this;function s(g){return i?(setTimeout(function(){i(void 0,g)},0),!0):g}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var o=n.length,l=t.length,c=1,u=o+l;r.maxEditLength&&(u=Math.min(u,r.maxEditLength));var f=[{newPos:-1,components:[]}],h=this.extractCommon(f[0],n,t,0);if(f[0].newPos+1>=o&&h+1>=l)return s([{value:this.join(n),count:n.length}]);function d(){for(var g=-1*c;g<=c;g+=2){var m=void 0,w=f[g-1],b=f[g+1],S=(b?b.newPos:0)-g;w&&(f[g-1]=void 0);var A=w&&w.newPos+1<o,x=b&&0<=S&&S<l;if(!A&&!x){f[g]=void 0;continue}if(!A||x&&w.newPos<b.newPos?(m=BL(b),a.pushComponent(m.components,void 0,!0)):(m=w,m.newPos++,a.pushComponent(m.components,!0,void 0)),S=a.extractCommon(m,n,t,g),m.newPos+1>=o&&S+1>=l)return s(DL(a,m.components,n,t,a.useLongestToken));f[g]=m}c++}if(i)(function g(){setTimeout(function(){if(c>u)return i();d()||g()},0)})();else for(;c<=u;){var p=d();if(p)return p}},pushComponent:function(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function(t,n,r,i){for(var a=n.length,s=r.length,o=t.newPos,l=o-i,c=0;o+1<a&&l+1<s&&this.equals(n[o+1],r[l+1]);)o++,l++,c++;return c&&t.components.push({count:c}),t.newPos=o,l},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function DL(e,t,n,r,i){for(var a=0,s=t.length,o=0,l=0;a<s;a++){var c=t[a];if(c.removed){if(c.value=e.join(r.slice(l,l+c.count)),l+=c.count,a&&t[a-1].added){var f=t[a-1];t[a-1]=t[a],t[a]=f}}else{if(!c.added&&i){var u=n.slice(o,o+c.count);u=u.map(function(d,p){var g=r[l+p];return g.length>d.length?g:d}),c.value=e.join(u)}else c.value=e.join(n.slice(o,o+c.count));o+=c.count,c.added||(l+=c.count)}}var h=t[s-1];return s>1&&typeof h.value=="string"&&(h.added||h.removed)&&e.equals("",h.value)&&(t[s-2].value+=h.value,t.pop()),t}function BL(e){return{newPos:e.newPos,components:e.components.slice(0)}}var NL=new Zn;function GE(e,t,n){return NL.diff(e,t,n)}var HE=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,UE=/\S/,Dp=new Zn;Dp.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!UE.test(e)&&!UE.test(t)};Dp.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&HE.test(t[n])&&HE.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};function zE(e,t,n){return Dp.diff(e,t,n)}var VE=new Zn;VE.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var $L=new Zn;$L.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var HL=new Zn;HL.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Wc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wc=function(t){return typeof t}:Wc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}var UL=Object.prototype.toString,Zs=new Zn;Zs.useLongestToken=!0;Zs.tokenize=VE.tokenize;Zs.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(a,s){return typeof s=="undefined"?n:s}:r;return typeof e=="string"?e:JSON.stringify(Lp(e,null,null,i),i,"  ")};Zs.equals=function(e,t){return Zn.prototype.equals.call(Zs,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Lp(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s;if(UL.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=Lp(e[a],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),Wc(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var o=[],l;for(l in e)e.hasOwnProperty(l)&&o.push(l);for(o.sort(),a=0;a<o.length;a+=1)l=o[a],s[l]=Lp(e[l],t,n,r,l);t.pop(),n.pop()}else s=e;return s}var jp=new Zn;jp.tokenize=function(e){return e.slice()};jp.join=jp.removeEmpty=function(e){return e};v();function zL(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let n=[],r;for(r=0;r<=t.length;r++)n[r]=[r];let i;for(i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]}function ha(e){return(t,n)=>{let r=e(t).trim(),i=e(n).trim();return zL(r,i)/(r.length+i.length)}}function da(e){function t(r,i,a=new Map){let s=1/0,o;for(let l=0;l<r.length;++l)for(let c=0;c<i.length;++c){let u=JSON.stringify([r[l],i[c]]),f;a.has(u)&&(f=a.get(u))||(f=e(r[l],i[c]),a.set(u,f)),f<s&&(s=f,o={indexA:l,indexB:c,score:s})}return o}function n(r,i,a=0,s=new Map){let o=t(r,i,s);if(!o||r.length+i.length<3)return[[r,i]];let l=r.slice(0,o.indexA),c=i.slice(0,o.indexB),u=[r[o.indexA]],f=[i[o.indexB]],h=o.indexA+1,d=o.indexB+1,p=r.slice(h),g=i.slice(d),m=n(l,c,a+1,s),w=n(u,f,a+1,s),b=n(p,g,a+1,s),S=w;return(o.indexA>0||o.indexB>0)&&(S=m.concat(S)),(r.length>h||i.length>d)&&(S=S.concat(b)),S}return n}var mt={INSERTS:"d2h-ins",DELETES:"d2h-del",CONTEXT:"d2h-cntx",INFO:"d2h-info",INSERT_CHANGES:"d2h-ins d2h-change",DELETE_CHANGES:"d2h-del d2h-change"},ii={matching:IE.NONE,matchWordsThreshold:.25,maxLineLengthHighlight:1e4,diffStyle:RE.WORD,colorScheme:ri.LIGHT},Rn="/",WE=ha(e=>e.value),VL=da(WE);function Np(e){return e.indexOf("dev/null")!==-1}function WL(e){return e.replace(/(<ins[^>]*>((.|\n)*?)<\/ins>)/g,"")}function qL(e){return e.replace(/(<del[^>]*>((.|\n)*?)<\/del>)/g,"")}function pa(e){switch(e){case Ue.CONTEXT:return mt.CONTEXT;case Ue.INSERT:return mt.INSERTS;case Ue.DELETE:return mt.DELETES}}function ma(e){switch(e){case ri.DARK:return"d2h-dark-color-scheme";case ri.AUTO:return"d2h-auto-color-scheme";case ri.LIGHT:default:return"d2h-light-color-scheme"}}function XL(e){return e?2:1}function Er(e){return e.slice(0).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function on(e,t,n=!0){let r=XL(t);return{prefix:e.substring(0,r),content:n?Er(e.substring(r)):e.substring(r)}}function ai(e){let t=Rp(e.oldName),n=Rp(e.newName);if(t!==n&&!Np(t)&&!Np(n)){let r=[],i=[],a=t.split(Rn),s=n.split(Rn),o=a.length,l=s.length,c=0,u=o-1,f=l-1;for(;c<u&&c<f&&a[c]===s[c];)r.push(s[c]),c+=1;for(;u>c&&f>c&&a[u]===s[f];)i.unshift(s[f]),u-=1,f-=1;let h=r.join(Rn),d=i.join(Rn),p=a.slice(c,u+1).join(Rn),g=s.slice(c,f+1).join(Rn);return h.length&&d.length?h+Rn+"{"+p+" \u2192 "+g+"}"+Rn+d:h.length?h+Rn+"{"+p+" \u2192 "+g+"}":d.length?"{"+p+" \u2192 "+g+"}"+Rn+d:t+" \u2192 "+n}else return Np(n)?t:n}function ga(e){return`d2h-${jE(ai(e)).toString().slice(-6)}`}function ya(e){let t="file-changed";return e.isRename||e.isCopy?t="file-renamed":e.isNew?t="file-added":e.isDeleted?t="file-deleted":e.newName!==e.oldName&&(t="file-renamed"),t}function qc(e,t,n,r={}){let{matching:i,maxLineLengthHighlight:a,matchWordsThreshold:s,diffStyle:o}=Object.assign(Object.assign({},ii),r),l=on(e,n,!1),c=on(t,n,!1);if(l.content.length>a||c.content.length>a)return{oldLine:{prefix:l.prefix,content:Er(l.content)},newLine:{prefix:c.prefix,content:Er(c.content)}};let u=o==="char"?GE(l.content,c.content):zE(l.content,c.content),f=[];if(o==="word"&&i==="words"){let d=u.filter(m=>m.removed),p=u.filter(m=>m.added);VL(p,d).forEach(m=>{m[0].length===1&&m[1].length===1&&WE(m[0][0],m[1][0])<s&&(f.push(m[0][0]),f.push(m[1][0]))})}let h=u.reduce((d,p)=>{let g=p.added?"ins":p.removed?"del":null,m=f.indexOf(p)>-1?' class="d2h-change"':"",w=Er(p.value);return g!==null?`${d}<${g}${m}>${w}</${g}>`:`${d}${w}`},"");return{oldLine:{prefix:l.prefix,content:WL(h)},newLine:{prefix:c.prefix,content:qL(h)}}}var qE="file-summary",YL="icon",ZL={colorScheme:ii.colorScheme},Xc=class{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},ZL),n)}render(t){let n=t.map(r=>this.hoganUtils.render(qE,"line",{fileHtmlId:ga(r),oldName:r.oldName,newName:r.newName,fileName:ai(r),deletedLines:"-"+r.deletedLines,addedLines:"+"+r.addedLines},{fileIcon:this.hoganUtils.template(YL,ya(r))})).join(`
`);return this.hoganUtils.render(qE,"wrapper",{colorScheme:ma(this.config.colorScheme),filesNumber:t.length,files:n})}};v();var Hp=Object.assign(Object.assign({},ii),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),Ks="generic",XE="line-by-line",KL="icon",JL="tag",Js=class{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},Hp),n)}render(t){let n=t.map(r=>{let i;return r.blocks.length?i=this.generateFileHtml(r):i=this.generateEmptyDiff(),this.makeFileDiffHtml(r,i)}).join(`
`);return this.hoganUtils.render(Ks,"wrapper",{colorScheme:ma(this.config.colorScheme),content:n})}makeFileDiffHtml(t,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";let r=this.hoganUtils.template(XE,"file-diff"),i=this.hoganUtils.template(Ks,"file-path"),a=this.hoganUtils.template(KL,"file"),s=this.hoganUtils.template(JL,ya(t));return r.render({file:t,fileHtmlId:ga(t),diffs:n,filePath:i.render({fileDiffName:ai(t)},{fileIcon:a,fileTag:s})})}generateEmptyDiff(){return this.hoganUtils.render(Ks,"empty-diff",{contentClass:"d2h-code-line",CSSLineClass:mt})}generateFileHtml(t){let n=da(ha(r=>on(r.content,t.isCombined).content));return t.blocks.map(r=>{let i=this.hoganUtils.render(Ks,"block-header",{CSSLineClass:mt,blockHeader:t.isTooBig?r.header:Er(r.header),lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line"});return this.applyLineGroupping(r).forEach(([a,s,o])=>{if(s.length&&o.length&&!a.length)this.applyRematchMatching(s,o,n).map(([l,c])=>{let{left:u,right:f}=this.processChangedLines(t,t.isCombined,l,c);i+=u,i+=f});else if(a.length)a.forEach(l=>{let{prefix:c,content:u}=on(l.content,t.isCombined);i+=this.generateSingleLineHtml(t,{type:mt.CONTEXT,prefix:c,content:u,oldNumber:l.oldNumber,newNumber:l.newNumber})});else if(s.length||o.length){let{left:l,right:c}=this.processChangedLines(t,t.isCombined,s,o);i+=l,i+=c}else console.error("Unknown state reached while processing groups of lines",a,s,o)}),i}).join(`
`)}applyLineGroupping(t){let n=[],r=[],i=[];for(let a=0;a<t.lines.length;a++){let s=t.lines[a];(s.type!==Ue.INSERT&&i.length||s.type===Ue.CONTEXT&&r.length>0)&&(n.push([[],r,i]),r=[],i=[]),s.type===Ue.CONTEXT?n.push([[s],[],[]]):s.type===Ue.INSERT&&r.length===0?n.push([[],[],[s]]):s.type===Ue.INSERT&&r.length>0?i.push(s):s.type===Ue.DELETE&&r.push(s)}return(r.length||i.length)&&(n.push([[],r,i]),r=[],i=[]),n}applyRematchMatching(t,n,r){let i=t.length*n.length,a=Math.max.apply(null,[0].concat(t.concat(n).map(o=>o.content.length)));return i<this.config.matchingMaxComparisons&&a<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?r(t,n):[[t,n]]}processChangedLines(t,n,r,i){let a={right:"",left:""},s=Math.max(r.length,i.length);for(let o=0;o<s;o++){let l=r[o],c=i[o],u=l!==void 0&&c!==void 0?qc(l.content,c.content,n,this.config):void 0,f=l!==void 0&&l.oldNumber!==void 0?Object.assign(Object.assign({},u!==void 0?{prefix:u.oldLine.prefix,content:u.oldLine.content,type:mt.DELETE_CHANGES}:Object.assign(Object.assign({},on(l.content,n)),{type:pa(l.type)})),{oldNumber:l.oldNumber,newNumber:l.newNumber}):void 0,h=c!==void 0&&c.newNumber!==void 0?Object.assign(Object.assign({},u!==void 0?{prefix:u.newLine.prefix,content:u.newLine.content,type:mt.INSERT_CHANGES}:Object.assign(Object.assign({},on(c.content,n)),{type:pa(c.type)})),{oldNumber:c.oldNumber,newNumber:c.newNumber}):void 0,{left:d,right:p}=this.generateLineHtml(t,f,h);a.left+=d,a.right+=p}return a}generateLineHtml(t,n,r){return{left:this.generateSingleLineHtml(t,n),right:this.generateSingleLineHtml(t,r)}}generateSingleLineHtml(t,n){if(n===void 0)return"";let r=this.hoganUtils.render(XE,"numbers",{oldNumber:n.oldNumber||"",newNumber:n.newNumber||""});return this.hoganUtils.render(Ks,"line",{type:n.type,lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line",prefix:n.prefix===" "?"&nbsp;":n.prefix,content:n.content,lineNumber:r,line:n,file:t})}};v();var Up=Object.assign(Object.assign({},ii),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),Qs="generic",QL="side-by-side",ej="icon",tj="tag",eo=class{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},Up),n)}render(t){let n=t.map(r=>{let i;return r.blocks.length?i=this.generateFileHtml(r):i=this.generateEmptyDiff(),this.makeFileDiffHtml(r,i)}).join(`
`);return this.hoganUtils.render(Qs,"wrapper",{colorScheme:ma(this.config.colorScheme),content:n})}makeFileDiffHtml(t,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";let r=this.hoganUtils.template(QL,"file-diff"),i=this.hoganUtils.template(Qs,"file-path"),a=this.hoganUtils.template(ej,"file"),s=this.hoganUtils.template(tj,ya(t));return r.render({file:t,fileHtmlId:ga(t),diffs:n,filePath:i.render({fileDiffName:ai(t)},{fileIcon:a,fileTag:s})})}generateEmptyDiff(){return{right:"",left:this.hoganUtils.render(Qs,"empty-diff",{contentClass:"d2h-code-side-line",CSSLineClass:mt})}}generateFileHtml(t){let n=da(ha(r=>on(r.content,t.isCombined).content));return t.blocks.map(r=>{let i={left:this.makeHeaderHtml(r.header,t),right:this.makeHeaderHtml("")};return this.applyLineGroupping(r).forEach(([a,s,o])=>{if(s.length&&o.length&&!a.length)this.applyRematchMatching(s,o,n).map(([l,c])=>{let{left:u,right:f}=this.processChangedLines(t.isCombined,l,c);i.left+=u,i.right+=f});else if(a.length)a.forEach(l=>{let{prefix:c,content:u}=on(l.content,t.isCombined),{left:f,right:h}=this.generateLineHtml({type:mt.CONTEXT,prefix:c,content:u,number:l.oldNumber},{type:mt.CONTEXT,prefix:c,content:u,number:l.newNumber});i.left+=f,i.right+=h});else if(s.length||o.length){let{left:l,right:c}=this.processChangedLines(t.isCombined,s,o);i.left+=l,i.right+=c}else console.error("Unknown state reached while processing groups of lines",a,s,o)}),i}).reduce((r,i)=>({left:r.left+i.left,right:r.right+i.right}),{left:"",right:""})}applyLineGroupping(t){let n=[],r=[],i=[];for(let a=0;a<t.lines.length;a++){let s=t.lines[a];(s.type!==Ue.INSERT&&i.length||s.type===Ue.CONTEXT&&r.length>0)&&(n.push([[],r,i]),r=[],i=[]),s.type===Ue.CONTEXT?n.push([[s],[],[]]):s.type===Ue.INSERT&&r.length===0?n.push([[],[],[s]]):s.type===Ue.INSERT&&r.length>0?i.push(s):s.type===Ue.DELETE&&r.push(s)}return(r.length||i.length)&&(n.push([[],r,i]),r=[],i=[]),n}applyRematchMatching(t,n,r){let i=t.length*n.length,a=Math.max.apply(null,[0].concat(t.concat(n).map(o=>o.content.length)));return i<this.config.matchingMaxComparisons&&a<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?r(t,n):[[t,n]]}makeHeaderHtml(t,n){return this.hoganUtils.render(Qs,"block-header",{CSSLineClass:mt,blockHeader:n!=null&&n.isTooBig?t:Er(t),lineClass:"d2h-code-side-linenumber",contentClass:"d2h-code-side-line"})}processChangedLines(t,n,r){let i={right:"",left:""},a=Math.max(n.length,r.length);for(let s=0;s<a;s++){let o=n[s],l=r[s],c=o!==void 0&&l!==void 0?qc(o.content,l.content,t,this.config):void 0,u=o!==void 0&&o.oldNumber!==void 0?Object.assign(Object.assign({},c!==void 0?{prefix:c.oldLine.prefix,content:c.oldLine.content,type:mt.DELETE_CHANGES}:Object.assign(Object.assign({},on(o.content,t)),{type:pa(o.type)})),{number:o.oldNumber}):void 0,f=l!==void 0&&l.newNumber!==void 0?Object.assign(Object.assign({},c!==void 0?{prefix:c.newLine.prefix,content:c.newLine.content,type:mt.INSERT_CHANGES}:Object.assign(Object.assign({},on(l.content,t)),{type:pa(l.type)})),{number:l.newNumber}):void 0,{left:h,right:d}=this.generateLineHtml(u,f);i.left+=h,i.right+=d}return i}generateLineHtml(t,n){return{left:this.generateSingleHtml(t),right:this.generateSingleHtml(n)}}generateSingleHtml(t){let n="d2h-code-side-linenumber",r="d2h-code-side-line";return this.hoganUtils.render(Qs,"line",{type:(t==null?void 0:t.type)||`${mt.CONTEXT} d2h-emptyplaceholder`,lineClass:t!==void 0?n:`${n} d2h-code-side-emptyplaceholder`,contentClass:t!==void 0?r:`${r} d2h-code-side-emptyplaceholder`,prefix:(t==null?void 0:t.prefix)===" "?"&nbsp;":t==null?void 0:t.prefix,content:t==null?void 0:t.content,lineNumber:t==null?void 0:t.number})}};v();var Wp=Xe(Vp());v();var it=Xe(Vp()),tt={};tt["file-summary-line"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<li class="d2h-file-list-line">'),r.b(`
`+n),r.b('    <span class="d2h-file-name-wrapper">'),r.b(`
`+n),r.b(r.rp("<fileIcon0",e,t,"      ")),r.b('      <a href="#'),r.b(r.v(r.f("fileHtmlId",e,t,0))),r.b('" class="d2h-file-name">'),r.b(r.v(r.f("fileName",e,t,0))),r.b("</a>"),r.b(`
`+n),r.b('      <span class="d2h-file-stats">'),r.b(`
`+n),r.b('          <span class="d2h-lines-added">'),r.b(r.v(r.f("addedLines",e,t,0))),r.b("</span>"),r.b(`
`+n),r.b('          <span class="d2h-lines-deleted">'),r.b(r.v(r.f("deletedLines",e,t,0))),r.b("</span>"),r.b(`
`+n),r.b("      </span>"),r.b(`
`+n),r.b("    </span>"),r.b(`
`+n),r.b("</li>"),r.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}});tt["file-summary-wrapper"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="d2h-file-list-wrapper '),r.b(r.v(r.f("colorScheme",e,t,0))),r.b('">'),r.b(`
`+n),r.b('    <div class="d2h-file-list-header">'),r.b(`
`+n),r.b('        <span class="d2h-file-list-title">Files changed ('),r.b(r.v(r.f("filesNumber",e,t,0))),r.b(")</span>"),r.b(`
`+n),r.b('        <a class="d2h-file-switch d2h-hide">hide</a>'),r.b(`
`+n),r.b('        <a class="d2h-file-switch d2h-show">show</a>'),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b('    <ol class="d2h-file-list">'),r.b(`
`+n),r.b("    "),r.b(r.t(r.f("files",e,t,0))),r.b(`
`+n),r.b("    </ol>"),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});tt["generic-block-header"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<tr>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.f("lineClass",e,t,0))),r.b(" "),r.b(r.v(r.d("CSSLineClass.INFO",e,t,0))),r.b('"></td>'),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.d("CSSLineClass.INFO",e,t,0))),r.b('">'),r.b(`
`+n),r.b('        <div class="'),r.b(r.v(r.f("contentClass",e,t,0))),r.b('">'),r.s(r.f("blockHeader",e,t,1),e,t,0,156,173,"{{ }}")&&(r.rs(e,t,function(i,a,s){s.b(s.t(s.f("blockHeader",i,a,0)))}),e.pop()),r.s(r.f("blockHeader",e,t,1),e,t,1,0,0,"")||r.b("&nbsp;"),r.b("</div>"),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b("</tr>"),r.fl()},partials:{},subs:{}});tt["generic-empty-diff"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<tr>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.d("CSSLineClass.INFO",e,t,0))),r.b('">'),r.b(`
`+n),r.b('        <div class="'),r.b(r.v(r.f("contentClass",e,t,0))),r.b('">'),r.b(`
`+n),r.b("            File without changes"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b("</tr>"),r.fl()},partials:{},subs:{}});tt["generic-file-path"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-file-name-wrapper">'),r.b(`
`+n),r.b(r.rp("<fileIcon0",e,t,"    ")),r.b('    <span class="d2h-file-name">'),r.b(r.v(r.f("fileDiffName",e,t,0))),r.b("</span>"),r.b(`
`+n),r.b(r.rp("<fileTag1",e,t,"    ")),r.b("</span>"),r.b(`
`+n),r.b('<label class="d2h-file-collapse">'),r.b(`
`+n),r.b('    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">'),r.b(`
`+n),r.b("    Viewed"),r.b(`
`+n),r.b("</label>"),r.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}});tt["generic-line"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<tr>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.f("lineClass",e,t,0))),r.b(" "),r.b(r.v(r.f("type",e,t,0))),r.b('">'),r.b(`
`+n),r.b("      "),r.b(r.t(r.f("lineNumber",e,t,0))),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b('    <td class="'),r.b(r.v(r.f("type",e,t,0))),r.b('">'),r.b(`
`+n),r.b('        <div class="'),r.b(r.v(r.f("contentClass",e,t,0))),r.b('">'),r.b(`
`+n),r.s(r.f("prefix",e,t,1),e,t,0,162,238,"{{ }}")&&(r.rs(e,t,function(i,a,s){s.b('            <span class="d2h-code-line-prefix">'),s.b(s.t(s.f("prefix",i,a,0))),s.b("</span>"),s.b(`
`+n)}),e.pop()),r.s(r.f("prefix",e,t,1),e,t,1,0,0,"")||(r.b('            <span class="d2h-code-line-prefix">&nbsp;</span>'),r.b(`
`+n)),r.s(r.f("content",e,t,1),e,t,0,371,445,"{{ }}")&&(r.rs(e,t,function(i,a,s){s.b('            <span class="d2h-code-line-ctn">'),s.b(s.t(s.f("content",i,a,0))),s.b("</span>"),s.b(`
`+n)}),e.pop()),r.s(r.f("content",e,t,1),e,t,1,0,0,"")||(r.b('            <span class="d2h-code-line-ctn"><br></span>'),r.b(`
`+n)),r.b("        </div>"),r.b(`
`+n),r.b("    </td>"),r.b(`
`+n),r.b("</tr>"),r.fl()},partials:{},subs:{}});tt["generic-wrapper"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="d2h-wrapper '),r.b(r.v(r.f("colorScheme",e,t,0))),r.b('">'),r.b(`
`+n),r.b("    "),r.b(r.t(r.f("content",e,t,0))),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});tt["icon-file-added"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"'),r.b(`
`+n),r.b('     width="14">'),r.b(`
`+n),r.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});tt["icon-file-changed"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"'),r.b(`
`+n),r.b('     viewBox="0 0 14 16" width="14">'),r.b(`
`+n),r.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});tt["icon-file-deleted"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"'),r.b(`
`+n),r.b('     viewBox="0 0 14 16" width="14">'),r.b(`
`+n),r.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});tt["icon-file-renamed"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"'),r.b(`
`+n),r.b('     viewBox="0 0 14 16" width="14">'),r.b(`
`+n),r.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});tt["icon-file"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">'),r.b(`
`+n),r.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>'),r.b(`
`+n),r.b("</svg>"),r.fl()},partials:{},subs:{}});tt["line-by-line-file-diff"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div id="'),r.b(r.v(r.f("fileHtmlId",e,t,0))),r.b('" class="d2h-file-wrapper" data-lang="'),r.b(r.v(r.d("file.language",e,t,0))),r.b('">'),r.b(`
`+n),r.b('    <div class="d2h-file-header">'),r.b(`
`+n),r.b("    "),r.b(r.t(r.f("filePath",e,t,0))),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b('    <div class="d2h-file-diff">'),r.b(`
`+n),r.b('        <div class="d2h-code-wrapper">'),r.b(`
`+n),r.b('            <table class="d2h-diff-table">'),r.b(`
`+n),r.b('                <tbody class="d2h-diff-tbody">'),r.b(`
`+n),r.b("                "),r.b(r.t(r.f("diffs",e,t,0))),r.b(`
`+n),r.b("                </tbody>"),r.b(`
`+n),r.b("            </table>"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});tt["line-by-line-numbers"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="line-num1">'),r.b(r.v(r.f("oldNumber",e,t,0))),r.b("</div>"),r.b(`
`+n),r.b('<div class="line-num2">'),r.b(r.v(r.f("newNumber",e,t,0))),r.b("</div>"),r.fl()},partials:{},subs:{}});tt["side-by-side-file-diff"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div id="'),r.b(r.v(r.f("fileHtmlId",e,t,0))),r.b('" class="d2h-file-wrapper" data-lang="'),r.b(r.v(r.d("file.language",e,t,0))),r.b('">'),r.b(`
`+n),r.b('    <div class="d2h-file-header">'),r.b(`
`+n),r.b("      "),r.b(r.t(r.f("filePath",e,t,0))),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b('    <div class="d2h-files-diff">'),r.b(`
`+n),r.b('        <div class="d2h-file-side-diff">'),r.b(`
`+n),r.b('            <div class="d2h-code-wrapper">'),r.b(`
`+n),r.b('                <table class="d2h-diff-table">'),r.b(`
`+n),r.b('                    <tbody class="d2h-diff-tbody">'),r.b(`
`+n),r.b("                    "),r.b(r.t(r.d("diffs.left",e,t,0))),r.b(`
`+n),r.b("                    </tbody>"),r.b(`
`+n),r.b("                </table>"),r.b(`
`+n),r.b("            </div>"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b('        <div class="d2h-file-side-diff">'),r.b(`
`+n),r.b('            <div class="d2h-code-wrapper">'),r.b(`
`+n),r.b('                <table class="d2h-diff-table">'),r.b(`
`+n),r.b('                    <tbody class="d2h-diff-tbody">'),r.b(`
`+n),r.b("                    "),r.b(r.t(r.d("diffs.right",e,t,0))),r.b(`
`+n),r.b("                    </tbody>"),r.b(`
`+n),r.b("                </table>"),r.b(`
`+n),r.b("            </div>"),r.b(`
`+n),r.b("        </div>"),r.b(`
`+n),r.b("    </div>"),r.b(`
`+n),r.b("</div>"),r.fl()},partials:{},subs:{}});tt["tag-file-added"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>'),r.fl()},partials:{},subs:{}});tt["tag-file-changed"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>'),r.fl()},partials:{},subs:{}});tt["tag-file-deleted"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>'),r.fl()},partials:{},subs:{}});tt["tag-file-renamed"]=new it.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>'),r.fl()},partials:{},subs:{}});var to=class{constructor({compiledTemplates:t={},rawTemplates:n={}}){let r=Object.entries(n).reduce((i,[a,s])=>{let o=Wp.compile(s,{asString:!1});return Object.assign(Object.assign({},i),{[a]:o})},{});this.preCompiledTemplates=Object.assign(Object.assign(Object.assign({},tt),t),r)}static compile(t){return Wp.compile(t,{asString:!1})}render(t,n,r,i,a){let s=this.templateKey(t,n);try{return this.preCompiledTemplates[s].render(r,i,a)}catch(o){throw new Error(`Could not find template to render '${s}'`)}}template(t,n){return this.preCompiledTemplates[this.templateKey(t,n)]}templateKey(t,n){return`${t}-${n}`}};var rj=Object.assign(Object.assign(Object.assign({},Hp),Up),{outputFormat:OE.LINE_BY_LINE,drawFileList:!0});function JE(e,t={}){let n=Object.assign(Object.assign({},rj),t),r=typeof e=="string"?$E(e,n):e,i=new to(n),{colorScheme:a}=n,s={colorScheme:a},o=n.drawFileList?new Xc(i,s).render(r):"",l=n.outputFormat==="side-by-side"?new eo(i,n).render(r):new Js(i,n).render(r);return o+l}var Zc=require("obsidian");var va=class extends Zc.ItemView{constructor(n,r){super(n);this.plugin=r;this.gettingDiff=!1;this.parser=new DOMParser,this.navigation=!0,this.gitRefreshRef=this.app.workspace.on("obsidian-git:refresh",()=>{this.refresh().catch(console.error)}),this.gitViewRefreshRef=this.app.workspace.on("obsidian-git:view-refresh",()=>{this.refresh().catch(console.error)})}getViewType(){return Ct.type}getDisplayText(){var n;if(((n=this.state)==null?void 0:n.file)!=null){let r=this.state.file.split("/").last();return r!=null&&r.endsWith(".md")&&(r=r.slice(0,-3)),Ct.name+` (${r})`}return Ct.name}getIcon(){return Ct.icon}async setState(n,r){this.state=n,Zc.Platform.isMobile&&(this.leaf.view.titleEl.textContent=this.getDisplayText()),await this.refresh()}getState(){return this.state}onClose(){return this.app.workspace.offref(this.gitRefreshRef),this.app.workspace.offref(this.gitViewRefreshRef),super.onClose()}async onOpen(){return await this.refresh(),super.onOpen()}async refresh(){var n;if((n=this.state)!=null&&n.file&&!this.gettingDiff&&this.plugin.gitManager){this.gettingDiff=!0;try{let r=await this.plugin.gitManager.getDiffString(this.state.file,this.state.staged,this.state.hash);this.contentEl.empty();let i=this.plugin.gitManager.getRelativeVaultPath(this.state.file);if(!r){if(this.plugin.gitManager instanceof Le&&await this.plugin.gitManager.isTracked(this.state.file))r=[`--- ${this.state.file}`,`+++ ${this.state.file}`,""].join(`
`);else if(await this.app.vault.adapter.exists(i)){let a=await this.app.vault.adapter.read(i);r=[...`--- /dev/null
+++ ${this.state.file}
@@ -0,0 +1,${a.split(`
`).length} @@`.split(`
`),...a.split(`
`).map(o=>`+${o}`)].join(`
`)}}if(r){let a=this.parser.parseFromString(JE(r),"text/html").querySelector(".d2h-file-diff");this.contentEl.append(a)}else{let a=this.contentEl.createDiv({cls:"obsidian-git-center"});a.createSpan({text:"\u26A0\uFE0F",attr:{style:"font-size: 2em"}}),a.createEl("br"),a.createSpan({text:"File not found: "+this.state.file})}}finally{this.gettingDiff=!1}}}};v();var MA=require("obsidian");v();v();v();v();function Ae(){}var no=e=>e;function qp(e){return e()}function Kc(){return Object.create(null)}function ke(e){e.forEach(qp)}function wa(e){return typeof e=="function"}function at(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function QE(e){return Object.keys(e).length===0}v();var eA=typeof window!="undefined",Xp=eA?()=>window.performance.now():()=>Date.now(),ro=eA?e=>requestAnimationFrame(e):Ae;v();var ba=new Set;function tA(e){ba.forEach(t=>{t.c(e)||(ba.delete(t),t.f())}),ba.size!==0&&ro(tA)}function Yp(e){let t;return ba.size===0&&ro(tA),{promise:new Promise(n=>{ba.add(t={c:e,f:n})}),abort(){ba.delete(t)}}}v();v();v();v();var Zp=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Jc=class e{constructor(t){ut(this,"_listeners","WeakMap"in Zp?new WeakMap:void 0);ut(this,"_observer");ut(this,"options");this.options=t}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!=null?t:this._observer=new ResizeObserver(n=>{var r;for(let i of n)e.entries.set(i.target,i),(r=this._listeners.get(i.target))==null||r(i)})}};Jc.entries="WeakMap"in Zp?new WeakMap:void 0;var nA=!1;function rA(){nA=!0}function iA(){nA=!1}function M(e,t){e.appendChild(t)}function Nt(e,t,n){let r=Qc(e);if(!r.getElementById(t)){let i=I("style");i.id=t,i.textContent=n,sA(r,i)}}function Qc(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function aA(e){let t=I("style");return t.textContent="/* empty */",sA(Qc(e),t),t.sheet}function sA(e,t){return M(e.head||e,t),t.sheet}function re(e,t,n){e.insertBefore(t,n||null)}function ne(e){e.parentNode&&e.parentNode.removeChild(e)}function ln(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function I(e){return document.createElement(e)}function Te(e){return document.createTextNode(e)}function J(){return Te(" ")}function xa(){return Te("")}function te(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function xe(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function T(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function oA(e){return Array.from(e.childNodes)}function Me(e,t){t=""+t,e.data!==t&&(e.data=t)}function Kp(e,t){e.value=t==null?"":t}function Yt(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function ce(e,t,n){e.classList.toggle(t,!!n)}function eu(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function lA(e){let t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}var tu=new Map,nu=0;function aj(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function sj(e,t){let n={stylesheet:aA(t),rules:{}};return tu.set(e,n),n}function ru(e,t,n,r,i,a,s,o=0){let l=16.666/r,c=`{
`;for(let m=0;m<=1;m+=l){let w=t+(n-t)*a(m);c+=m*100+`%{${s(w,1-w)}}
`}let u=c+`100% {${s(n,1-n)}}
}`,f=`__svelte_${aj(u)}_${o}`,h=Qc(e),{stylesheet:d,rules:p}=tu.get(h)||sj(h,e);p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));let g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${i}ms 1 both`,nu+=1,f}function Jp(e,t){let n=(e.style.animation||"").split(", "),r=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),nu-=i,nu||oj())}function oj(){ro(()=>{nu||(tu.forEach(e=>{let{ownerNode:t}=e.stylesheet;t&&ne(t)}),tu.clear())})}v();v();v();v();var Ar;function Kn(e){Ar=e}function cA(){if(!Ar)throw new Error("Function called outside component initialization");return Ar}function io(e){cA().$$.on_destroy.push(e)}function kr(e,t){let n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}var si=[];var je=[],Sa=[],uA=[],lj=Promise.resolve(),em=!1;function fA(){em||(em=!0,lj.then(iu))}function wt(e){Sa.push(e)}var Qp=new Set,_a=0;function iu(){if(_a!==0)return;let e=Ar;do{try{for(;_a<si.length;){let t=si[_a];_a++,Kn(t),cj(t.$$)}}catch(t){throw si.length=0,_a=0,t}for(Kn(null),si.length=0,_a=0;je.length;)je.pop()();for(let t=0;t<Sa.length;t+=1){let n=Sa[t];Qp.has(n)||(Qp.add(n),n())}Sa.length=0}while(si.length);for(;uA.length;)uA.pop()();em=!1,Qp.clear(),Kn(e)}function cj(e){if(e.fragment!==null){e.update(),ke(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(wt)}}function hA(e){let t=[],n=[];Sa.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Sa=t}var ao;function uj(){return ao||(ao=Promise.resolve(),ao.then(()=>{ao=null})),ao}function tm(e,t,n){e.dispatchEvent(eu(`${t?"intro":"outro"}${n}`))}var au=new Set,Jn;function Ce(){Jn={r:0,c:[],p:Jn}}function Fe(){Jn.r||ke(Jn.c),Jn=Jn.p}function U(e,t){e&&e.i&&(au.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(au.has(e))return;au.add(e),Jn.c.push(()=>{au.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}var fj={duration:0};function bt(e,t,n,r){let a=t(e,n,{direction:"both"}),s=r?0:1,o=null,l=null,c=null,u;function f(){c&&Jp(e,c)}function h(p,g){let m=p.b-s;return g*=Math.abs(m),{a:s,b:p.b,d:m,duration:g,start:p.start,end:p.start+g,group:p.group}}function d(p){let{delay:g=0,duration:m=300,easing:w=no,tick:b=Ae,css:S}=a||fj,A={start:Xp()+g,b:p};p||(A.group=Jn,Jn.r+=1),"inert"in e&&(p?u!==void 0&&(e.inert=u):(u=e.inert,e.inert=!0)),o||l?l=A:(S&&(f(),c=ru(e,s,p,m,g,w,S)),p&&b(0,1),o=h(A,m),wt(()=>tm(e,p,"start")),Yp(x=>{if(l&&x>l.start&&(o=h(l,m),l=null,tm(e,o.b,"start"),S&&(f(),c=ru(e,s,o.b,o.duration,0,w,a.css))),o){if(x>=o.end)b(s=o.b,1-s),tm(e,o.b,"end"),l||(o.b?f():--o.group.r||ke(o.group.c)),o=null;else if(x>=o.start){let k=x-o.start;s=o.a+o.d*w(k/o.duration),b(s,1-s)}}return!!(o||l)}))}return{run(p){wa(a)?uj().then(()=>{a=a({direction:p?"in":"out"}),d(p)}):d(p)},end(){f(),o=l=null}}}v();function nt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}v();v();v();var hj=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],dj=new Set([...hj]);v();v();v();function Ge(e){e&&e.c()}function De(e,t,n){let{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),wt(()=>{let a=e.$$.on_mount.map(qp).filter(wa);e.$$.on_destroy?e.$$.on_destroy.push(...a):ke(a),e.$$.on_mount=[]}),i.forEach(wt)}function Be(e,t){let n=e.$$;n.fragment!==null&&(hA(n.after_update),ke(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function mj(e,t){e.$$.dirty[0]===-1&&(si.push(e),fA(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function st(e,t,n,r,i,a,s=null,o=[-1]){let l=Ar;Kn(e);let c=e.$$={fragment:null,ctx:[],props:a,update:Ae,not_equal:i,bound:Kc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Kc(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,h,...d)=>{let p=d.length?d[0]:h;return c.ctx&&i(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&mj(e,f)),h}):[],c.update(),u=!0,ke(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){rA();let f=oA(t.target);c.fragment&&c.fragment.l(f),f.forEach(ne)}else c.fragment&&c.fragment.c();t.intro&&U(e.$$.fragment),De(e,t.target,t.anchor),iA(),iu()}Kn(l)}var gj;typeof HTMLElement=="function"&&(gj=class extends HTMLElement{constructor(t,n,r){super();ut(this,"$$ctor");ut(this,"$$s");ut(this,"$$c");ut(this,"$$cn",!1);ut(this,"$$d",{});ut(this,"$$r",!1);ut(this,"$$p_d",{});ut(this,"$$l",{});ut(this,"$$l_u",new Map);this.$$ctor=t,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(t,n,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){let i=this.$$c.$on(t,n);this.$$l_u.set(n,i)}super.addEventListener(t,n,r)}removeEventListener(t,n,r){if(super.removeEventListener(t,n,r),this.$$c){let i=this.$$l_u.get(n);i&&(i(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(a){return()=>{let s;return{c:function(){s=I("slot"),a!=="default"&&T(s,"name",a)},m:function(c,u){re(c,s,u)},d:function(c){c&&ne(s)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let n={},r=lA(this);for(let a of this.$$s)a in r&&(n[a]=[t(a)]);for(let a of this.attributes){let s=this.$$g_p(a.name);s in this.$$d||(this.$$d[s]=nm(s,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let s=nm(a,this.$$d[a],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,s)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let s of this.$$l[a]){let o=this.$$c.$on(a,s);this.$$l_u.set(s,o)}this.$$l={}}}attributeChangedCallback(t,n,r){var i;this.$$r||(t=this.$$g_p(t),this.$$d[t]=nm(t,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(t){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function nm(e,t,n,r){var a;let i=(a=n[e])==null?void 0:a.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!r||!n[e])return t;if(r==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}var qe=class{constructor(){ut(this,"$$");ut(this,"$$set")}$destroy(){Be(this,1),this.$destroy=Ae}$on(t,n){if(!wa(n))return Ae;let r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{let i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!QE(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};v();v();var dA="4";v();typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dA);v();function Ea(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})}var lu=require("obsidian");v();v();var so=require("obsidian");v();v();function pA(e){let t=e-1;return t*t*t+1}function xt(e,{delay:t=0,duration:n=400,easing:r=pA,axis:i="y"}={}){let a=getComputedStyle(e),s=+a.opacity,o=i==="y"?"height":"width",l=parseFloat(a[o]),c=i==="y"?["top","bottom"]:["left","right"],u=c.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),f=parseFloat(a[`padding${u[0]}`]),h=parseFloat(a[`padding${u[1]}`]),d=parseFloat(a[`margin${u[0]}`]),p=parseFloat(a[`margin${u[1]}`]),g=parseFloat(a[`border${u[0]}Width`]),m=parseFloat(a[`border${u[1]}Width`]);return{delay:t,duration:n,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*s};${o}: ${w*l}px;padding-${c[0]}: ${w*f}px;padding-${c[1]}: ${w*h}px;margin-${c[0]}: ${w*d}px;margin-${c[1]}: ${w*p}px;border-${c[0]}-width: ${w*g}px;border-${c[1]}-width: ${w*m}px;`}}v();var Aa=require("obsidian");function yj(e){Nt(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function mA(e){let t,n,r;return{c(){t=I("div"),T(t,"data-icon","go-to-file"),T(t,"aria-label","Open File"),T(t,"class","clickable-icon")},m(i,a){re(i,t,a),e[7](t),n||(r=[te(t,"auxclick",xe(e[4])),te(t,"click",xe(e[4]))],n=!0)},p:Ae,d(i){i&&ne(t),e[7](null),n=!1,ke(r)}}}function vj(e){let t,n,r,i=Bt(e[0].vault_path)+"",a,s,o,l,c=e[1].app.vault.getAbstractFileByPath(e[0].vault_path)instanceof Aa.TFile,u,f,h=e[0].status+"",d,p,g,m,w,b,S=c&&mA(e);return{c(){var A,x;t=I("main"),n=I("div"),r=I("div"),a=Te(i),s=J(),o=I("div"),l=I("div"),S&&S.c(),u=J(),f=I("span"),d=Te(h),T(r,"class","tree-item-inner nav-file-title-content"),T(l,"class","buttons"),T(f,"class","type"),T(f,"data-type",p=e[0].status),T(o,"class","git-tools"),T(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),T(n,"data-path",g=e[0].vault_path),T(n,"data-tooltip-position",e[3]),T(n,"aria-label",m=e[0].vault_path),ce(n,"is-active",((A=e[1].plugin.lastDiffViewState)==null?void 0:A.file)==e[0].vault_path&&((x=e[1].plugin.lastDiffViewState)==null?void 0:x.hash)),T(t,"class","tree-item nav-file svelte-1wbh8tp")},m(A,x){re(A,t,x),M(t,n),M(n,r),M(r,a),M(n,s),M(n,o),M(o,l),S&&S.m(l,null),M(o,u),M(o,f),M(f,d),w||(b=[te(t,"click",xe(e[5])),te(t,"auxclick",xe(e[8])),te(t,"focus",e[6])],w=!0)},p(A,[x]){var k,y;x&1&&i!==(i=Bt(A[0].vault_path)+"")&&Me(a,i),x&3&&(c=A[1].app.vault.getAbstractFileByPath(A[0].vault_path)instanceof Aa.TFile),c?S?S.p(A,x):(S=mA(A),S.c(),S.m(l,null)):S&&(S.d(1),S=null),x&1&&h!==(h=A[0].status+"")&&Me(d,h),x&1&&p!==(p=A[0].status)&&T(f,"data-type",p),x&1&&g!==(g=A[0].vault_path)&&T(n,"data-path",g),x&8&&T(n,"data-tooltip-position",A[3]),x&1&&m!==(m=A[0].vault_path)&&T(n,"aria-label",m),x&3&&ce(n,"is-active",((k=A[1].plugin.lastDiffViewState)==null?void 0:k.file)==A[0].vault_path&&((y=A[1].plugin.lastDiffViewState)==null?void 0:y.hash))},i:Ae,o:Ae,d(A){A&&ne(t),S&&S.d(),w=!1,ke(b)}}}function wj(e,t,n){let r,{diff:i}=t,{view:a}=t,s=[];window.setTimeout(()=>s.forEach(h=>(0,Aa.setIcon)(h,h.getAttr("data-icon"))),0);function o(h){var d;let p=a.app.vault.getAbstractFileByPath(i.vault_path);p instanceof Aa.TFile&&((d=Xt(a.app,h))===null||d===void 0||d.openFile(p).catch(g=>a.plugin.displayError(g)))}function l(h){var d;(d=Xt(a.app,h))===null||d===void 0||d.setViewState({type:Ct.type,active:!0,state:{file:i.path,staged:!1,hash:i.hash}})}function c(h){kr.call(this,e,h)}function u(h){je[h?"unshift":"push"](()=>{s[0]=h,n(2,s)})}let f=h=>{h.button==2?In(a.app,h,i.vault_path,a.leaf,"git-history"):l(h)};return e.$$set=h=>{"diff"in h&&n(0,i=h.diff),"view"in h&&n(1,a=h.view)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,s,r,o,l,c,u,f]}var rm=class extends qe{constructor(t){super(),st(this,t,wj,vj,at,{diff:0,view:1},yj)}},su=rm;v();function bj(e){Nt(e,"svelte-1lnl15d","main.svelte-1lnl15d .nav-folder-title-content.svelte-1lnl15d{display:flex;align-items:center}")}function gA(e,t,n){let r=e.slice();return r[8]=t[n],r}function xj(e){let t,n,r,i,a,s,o,l=e[8].title+"",c,u,f,h,d,p,g;function m(){return e[7](e[8])}let w=!e[4][e[8].title]&&yA(e);return{c(){t=I("div"),n=I("div"),r=I("div"),i=J(),a=I("div"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',s=J(),o=I("div"),c=Te(l),f=J(),w&&w.c(),h=J(),T(r,"data-icon","folder"),Yt(r,"padding-right","5px"),Yt(r,"display","flex"),T(a,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),ce(a,"is-collapsed",e[4][e[8].title]),T(o,"class","tree-item-inner nav-folder-title-content svelte-1lnl15d"),T(n,"class","tree-item-self is-clickable nav-folder-title"),T(n,"data-tooltip-position",e[5]),T(n,"aria-label",u=e[8].vaultPath),T(t,"class","tree-item nav-folder"),ce(t,"is-collapsed",e[4][e[8].title])},m(b,S){re(b,t,S),M(t,n),M(n,r),M(n,i),M(n,a),M(n,s),M(n,o),M(o,c),M(t,f),w&&w.m(t,null),M(t,h),d=!0,p||(g=te(n,"click",m),p=!0)},p(b,S){e=b,(!d||S&17)&&ce(a,"is-collapsed",e[4][e[8].title]),(!d||S&1)&&l!==(l=e[8].title+"")&&Me(c,l),(!d||S&32)&&T(n,"data-tooltip-position",e[5]),(!d||S&1&&u!==(u=e[8].vaultPath))&&T(n,"aria-label",u),e[4][e[8].title]?w&&(Ce(),X(w,1,1,()=>{w=null}),Fe()):w?(w.p(e,S),S&17&&U(w,1)):(w=yA(e),w.c(),U(w,1),w.m(t,h)),(!d||S&17)&&ce(t,"is-collapsed",e[4][e[8].title])},i(b){d||(U(w),d=!0)},o(b){X(w),d=!1},d(b){b&&ne(t),w&&w.d(),p=!1,g()}}}function _j(e){let t,n,r,i;return n=new su({props:{diff:e[8].data,view:e[2]}}),{c(){t=I("div"),Ge(n.$$.fragment),r=J()},m(a,s){re(a,t,s),De(n,t,null),M(t,r),i=!0},p(a,s){let o={};s&1&&(o.diff=a[8].data),s&4&&(o.view=a[2]),n.$set(o)},i(a){i||(U(n.$$.fragment,a),i=!0)},o(a){X(n.$$.fragment,a),i=!1},d(a){a&&ne(t),Be(n)}}}function yA(e){let t,n,r,i;return n=new ou({props:{hierarchy:e[8],plugin:e[1],view:e[2]}}),{c(){t=I("div"),Ge(n.$$.fragment),T(t,"class","tree-item-children nav-folder-children")},m(a,s){re(a,t,s),De(n,t,null),i=!0},p(a,s){let o={};s&1&&(o.hierarchy=a[8]),s&2&&(o.plugin=a[1]),s&4&&(o.view=a[2]),n.$set(o)},i(a){i||(U(n.$$.fragment,a),a&&wt(()=>{i&&(r||(r=bt(t,xt,{duration:150},!0)),r.run(1))}),i=!0)},o(a){X(n.$$.fragment,a),a&&(r||(r=bt(t,xt,{duration:150},!1)),r.run(0)),i=!1},d(a){a&&ne(t),Be(n),a&&r&&r.end()}}}function vA(e){let t,n,r,i,a=[_j,xj],s=[];function o(l,c){return l[8].data?0:1}return t=o(e,-1),n=s[t]=a[t](e),{c(){n.c(),r=xa()},m(l,c){s[t].m(l,c),re(l,r,c),i=!0},p(l,c){let u=t;t=o(l,c),t===u?s[t].p(l,c):(Ce(),X(s[u],1,1,()=>{s[u]=null}),Fe(),n=s[t],n?n.p(l,c):(n=s[t]=a[t](l),n.c()),U(n,1),n.m(r.parentNode,r))},i(l){i||(U(n),i=!0)},o(l){X(n),i=!1},d(l){l&&ne(r),s[t].d(l)}}}function Sj(e){let t,n,r=nt(e[0].children),i=[];for(let s=0;s<r.length;s+=1)i[s]=vA(gA(e,r,s));let a=s=>X(i[s],1,1,()=>{i[s]=null});return{c(){t=I("main");for(let s=0;s<i.length;s+=1)i[s].c();T(t,"class","svelte-1lnl15d"),ce(t,"topLevel",e[3])},m(s,o){re(s,t,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);n=!0},p(s,[o]){if(o&119){r=nt(s[0].children);let l;for(l=0;l<r.length;l+=1){let c=gA(s,r,l);i[l]?(i[l].p(c,o),U(i[l],1)):(i[l]=vA(c),i[l].c(),U(i[l],1),i[l].m(t,null))}for(Ce(),l=r.length;l<i.length;l+=1)a(l);Fe()}(!n||o&8)&&ce(t,"topLevel",s[3])},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)X(i[o]);n=!1},d(s){s&&ne(t),ln(i,s)}}}function Ej(e,t,n){let r,{hierarchy:i}=t,{plugin:a}=t,{view:s}=t,{topLevel:o=!1}=t,l={};function c(f){n(4,l[f.title]=!l[f.title],l)}let u=f=>c(f);return e.$$set=f=>{"hierarchy"in f&&n(0,i=f.hierarchy),"plugin"in f&&n(1,a=f.plugin),"view"in f&&n(2,s=f.view),"topLevel"in f&&n(3,o=f.topLevel)},e.$$.update=()=>{e.$$.dirty&4&&n(5,r=s.leaf.getRoot().side=="left"?"right":"left")},[i,a,s,o,l,r,c,u]}var ou=class extends qe{constructor(t){super(),st(this,t,Ej,Sj,at,{hierarchy:0,plugin:1,view:2,topLevel:3},bj)}},wA=ou;function bA(e,t,n){let r=e.slice();return r[9]=t[n],r}function xA(e){let t,n=e[0].refs.join(", ")+"",r;return{c(){t=I("div"),r=Te(n),T(t,"class","git-ref")},m(i,a){re(i,t,a),M(t,r)},p(i,a){a&1&&n!==(n=i[0].refs.join(", ")+"")&&Me(r,n)},d(i){i&&ne(t)}}}function _A(e){let t,n=e[7](e[0])+"",r;return{c(){t=I("div"),r=Te(n),T(t,"class","git-author")},m(i,a){re(i,t,a),M(t,r)},p(i,a){a&1&&n!==(n=i[7](i[0])+"")&&Me(r,n)},d(i){i&&ne(t)}}}function SA(e){let t,n=(0,so.moment)(e[0].date).format(e[3].settings.commitDateFormat)+"",r;return{c(){t=I("div"),r=Te(n),T(t,"class","git-date")},m(i,a){re(i,t,a),M(t,r)},p(i,a){a&9&&n!==(n=(0,so.moment)(i[0].date).format(i[3].settings.commitDateFormat)+"")&&Me(r,n)},d(i){i&&ne(t)}}}function EA(e){let t,n,r,i,a,s=[kj,Aj],o=[];function l(c,u){return c[2]?0:1}return n=l(e,-1),r=o[n]=s[n](e),{c(){t=I("div"),r.c(),T(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Ce(),X(o[f],1,1,()=>{o[f]=null}),Fe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&wt(()=>{a&&(i||(i=bt(t,xt,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=bt(t,xt,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function Aj(e){let t,n,r=nt(e[0].diff.files),i=[];for(let s=0;s<r.length;s+=1)i[s]=AA(bA(e,r,s));let a=s=>X(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=xa()},m(s,o){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,o);re(s,t,o),n=!0},p(s,o){if(o&3){r=nt(s[0].diff.files);let l;for(l=0;l<r.length;l+=1){let c=bA(s,r,l);i[l]?(i[l].p(c,o),U(i[l],1)):(i[l]=AA(c),i[l].c(),U(i[l],1),i[l].m(t.parentNode,t))}for(Ce(),l=r.length;l<i.length;l+=1)a(l);Fe()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)X(i[o]);n=!1},d(s){s&&ne(t),ln(i,s)}}}function kj(e){let t,n;return t=new wA({props:{hierarchy:e[6],plugin:e[3],view:e[1],topLevel:!0}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i&64&&(a.hierarchy=r[6]),i&8&&(a.plugin=r[3]),i&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function AA(e){let t,n;return t=new su({props:{view:e[1],diff:e[9]}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i&2&&(a.view=r[1]),i&1&&(a.diff=r[9]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function Tj(e){var k;let t,n,r,i,a,s,o,l,c,u,f=e[0].message+"",h,d,p,g,m,w,b=e[0].refs.length>0&&xA(e),S=e[3].settings.authorInHistoryView!="hide"&&((k=e[0].author)==null?void 0:k.name)&&_A(e),A=e[3].settings.dateInHistoryView&&SA(e),x=!e[4]&&EA(e);return{c(){var y;t=I("main"),n=I("div"),r=I("div"),i=I("div"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',a=J(),s=I("div"),b&&b.c(),o=J(),S&&S.c(),l=J(),A&&A.c(),c=J(),u=I("div"),h=Te(f),p=J(),x&&x.c(),T(i,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),ce(i,"is-collapsed",e[4]),T(u,"class","tree-item-inner nav-folder-title-content"),T(r,"class","tree-item-self is-clickable nav-folder-title"),T(r,"aria-label",d=`${e[0].refs.length>0?e[0].refs.join(", ")+`
`:""}${(y=e[0].author)==null?void 0:y.name}
${(0,so.moment)(e[0].date).format(e[3].settings.commitDateFormat)}
${e[0].message}`),T(r,"data-tooltip-position",e[5]),T(n,"class","tree-item nav-folder"),ce(n,"is-collapsed",e[4])},m(y,E){re(y,t,E),M(t,n),M(n,r),M(r,i),M(r,a),M(r,s),b&&b.m(s,null),M(s,o),S&&S.m(s,null),M(s,l),A&&A.m(s,null),M(s,c),M(s,u),M(u,h),M(n,p),x&&x.m(n,null),g=!0,m||(w=te(r,"click",e[8]),m=!0)},p(y,[E]){var _,C;(!g||E&16)&&ce(i,"is-collapsed",y[4]),y[0].refs.length>0?b?b.p(y,E):(b=xA(y),b.c(),b.m(s,o)):b&&(b.d(1),b=null),y[3].settings.authorInHistoryView!="hide"&&((_=y[0].author)!=null&&_.name)?S?S.p(y,E):(S=_A(y),S.c(),S.m(s,l)):S&&(S.d(1),S=null),y[3].settings.dateInHistoryView?A?A.p(y,E):(A=SA(y),A.c(),A.m(s,c)):A&&(A.d(1),A=null),(!g||E&1)&&f!==(f=y[0].message+"")&&Me(h,f),(!g||E&9&&d!==(d=`${y[0].refs.length>0?y[0].refs.join(", ")+`
`:""}${(C=y[0].author)==null?void 0:C.name}
${(0,so.moment)(y[0].date).format(y[3].settings.commitDateFormat)}
${y[0].message}`))&&T(r,"aria-label",d),(!g||E&32)&&T(r,"data-tooltip-position",y[5]),y[4]?x&&(Ce(),X(x,1,1,()=>{x=null}),Fe()):x?(x.p(y,E),E&16&&U(x,1)):(x=EA(y),x.c(),U(x,1),x.m(n,null)),(!g||E&16)&&ce(n,"is-collapsed",y[4])},i(y){g||(U(x),g=!0)},o(y){X(x),g=!1},d(y){y&&ne(t),b&&b.d(),S&&S.d(),A&&A.d(),x&&x.d(),m=!1,w()}}}function Cj(e,t,n){let r,i,{log:a}=t,{view:s}=t,{showTree:o}=t,{plugin:l}=t,c=!0;function u(h){let d=h.author.name;if(l.settings.authorInHistoryView=="full")return d;if(l.settings.authorInHistoryView=="initials")return d.split(" ").filter(g=>g.length>0).map(g=>g[0].toUpperCase()).join("")}let f=()=>n(4,c=!c);return e.$$set=h=>{"log"in h&&n(0,a=h.log),"view"in h&&n(1,s=h.view),"showTree"in h&&n(2,o=h.showTree),"plugin"in h&&n(3,l=h.plugin)},e.$$.update=()=>{e.$$.dirty&9&&n(6,r={title:"",path:"",vaultPath:"",children:l.gitManager.getTreeStructure(a.diff.files)}),e.$$.dirty&2&&n(5,i=s.leaf.getRoot().side=="left"?"right":"left")},[a,s,o,l,c,i,r,u,f]}var im=class extends qe{constructor(t){super(),st(this,t,Cj,Tj,at,{log:0,view:1,showTree:2,plugin:3})}},kA=im;function TA(e,t,n){let r=e.slice();return r[13]=t[n],r}function CA(e){let t,n,r=nt(e[6]),i=[];for(let s=0;s<r.length;s+=1)i[s]=FA(TA(e,r,s));let a=s=>X(i[s],1,1,()=>{i[s]=null});return{c(){t=I("div");for(let s=0;s<i.length;s+=1)i[s].c();T(t,"class","tree-item nav-folder mod-root")},m(s,o){re(s,t,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);n=!0},p(s,o){if(o&71){r=nt(s[6]);let l;for(l=0;l<r.length;l+=1){let c=TA(s,r,l);i[l]?(i[l].p(c,o),U(i[l],1)):(i[l]=FA(c),i[l].c(),U(i[l],1),i[l].m(t,null))}for(Ce(),l=r.length;l<i.length;l+=1)a(l);Fe()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)X(i[o]);n=!1},d(s){s&&ne(t),ln(i,s)}}}function FA(e){let t,n;return t=new kA({props:{view:e[1],showTree:e[2],log:e[13],plugin:e[0]}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i&2&&(a.view=r[1]),i&4&&(a.showTree=r[2]),i&64&&(a.log=r[13]),i&1&&(a.plugin=r[0]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function Fj(e){let t,n,r,i,a,s,o,l,c,u,f,h=e[6]&&CA(e);return{c(){t=I("main"),n=I("div"),r=I("div"),i=I("div"),a=J(),s=I("div"),o=J(),l=I("div"),h&&h.c(),T(i,"id","layoutChange"),T(i,"class","clickable-icon nav-action-button"),T(i,"aria-label","Change Layout"),T(s,"id","refresh"),T(s,"class","clickable-icon nav-action-button"),T(s,"data-icon","refresh-cw"),T(s,"aria-label","Refresh"),Yt(s,"margin","1px"),ce(s,"loading",e[4]),T(r,"class","nav-buttons-container"),T(n,"class","nav-header"),T(l,"class","nav-files-container"),Yt(l,"position","relative")},m(d,p){re(d,t,p),M(t,n),M(n,r),M(r,i),e[8](i),M(r,a),M(r,s),e[10](s),M(t,o),M(t,l),h&&h.m(l,null),c=!0,u||(f=[te(i,"click",e[9]),te(s,"click",e[7])],u=!0)},p(d,[p]){(!c||p&16)&&ce(s,"loading",d[4]),d[6]?h?(h.p(d,p),p&64&&U(h,1)):(h=CA(d),h.c(),U(h,1),h.m(l,null)):h&&(Ce(),X(h,1,1,()=>{h=null}),Fe())},i(d){c||(U(h),c=!0)},o(d){X(h),c=!1},d(d){d&&ne(t),e[8](null),e[10](null),h&&h.d(),u=!1,ke(f)}}}function Pj(e,t,n){let{plugin:r}=t,{view:i}=t,a,s=[],o,l=r.settings.treeStructure,c,u;c=i.app.workspace.on("obsidian-git:view-refresh",()=>void h().catch(console.error)),h().catch(console.error),r.app.workspace.onLayoutReady(()=>{window.setTimeout(()=>{s.forEach(m=>(0,lu.setIcon)(m,m.getAttr("data-icon"))),(0,lu.setIcon)(u,l?"list":"folder")},0)}),io(()=>{i.app.workspace.offref(c)});function f(){i.app.workspace.trigger("obsidian-git:refresh")}function h(){return Ea(this,void 0,void 0,function*(){if(!r.gitReady){n(6,o=void 0);return}n(4,a=!0);let m=r.gitManager instanceof Le;n(6,o=yield r.gitManager.log(void 0,!1,m?50:10)),n(4,a=!1)})}function d(m){je[m?"unshift":"push"](()=>{u=m,n(3,u)})}let p=()=>{n(2,l=!l),n(0,r.settings.treeStructure=l,r),r.saveSettings()};function g(m){je[m?"unshift":"push"](()=>{s[6]=m,n(5,s)})}return e.$$set=m=>{"plugin"in m&&n(0,r=m.plugin),"view"in m&&n(1,i=m.view)},e.$$.update=()=>{e.$$.dirty&12&&u&&(u.empty(),(0,lu.setIcon)(u,l?"list":"folder"))},[r,i,l,u,a,s,o,f,d,p,g]}var am=class extends qe{constructor(t){super(),st(this,t,Pj,Fj,at,{plugin:0,view:1})}},PA=am;var oo=class extends MA.ItemView{constructor(t,n){super(t),this.plugin=n,this.hoverPopover=null}getViewType(){return nn.type}getDisplayText(){return nn.name}getIcon(){return nn.icon}onClose(){var t;return(t=this._view)==null||t.$destroy(),super.onClose()}reload(){var t;(t=this._view)==null||t.$destroy(),this._view=new PA({target:this.contentEl,props:{plugin:this.plugin,view:this}})}onOpen(){return this.reload(),super.onOpen()}};v();var OA=require("obsidian"),cu=class extends OA.FuzzySuggestModal{constructor(n,r){super(n.app);this.branches=r;this.setPlaceholder("Select branch to checkout")}getItems(){return this.branches}getItemText(n){return n}onChooseItem(n,r){this.resolve(n)}openAndGetReslt(){return new Promise(n=>{this.resolve=n,this.open()})}onClose(){new Promise(n=>setTimeout(n,10)).then(()=>{this.resolve&&this.resolve(void 0)})}};v();var tk=require("obsidian");v();var Fa=require("obsidian");v();var IA=require("obsidian"),Tr=class extends IA.Modal{constructor(n,r,i){super(n);this.deletion=r;this.filename=i;this.resolve=null}myOpen(){return this.open(),new Promise(n=>{this.resolve=n})}onOpen(){let{contentEl:n,titleEl:r}=this;r.setText(`${this.deletion?"Delete":"Discard"} this file?`),n.createEl("p").setText(`Do you really want to ${this.deletion?"delete":"discard the changes of"} "${this.filename}"`);let i=n.createDiv({cls:"modal-button-container"}),a=i.createEl("button",{cls:"mod-warning",text:this.deletion?"Delete":"Discard"});a.addEventListener("click",()=>{this.resolve&&this.resolve(!0),this.close()}),a.addEventListener("keypress",()=>{this.resolve&&this.resolve(!0),this.close()});let s=i.createEl("button",{text:"Cancel"});s.addEventListener("click",()=>(this.resolve&&this.resolve(!1),this.close())),s.addEventListener("keypress",()=>(this.resolve&&this.resolve(!1),this.close()))}onClose(){let{contentEl:n}=this;n.empty()}};v();var ka=require("obsidian");v();v();var Mj=Xe(RA()),Cr=require("obsidian");function oi(e,t,n){let r=e.target;app.workspace.trigger("hover-link",{event:e,source:t.getViewType(),hoverParent:t,targetEl:r,linktext:n})}function Oj(e){Nt(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function LA(e){let t,n,r;return{c(){t=I("div"),T(t,"data-icon","go-to-file"),T(t,"aria-label","Open File"),T(t,"class","clickable-icon")},m(i,a){re(i,t,a),e[11](t),n||(r=[te(t,"auxclick",xe(e[5])),te(t,"click",xe(e[5]))],n=!0)},p:Ae,d(i){i&&ne(t),e[11](null),n=!1,ke(r)}}}function Ij(e){let t,n,r,i=Bt(e[0].vault_path)+"",a,s,o,l,c=e[1].app.vault.getAbstractFileByPath(e[0].vault_path)instanceof ka.TFile,u,f,h,d,p,g,m=e[0].working_dir+"",w,b,S,A,x,k,y=c&&LA(e);return{c(){var E,_,C;t=I("main"),n=I("div"),r=I("div"),a=Te(i),s=J(),o=I("div"),l=I("div"),y&&y.c(),u=J(),f=I("div"),h=J(),d=I("div"),p=J(),g=I("div"),w=Te(m),T(r,"class","tree-item-inner nav-file-title-content"),T(f,"data-icon","undo"),T(f,"aria-label","Discard"),T(f,"class","clickable-icon"),T(d,"data-icon","plus"),T(d,"aria-label","Stage"),T(d,"class","clickable-icon"),T(l,"class","buttons"),T(g,"class","type"),T(g,"data-type",b=e[0].working_dir),T(o,"class","git-tools"),T(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),T(n,"data-path",S=e[0].vault_path),T(n,"data-tooltip-position",e[3]),T(n,"aria-label",A=e[0].vault_path),ce(n,"is-active",((E=e[1].plugin.lastDiffViewState)==null?void 0:E.file)==e[0].vault_path&&!((_=e[1].plugin.lastDiffViewState)!=null&&_.hash)&&!((C=e[1].plugin.lastDiffViewState)!=null&&C.staged)),T(t,"class","tree-item nav-file svelte-1wbh8tp")},m(E,_){re(E,t,_),M(t,n),M(n,r),M(r,a),M(n,s),M(n,o),M(o,l),y&&y.m(l,null),M(l,u),M(l,f),e[12](f),M(l,h),M(l,d),e[13](d),M(o,p),M(o,g),M(g,w),x||(k=[te(f,"click",xe(e[8])),te(d,"click",xe(e[6])),te(t,"mouseover",e[4]),te(t,"click",xe(e[7])),te(t,"auxclick",xe(e[14])),te(t,"focus",e[10])],x=!0)},p(E,[_]){var C,P,L;_&1&&i!==(i=Bt(E[0].vault_path)+"")&&Me(a,i),_&3&&(c=E[1].app.vault.getAbstractFileByPath(E[0].vault_path)instanceof ka.TFile),c?y?y.p(E,_):(y=LA(E),y.c(),y.m(l,u)):y&&(y.d(1),y=null),_&1&&m!==(m=E[0].working_dir+"")&&Me(w,m),_&1&&b!==(b=E[0].working_dir)&&T(g,"data-type",b),_&1&&S!==(S=E[0].vault_path)&&T(n,"data-path",S),_&8&&T(n,"data-tooltip-position",E[3]),_&1&&A!==(A=E[0].vault_path)&&T(n,"aria-label",A),_&3&&ce(n,"is-active",((C=E[1].plugin.lastDiffViewState)==null?void 0:C.file)==E[0].vault_path&&!((P=E[1].plugin.lastDiffViewState)!=null&&P.hash)&&!((L=E[1].plugin.lastDiffViewState)!=null&&L.staged))},i:Ae,o:Ae,d(E){E&&ne(t),y&&y.d(),e[12](null),e[13](null),x=!1,ke(k)}}}function Rj(e,t,n){let r,{change:i}=t,{view:a}=t,{manager:s}=t,o=[];window.setTimeout(()=>o.forEach(b=>(0,ka.setIcon)(b,b.getAttr("data-icon"))),0);function l(b){a.app.vault.getAbstractFileByPath(i.vault_path)&&oi(b,a,i.vault_path)}function c(b){var S;let A=a.app.vault.getAbstractFileByPath(i.vault_path);A instanceof ka.TFile&&((S=Xt(a.app,b))===null||S===void 0||S.openFile(A).catch(x=>a.plugin.displayError(x)))}function u(){s.stage(i.path,!1).catch(b=>a.plugin.displayError(b)).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")})}function f(b){var S;(S=Xt(a.app,b))===null||S===void 0||S.setViewState({type:Ct.type,active:!0,state:{file:i.path,staged:!1}})}function h(){let b=i.working_dir=="U";new Tr(a.app,b,i.vault_path).myOpen().then(S=>{if(S===!0)return b?a.app.vault.adapter.remove(i.vault_path).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")}):s.discard(i.path).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")})},S=>a.plugin.displayError(S))}function d(b){kr.call(this,e,b)}function p(b){je[b?"unshift":"push"](()=>{o[1]=b,n(2,o)})}function g(b){je[b?"unshift":"push"](()=>{o[0]=b,n(2,o)})}function m(b){je[b?"unshift":"push"](()=>{o[2]=b,n(2,o)})}let w=b=>{b.button==2?In(a.app,b,i.vault_path,a.leaf,"git-source-control"):f(b)};return e.$$set=b=>{"change"in b&&n(0,i=b.change),"view"in b&&n(1,a=b.view),"manager"in b&&n(9,s=b.manager)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,o,r,l,c,u,f,h,s,d,p,g,m,w]}var om=class extends qe{constructor(t){super(),st(this,t,Rj,Ij,at,{change:0,view:1,manager:9},Oj)}},uu=om;v();var jA=require("obsidian");function Lj(e){Nt(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function jj(e){let t,n,r,i=Bt(e[0].vault_path)+"",a,s,o,l,c=e[0].working_dir+"",u,f,h,d,p,g;return{c(){t=I("main"),n=I("div"),r=I("div"),a=Te(i),s=J(),o=I("div"),l=I("span"),u=Te(c),T(r,"class","tree-item-inner nav-file-title-content"),T(l,"class","type"),T(l,"data-type",f=e[0].working_dir),T(o,"class","git-tools"),T(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),T(n,"data-path",h=e[0].vault_path),T(n,"data-tooltip-position",e[2]),T(n,"aria-label",d=e[0].vault_path),T(t,"class","tree-item nav-file svelte-1wbh8tp")},m(m,w){re(m,t,w),M(t,n),M(n,r),M(r,a),M(n,s),M(n,o),M(o,l),M(l,u),p||(g=[te(t,"mouseover",e[3]),te(t,"click",xe(e[4])),te(t,"auxclick",xe(e[6])),te(t,"focus",e[5])],p=!0)},p(m,[w]){w&1&&i!==(i=Bt(m[0].vault_path)+"")&&Me(a,i),w&1&&c!==(c=m[0].working_dir+"")&&Me(u,c),w&1&&f!==(f=m[0].working_dir)&&T(l,"data-type",f),w&1&&h!==(h=m[0].vault_path)&&T(n,"data-path",h),w&4&&T(n,"data-tooltip-position",m[2]),w&1&&d!==(d=m[0].vault_path)&&T(n,"aria-label",d)},i:Ae,o:Ae,d(m){m&&ne(t),p=!1,ke(g)}}}function Dj(e,t,n){let r,{change:i}=t,{view:a}=t;function s(u){a.app.vault.getAbstractFileByPath(i.vault_path)&&oi(u,a,i.vault_path)}function o(u){var f;let h=a.app.vault.getAbstractFileByPath(i.vault_path);h instanceof jA.TFile&&((f=Xt(a.app,u))===null||f===void 0||f.openFile(h).catch(d=>a.plugin.displayError(d)))}function l(u){kr.call(this,e,u)}let c=u=>{u.button==2?In(a.app,u,i.vault_path,a.leaf,"git-source-control"):o(u)};return e.$$set=u=>{"change"in u&&n(0,i=u.change),"view"in u&&n(1,a=u.view)},e.$$.update=()=>{e.$$.dirty&2&&n(2,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,r,s,o,l,c]}var lm=class extends qe{constructor(t){super(),st(this,t,Dj,jj,at,{change:0,view:1},Lj)}},fu=lm;v();var Ta=require("obsidian");function Bj(e){Nt(e,"svelte-1wbh8tp","main.svelte-1wbh8tp .nav-file-title.svelte-1wbh8tp{align-items:center}")}function DA(e){let t,n,r;return{c(){t=I("div"),T(t,"data-icon","go-to-file"),T(t,"aria-label","Open File"),T(t,"class","clickable-icon")},m(i,a){re(i,t,a),e[10](t),n||(r=te(t,"click",xe(e[5])),n=!0)},p:Ae,d(i){i&&ne(t),e[10](null),n=!1,r()}}}function Nj(e){let t,n,r,i=Bt(e[0].vault_path)+"",a,s,o,l,c=e[1].app.vault.getAbstractFileByPath(e[0].vault_path)instanceof Ta.TFile,u,f,h,d,p=e[0].index+"",g,m,w,b,S,A,x=c&&DA(e);return{c(){var k,y,E;t=I("main"),n=I("div"),r=I("div"),a=Te(i),s=J(),o=I("div"),l=I("div"),x&&x.c(),u=J(),f=I("div"),h=J(),d=I("div"),g=Te(p),T(r,"class","tree-item-inner nav-file-title-content"),T(f,"data-icon","minus"),T(f,"aria-label","Unstage"),T(f,"class","clickable-icon"),T(l,"class","buttons"),T(d,"class","type"),T(d,"data-type",m=e[0].index),T(o,"class","git-tools"),T(n,"class","tree-item-self is-clickable nav-file-title svelte-1wbh8tp"),T(n,"data-path",w=e[0].vault_path),T(n,"data-tooltip-position",e[3]),T(n,"aria-label",b=e[0].vault_path),ce(n,"is-active",((k=e[1].plugin.lastDiffViewState)==null?void 0:k.file)==e[0].vault_path&&!((y=e[1].plugin.lastDiffViewState)!=null&&y.hash)&&((E=e[1].plugin.lastDiffViewState)==null?void 0:E.staged)),T(t,"class","tree-item nav-file svelte-1wbh8tp")},m(k,y){re(k,t,y),M(t,n),M(n,r),M(r,a),M(n,s),M(n,o),M(o,l),x&&x.m(l,null),M(l,u),M(l,f),e[11](f),M(o,h),M(o,d),M(d,g),S||(A=[te(f,"click",xe(e[7])),te(t,"mouseover",e[4]),te(t,"focus",e[9]),te(t,"click",xe(e[6])),te(t,"auxclick",xe(e[12]))],S=!0)},p(k,[y]){var E,_,C;y&1&&i!==(i=Bt(k[0].vault_path)+"")&&Me(a,i),y&3&&(c=k[1].app.vault.getAbstractFileByPath(k[0].vault_path)instanceof Ta.TFile),c?x?x.p(k,y):(x=DA(k),x.c(),x.m(l,u)):x&&(x.d(1),x=null),y&1&&p!==(p=k[0].index+"")&&Me(g,p),y&1&&m!==(m=k[0].index)&&T(d,"data-type",m),y&1&&w!==(w=k[0].vault_path)&&T(n,"data-path",w),y&8&&T(n,"data-tooltip-position",k[3]),y&1&&b!==(b=k[0].vault_path)&&T(n,"aria-label",b),y&3&&ce(n,"is-active",((E=k[1].plugin.lastDiffViewState)==null?void 0:E.file)==k[0].vault_path&&!((_=k[1].plugin.lastDiffViewState)!=null&&_.hash)&&((C=k[1].plugin.lastDiffViewState)==null?void 0:C.staged))},i:Ae,o:Ae,d(k){k&&ne(t),x&&x.d(),e[11](null),S=!1,ke(A)}}}function $j(e,t,n){let r,{change:i}=t,{view:a}=t,{manager:s}=t,o=[];window.setTimeout(()=>o.forEach(m=>(0,Ta.setIcon)(m,m.getAttr("data-icon"))),0);function l(m){a.app.vault.getFileByPath(i.vault_path)&&oi(m,a,i.vault_path)}function c(m){var w;let b=a.app.vault.getAbstractFileByPath(i.vault_path);b instanceof Ta.TFile&&((w=Xt(a.app,m))===null||w===void 0||w.openFile(b).catch(S=>a.plugin.displayError(S)))}function u(m){var w;(w=Xt(a.app,m))===null||w===void 0||w.setViewState({type:Ct.type,active:!0,state:{file:i.path,staged:!0}})}function f(){s.unstage(i.path,!1).catch(m=>a.plugin.displayError(m)).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")})}function h(m){kr.call(this,e,m)}function d(m){je[m?"unshift":"push"](()=>{o[1]=m,n(2,o)})}function p(m){je[m?"unshift":"push"](()=>{o[0]=m,n(2,o)})}let g=m=>{m.button==2?In(a.app,m,i.vault_path,a.leaf,"git-source-control"):u(m)};return e.$$set=m=>{"change"in m&&n(0,i=m.change),"view"in m&&n(1,a=m.view),"manager"in m&&n(8,s=m.manager)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=a.leaf.getRoot().side=="left"?"right":"left")},[i,a,o,r,l,c,u,f,s,h,d,p,g]}var cm=class extends qe{constructor(t){super(),st(this,t,$j,Nj,at,{change:0,view:1,manager:8},Bj)}},hu=cm;v();v();function BA(e){let t,n,r,i="And "+(e[0].length-500)+" more files",a,s;return{c(){t=I("div"),n=I("div"),r=I("div"),a=Te(i),T(r,"class","tree-item-inner nav-file-title-content"),T(n,"class","tree-item-self nav-file-title"),T(n,"aria-label",s="And "+(e[0].length-500)+" more files"),T(t,"class","tree-item nav-file")},m(o,l){re(o,t,l),M(t,n),M(n,r),M(r,a)},p(o,l){l&1&&i!==(i="And "+(o[0].length-500)+" more files")&&Me(a,i),l&1&&s!==(s="And "+(o[0].length-500)+" more files")&&T(n,"aria-label",s)},d(o){o&&ne(t)}}}function Hj(e){let t,n=e[0].length>500&&BA(e);return{c(){t=I("main"),n&&n.c()},m(r,i){re(r,t,i),n&&n.m(t,null)},p(r,[i]){r[0].length>500?n?n.p(r,i):(n=BA(r),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:Ae,o:Ae,d(r){r&&ne(t),n&&n.d()}}}function Uj(e,t,n){let{files:r}=t;return e.$$set=i=>{"files"in i&&n(0,r=i.files)},[r]}var um=class extends qe{constructor(t){super(),st(this,t,Uj,Hj,at,{files:0})}},Ca=um;function zj(e){Nt(e,"svelte-hup5mn","main.svelte-hup5mn .nav-folder-title.svelte-hup5mn{align-items:center}")}function NA(e,t,n){let r=e.slice();return r[18]=t[n],r}function Vj(e){let t,n,r,i,a,s,o,l=e[18].title+"",c,u,f,h,d,p,g,m,w,b,S;function A(C,P){return C[3]==0?Xj:qj}let x=A(e,-1),k=x(e),y=!e[5][e[18].title]&&$A(e);function E(){return e[14](e[18])}function _(...C){return e[15](e[18],...C)}return{c(){t=I("div"),n=I("div"),r=I("div"),i=J(),a=I("div"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',s=J(),o=I("div"),c=Te(l),u=J(),f=I("div"),h=I("div"),k.c(),d=J(),p=I("div"),m=J(),y&&y.c(),T(r,"data-icon","folder"),Yt(r,"padding-right","5px"),Yt(r,"display","flex"),T(a,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),ce(a,"is-collapsed",e[5][e[18].title]),T(o,"class","tree-item-inner nav-folder-title-content"),Yt(p,"width","11px"),T(h,"class","buttons"),T(f,"class","git-tools"),T(n,"class","tree-item-self is-clickable nav-folder-title svelte-hup5mn"),T(n,"data-tooltip-position",e[6]),T(n,"aria-label",g=e[18].vaultPath),T(t,"class","tree-item nav-folder"),ce(t,"is-collapsed",e[5][e[18].title])},m(C,P){re(C,t,P),M(t,n),M(n,r),M(n,i),M(n,a),M(n,s),M(n,o),M(o,c),M(n,u),M(n,f),M(f,h),k.m(h,null),M(h,d),M(h,p),M(t,m),y&&y.m(t,null),w=!0,b||(S=[te(t,"click",xe(E)),te(t,"auxclick",xe(_))],b=!0)},p(C,P){e=C,(!w||P&33)&&ce(a,"is-collapsed",e[5][e[18].title]),(!w||P&1)&&l!==(l=e[18].title+"")&&Me(c,l),x===(x=A(e,P))&&k?k.p(e,P):(k.d(1),k=x(e),k&&(k.c(),k.m(h,d))),(!w||P&64)&&T(n,"data-tooltip-position",e[6]),(!w||P&1&&g!==(g=e[18].vaultPath))&&T(n,"aria-label",g),e[5][e[18].title]?y&&(Ce(),X(y,1,1,()=>{y=null}),Fe()):y?(y.p(e,P),P&33&&U(y,1)):(y=$A(e),y.c(),U(y,1),y.m(t,null)),(!w||P&33)&&ce(t,"is-collapsed",e[5][e[18].title])},i(C){w||(U(y),w=!0)},o(C){X(y),w=!1},d(C){C&&ne(t),k.d(),y&&y.d(),b=!1,ke(S)}}}function Wj(e){let t,n,r,i,a=[Kj,Zj,Yj],s=[];function o(l,c){return l[3]==0?0:l[3]==1?1:l[3]==2?2:-1}return~(n=o(e,-1))&&(r=s[n]=a[n](e)),{c(){t=I("div"),r&&r.c()},m(l,c){re(l,t,c),~n&&s[n].m(t,null),i=!0},p(l,c){let u=n;n=o(l,c),n===u?~n&&s[n].p(l,c):(r&&(Ce(),X(s[u],1,1,()=>{s[u]=null}),Fe()),~n?(r=s[n],r?r.p(l,c):(r=s[n]=a[n](l),r.c()),U(r,1),r.m(t,null)):r=null)},i(l){i||(U(r),i=!0)},o(l){X(r),i=!1},d(l){l&&ne(t),~n&&s[n].d()}}}function qj(e){let t,n,r,i,a;function s(){return e[12](e[18])}function o(){return e[13](e[18])}return{c(){t=I("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-undo"><path d="M3 7v6h6"></path><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"></path></svg>',n=J(),r=I("div"),r.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-plus"><line x1="9" y1="4" x2="9" y2="14"></line><line x1="4" y1="9" x2="14" y2="9"></line></svg>',T(t,"data-icon","undo"),T(t,"aria-label","Discard"),T(t,"class","clickable-icon"),T(r,"data-icon","plus"),T(r,"aria-label","Stage"),T(r,"class","clickable-icon")},m(l,c){re(l,t,c),re(l,n,c),re(l,r,c),i||(a=[te(t,"click",xe(s)),te(r,"click",xe(o))],i=!0)},p(l,c){e=l},d(l){l&&(ne(t),ne(n),ne(r)),i=!1,ke(a)}}}function Xj(e){let t,n,r;function i(){return e[11](e[18])}return{c(){t=I("div"),t.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-minus"><line x1="4" y1="9" x2="14" y2="9"></line></svg>',T(t,"data-icon","minus"),T(t,"aria-label","Unstage"),T(t,"class","clickable-icon")},m(a,s){re(a,t,s),n||(r=te(t,"click",xe(i)),n=!0)},p(a,s){e=a},d(a){a&&ne(t),n=!1,r()}}}function $A(e){let t,n,r,i;return n=new du({props:{hierarchy:e[18],plugin:e[1],view:e[2],fileType:e[3]}}),{c(){t=I("div"),Ge(n.$$.fragment),T(t,"class","tree-item-children nav-folder-children")},m(a,s){re(a,t,s),De(n,t,null),i=!0},p(a,s){let o={};s&1&&(o.hierarchy=a[18]),s&2&&(o.plugin=a[1]),s&4&&(o.view=a[2]),s&8&&(o.fileType=a[3]),n.$set(o)},i(a){i||(U(n.$$.fragment,a),a&&wt(()=>{i&&(r||(r=bt(t,xt,{duration:150},!0)),r.run(1))}),i=!0)},o(a){X(n.$$.fragment,a),a&&(r||(r=bt(t,xt,{duration:150},!1)),r.run(0)),i=!1},d(a){a&&ne(t),Be(n),a&&r&&r.end()}}}function Yj(e){let t,n;return t=new fu({props:{change:e[18].data,view:e[2]}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i&1&&(a.change=r[18].data),i&4&&(a.view=r[2]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function Zj(e){let t,n;return t=new uu({props:{change:e[18].data,manager:e[1].gitManager,view:e[2]}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i&1&&(a.change=r[18].data),i&2&&(a.manager=r[1].gitManager),i&4&&(a.view=r[2]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function Kj(e){let t,n;return t=new hu({props:{change:e[18].data,manager:e[1].gitManager,view:e[2]}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i&1&&(a.change=r[18].data),i&2&&(a.manager=r[1].gitManager),i&4&&(a.view=r[2]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function HA(e){let t,n,r,i,a=[Wj,Vj],s=[];function o(l,c){return l[18].data?0:1}return t=o(e,-1),n=s[t]=a[t](e),{c(){n.c(),r=xa()},m(l,c){s[t].m(l,c),re(l,r,c),i=!0},p(l,c){let u=t;t=o(l,c),t===u?s[t].p(l,c):(Ce(),X(s[u],1,1,()=>{s[u]=null}),Fe(),n=s[t],n?n.p(l,c):(n=s[t]=a[t](l),n.c()),U(n,1),n.m(r.parentNode,r))},i(l){i||(U(n),i=!0)},o(l){X(n),i=!1},d(l){l&&ne(r),s[t].d(l)}}}function Jj(e){let t,n,r,i,a=nt(br(e[0].children,500)),s=[];for(let l=0;l<a.length;l+=1)s[l]=HA(NA(e,a,l));let o=l=>X(s[l],1,1,()=>{s[l]=null});return r=new Ca({props:{files:e[0].children}}),{c(){t=I("main");for(let l=0;l<s.length;l+=1)s[l].c();n=J(),Ge(r.$$.fragment),T(t,"class","svelte-hup5mn"),ce(t,"topLevel",e[4])},m(l,c){re(l,t,c);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);M(t,n),De(r,t,null),i=!0},p(l,[c]){if(c&2031){a=nt(br(l[0].children,500));let f;for(f=0;f<a.length;f+=1){let h=NA(l,a,f);s[f]?(s[f].p(h,c),U(s[f],1)):(s[f]=HA(h),s[f].c(),U(s[f],1),s[f].m(t,n))}for(Ce(),f=a.length;f<s.length;f+=1)o(f);Fe()}let u={};c&1&&(u.files=l[0].children),r.$set(u),(!i||c&16)&&ce(t,"topLevel",l[4])},i(l){if(!i){for(let c=0;c<a.length;c+=1)U(s[c]);U(r.$$.fragment,l),i=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)X(s[c]);X(r.$$.fragment,l),i=!1},d(l){l&&ne(t),ln(s,l),Be(r)}}}function Qj(e,t,n){let r;var i,a;let{hierarchy:s}=t,{plugin:o}=t,{view:l}=t,{fileType:c}=t,{topLevel:u=!1}=t,f={};for(let x of s.children)f[x.title]=((a=(i=x.children)===null||i===void 0?void 0:i.length)!==null&&a!==void 0?a:0)>100;function h(x){o.gitManager.stageAll({dir:x}).catch(k=>o.displayError(k)).finally(()=>{l.app.workspace.trigger("obsidian-git:refresh")})}function d(x){o.gitManager.unstageAll({dir:x}).catch(k=>o.displayError(k)).finally(()=>{l.app.workspace.trigger("obsidian-git:refresh")})}function p(x){new Tr(l.app,!1,x.vaultPath).myOpen().then(k=>{if(k===!0)return o.gitManager.discardAll({dir:x.path,status:o.cachedStatus}).finally(()=>{l.app.workspace.trigger("obsidian-git:refresh")})},k=>o.displayError(k))}function g(x){n(5,f[x.title]=!f[x.title],f)}let m=x=>d(x.path),w=x=>p(x),b=x=>h(x.path),S=x=>g(x),A=(x,k)=>In(l.app,k,x.vaultPath,l.leaf,"git-source-control");return e.$$set=x=>{"hierarchy"in x&&n(0,s=x.hierarchy),"plugin"in x&&n(1,o=x.plugin),"view"in x&&n(2,l=x.view),"fileType"in x&&n(3,c=x.fileType),"topLevel"in x&&n(4,u=x.topLevel)},e.$$.update=()=>{e.$$.dirty&4&&n(6,r=l.leaf.getRoot().side=="left"?"right":"left")},[s,o,l,c,u,f,r,h,d,p,g,m,w,b,S,A]}var du=class extends qe{constructor(t){super(),st(this,t,Qj,Jj,at,{hierarchy:0,plugin:1,view:2,fileType:3,topLevel:4},zj)}},pu=du;function eD(e){Nt(e,"svelte-11adhly",`.commit-msg-input.svelte-11adhly.svelte-11adhly{width:100%;overflow:hidden;resize:none;padding:7px 5px;background-color:var(--background-modifier-form-field)}.git-commit-msg.svelte-11adhly.svelte-11adhly{position:relative;padding:0;width:calc(100% - var(--size-4-8));margin:4px auto}main.svelte-11adhly .git-tools .files-count.svelte-11adhly{padding-left:var(--size-2-1);width:11px;display:flex;align-items:center;justify-content:center}.nav-folder-title.svelte-11adhly.svelte-11adhly{align-items:center}.git-commit-msg-clear-button.svelte-11adhly.svelte-11adhly{position:absolute;background:transparent;border-radius:50%;color:var(--search-clear-button-color);cursor:var(--cursor);top:-4px;right:2px;bottom:0px;line-height:0;height:var(--input-height);width:28px;margin:auto;padding:0 0;text-align:center;display:flex;justify-content:center;align-items:center;transition:color 0.15s ease-in-out}.git-commit-msg-clear-button.svelte-11adhly.svelte-11adhly:after{content:"";height:var(--search-clear-button-size);width:var(--search-clear-button-size);display:block;background-color:currentColor;mask-image:url("data:image/svg+xml,<svg viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12ZM3.8705 3.09766L6.00003 5.22718L8.12955 3.09766L8.9024 3.8705L6.77287 6.00003L8.9024 8.12955L8.12955 8.9024L6.00003 6.77287L3.8705 8.9024L3.09766 8.12955L5.22718 6.00003L3.09766 3.8705L3.8705 3.09766Z' fill='currentColor'/></svg>");mask-repeat:no-repeat;-webkit-mask-image:url("data:image/svg+xml,<svg viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12ZM3.8705 3.09766L6.00003 5.22718L8.12955 3.09766L8.9024 3.8705L6.77287 6.00003L8.9024 8.12955L8.12955 8.9024L6.00003 6.77287L3.8705 8.9024L3.09766 8.12955L5.22718 6.00003L3.09766 3.8705L3.8705 3.09766Z' fill='currentColor'/></svg>");-webkit-mask-repeat:no-repeat}`)}function UA(e,t,n){let r=e.slice();return r[42]=t[n],r}function GA(e,t,n){let r=e.slice();return r[42]=t[n],r}function zA(e,t,n){let r=e.slice();return r[47]=t[n],r}function VA(e){let t,n,r,i;return{c(){t=I("div"),T(t,"class","git-commit-msg-clear-button svelte-11adhly"),T(t,"aria-label",n="Clear")},m(a,s){re(a,t,s),r||(i=te(t,"click",e[34]),r=!0)},p:Ae,d(a){a&&ne(t),r=!1,i()}}}function WA(e){let t,n,r,i,a,s,o,l,c,u,f,h,d=e[6].staged.length+"",p,g,m,w,b,S,A,x,k,y,E,_,C,P,L,N,j=e[6].changed.length+"",Y,le,he,ae,Pe,de,$=e[13]&&qA(e),z=e[12]&&YA(e),D=e[7].length>0&&KA(e);return{c(){t=I("div"),n=I("div"),r=I("div"),i=I("div"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',a=J(),s=I("div"),s.textContent="Staged Changes",o=J(),l=I("div"),c=I("div"),u=I("div"),u.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-minus"><line x1="4" y1="9" x2="14" y2="9"></line></svg>',f=J(),h=I("div"),p=Te(d),g=J(),$&&$.c(),m=J(),w=I("div"),b=I("div"),S=I("div"),S.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',A=J(),x=I("div"),x.textContent="Changes",k=J(),y=I("div"),E=I("div"),_=I("div"),_.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-undo"><path d="M3 7v6h6"></path><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"></path></svg>',C=J(),P=I("div"),P.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',L=J(),N=I("div"),Y=Te(j),le=J(),z&&z.c(),he=J(),D&&D.c(),T(i,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),ce(i,"is-collapsed",!e[13]),T(s,"class","tree-item-inner nav-folder-title-content"),T(u,"data-icon","minus"),T(u,"aria-label","Unstage"),T(u,"class","clickable-icon"),T(c,"class","buttons"),T(h,"class","files-count svelte-11adhly"),T(l,"class","git-tools"),T(r,"class","tree-item-self is-clickable nav-folder-title svelte-11adhly"),T(n,"class","staged tree-item nav-folder"),ce(n,"is-collapsed",!e[13]),T(S,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),ce(S,"is-collapsed",!e[12]),T(x,"class","tree-item-inner nav-folder-title-content"),T(_,"data-icon","undo"),T(_,"aria-label","Discard"),T(_,"class","clickable-icon"),T(P,"data-icon","plus"),T(P,"aria-label","Stage"),T(P,"class","clickable-icon"),T(E,"class","buttons"),T(N,"class","files-count svelte-11adhly"),T(y,"class","git-tools"),T(b,"class","tree-item-self is-clickable nav-folder-title svelte-11adhly"),T(w,"class","changes tree-item nav-folder"),ce(w,"is-collapsed",!e[12]),T(t,"class","tree-item nav-folder mod-root")},m(se,Se){re(se,t,Se),M(t,n),M(n,r),M(r,i),M(r,a),M(r,s),M(r,o),M(r,l),M(l,c),M(c,u),e[35](u),M(l,f),M(l,h),M(h,p),M(n,g),$&&$.m(n,null),M(t,m),M(t,w),M(w,b),M(b,S),M(b,A),M(b,x),M(b,k),M(b,y),M(y,E),M(E,_),M(E,C),M(E,P),e[37](P),M(y,L),M(y,N),M(N,Y),M(w,le),z&&z.m(w,null),M(t,he),D&&D.m(t,null),ae=!0,Pe||(de=[te(u,"click",xe(e[20])),te(r,"click",e[36]),te(_,"click",xe(e[23])),te(P,"click",xe(e[19])),te(b,"click",e[38])],Pe=!0)},p(se,Se){(!ae||Se[0]&8192)&&ce(i,"is-collapsed",!se[13]),(!ae||Se[0]&64)&&d!==(d=se[6].staged.length+"")&&Me(p,d),se[13]?$?($.p(se,Se),Se[0]&8192&&U($,1)):($=qA(se),$.c(),U($,1),$.m(n,null)):$&&(Ce(),X($,1,1,()=>{$=null}),Fe()),(!ae||Se[0]&8192)&&ce(n,"is-collapsed",!se[13]),(!ae||Se[0]&4096)&&ce(S,"is-collapsed",!se[12]),(!ae||Se[0]&64)&&j!==(j=se[6].changed.length+"")&&Me(Y,j),se[12]?z?(z.p(se,Se),Se[0]&4096&&U(z,1)):(z=YA(se),z.c(),U(z,1),z.m(w,null)):z&&(Ce(),X(z,1,1,()=>{z=null}),Fe()),(!ae||Se[0]&4096)&&ce(w,"is-collapsed",!se[12]),se[7].length>0?D?(D.p(se,Se),Se[0]&128&&U(D,1)):(D=KA(se),D.c(),U(D,1),D.m(t,null)):D&&(Ce(),X(D,1,1,()=>{D=null}),Fe())},i(se){ae||(U($),U(z),U(D),ae=!0)},o(se){X($),X(z),X(D),ae=!1},d(se){se&&ne(t),e[35](null),$&&$.d(),e[37](null),z&&z.d(),D&&D.d(),Pe=!1,ke(de)}}}function qA(e){let t,n,r,i,a,s=[nD,tD],o=[];function l(c,u){return c[3]?0:1}return n=l(e,[-1,-1]),r=o[n]=s[n](e),{c(){t=I("div"),r.c(),T(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Ce(),X(o[f],1,1,()=>{o[f]=null}),Fe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&wt(()=>{a&&(i||(i=bt(t,xt,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=bt(t,xt,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function tD(e){let t,n,r,i=nt(br(e[6].staged,500)),a=[];for(let o=0;o<i.length;o+=1)a[o]=XA(zA(e,i,o));let s=o=>X(a[o],1,1,()=>{a[o]=null});return n=new Ca({props:{files:e[6].staged}}),{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=J(),Ge(n.$$.fragment)},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);re(o,t,l),De(n,o,l),r=!0},p(o,l){if(l[0]&67){i=nt(br(o[6].staged,500));let u;for(u=0;u<i.length;u+=1){let f=zA(o,i,u);a[u]?(a[u].p(f,l),U(a[u],1)):(a[u]=XA(f),a[u].c(),U(a[u],1),a[u].m(t.parentNode,t))}for(Ce(),u=i.length;u<a.length;u+=1)s(u);Fe()}let c={};l[0]&64&&(c.files=o[6].staged),n.$set(c)},i(o){if(!r){for(let l=0;l<i.length;l+=1)U(a[l]);U(n.$$.fragment,o),r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)X(a[l]);X(n.$$.fragment,o),r=!1},d(o){o&&ne(t),ln(a,o),Be(n,o)}}}function nD(e){let t,n;return t=new pu({props:{hierarchy:e[10],plugin:e[0],view:e[1],fileType:0,topLevel:!0}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i[0]&1024&&(a.hierarchy=r[10]),i[0]&1&&(a.plugin=r[0]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function XA(e){let t,n;return t=new hu({props:{change:e[47],view:e[1],manager:e[0].gitManager}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i[0]&64&&(a.change=r[47]),i[0]&2&&(a.view=r[1]),i[0]&1&&(a.manager=r[0].gitManager),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function YA(e){let t,n,r,i,a,s=[iD,rD],o=[];function l(c,u){return c[3]?0:1}return n=l(e,[-1,-1]),r=o[n]=s[n](e),{c(){t=I("div"),r.c(),T(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Ce(),X(o[f],1,1,()=>{o[f]=null}),Fe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&wt(()=>{a&&(i||(i=bt(t,xt,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=bt(t,xt,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function rD(e){let t,n,r,i=nt(br(e[6].changed,500)),a=[];for(let o=0;o<i.length;o+=1)a[o]=ZA(GA(e,i,o));let s=o=>X(a[o],1,1,()=>{a[o]=null});return n=new Ca({props:{files:e[6].changed}}),{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=J(),Ge(n.$$.fragment)},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);re(o,t,l),De(n,o,l),r=!0},p(o,l){if(l[0]&67){i=nt(br(o[6].changed,500));let u;for(u=0;u<i.length;u+=1){let f=GA(o,i,u);a[u]?(a[u].p(f,l),U(a[u],1)):(a[u]=ZA(f),a[u].c(),U(a[u],1),a[u].m(t.parentNode,t))}for(Ce(),u=i.length;u<a.length;u+=1)s(u);Fe()}let c={};l[0]&64&&(c.files=o[6].changed),n.$set(c)},i(o){if(!r){for(let l=0;l<i.length;l+=1)U(a[l]);U(n.$$.fragment,o),r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)X(a[l]);X(n.$$.fragment,o),r=!1},d(o){o&&ne(t),ln(a,o),Be(n,o)}}}function iD(e){let t,n;return t=new pu({props:{hierarchy:e[9],plugin:e[0],view:e[1],fileType:1,topLevel:!0}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i[0]&512&&(a.hierarchy=r[9]),i[0]&1&&(a.plugin=r[0]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function ZA(e){let t,n;return t=new uu({props:{change:e[42],view:e[1],manager:e[0].gitManager}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i[0]&64&&(a.change=r[42]),i[0]&2&&(a.view=r[1]),i[0]&1&&(a.manager=r[0].gitManager),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function KA(e){let t,n,r,i,a,s,o,l=e[7].length+"",c,u,f,h,d,p=e[14]&&JA(e);return{c(){t=I("div"),n=I("div"),r=I("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg>',i=J(),a=I("div"),a.textContent="Recently Pulled Files",s=J(),o=I("span"),c=Te(l),u=J(),p&&p.c(),T(r,"class","tree-item-icon nav-folder-collapse-indicator collapse-icon"),T(a,"class","tree-item-inner nav-folder-title-content"),T(o,"class","tree-item-flair"),T(n,"class","tree-item-self is-clickable nav-folder-title svelte-11adhly"),T(t,"class","pulled nav-folder"),ce(t,"is-collapsed",!e[14])},m(g,m){re(g,t,m),M(t,n),M(n,r),M(n,i),M(n,a),M(n,s),M(n,o),M(o,c),M(t,u),p&&p.m(t,null),f=!0,h||(d=te(n,"click",e[39]),h=!0)},p(g,m){(!f||m[0]&128)&&l!==(l=g[7].length+"")&&Me(c,l),g[14]?p?(p.p(g,m),m[0]&16384&&U(p,1)):(p=JA(g),p.c(),U(p,1),p.m(t,null)):p&&(Ce(),X(p,1,1,()=>{p=null}),Fe()),(!f||m[0]&16384)&&ce(t,"is-collapsed",!g[14])},i(g){f||(U(p),f=!0)},o(g){X(p),f=!1},d(g){g&&ne(t),p&&p.d(),h=!1,d()}}}function JA(e){let t,n,r,i,a,s=[sD,aD],o=[];function l(c,u){return c[3]?0:1}return n=l(e,[-1,-1]),r=o[n]=s[n](e),{c(){t=I("div"),r.c(),T(t,"class","tree-item-children nav-folder-children")},m(c,u){re(c,t,u),o[n].m(t,null),a=!0},p(c,u){let f=n;n=l(c,u),n===f?o[n].p(c,u):(Ce(),X(o[f],1,1,()=>{o[f]=null}),Fe(),r=o[n],r?r.p(c,u):(r=o[n]=s[n](c),r.c()),U(r,1),r.m(t,null))},i(c){a||(U(r),c&&wt(()=>{a&&(i||(i=bt(t,xt,{duration:150},!0)),i.run(1))}),a=!0)},o(c){X(r),c&&(i||(i=bt(t,xt,{duration:150},!1)),i.run(0)),a=!1},d(c){c&&ne(t),o[n].d(),c&&i&&i.end()}}}function aD(e){let t,n,r,i=nt(e[7]),a=[];for(let o=0;o<i.length;o+=1)a[o]=QA(UA(e,i,o));let s=o=>X(a[o],1,1,()=>{a[o]=null});return n=new Ca({props:{files:e[7]}}),{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=J(),Ge(n.$$.fragment)},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);re(o,t,l),De(n,o,l),r=!0},p(o,l){if(l[0]&130){i=nt(o[7]);let u;for(u=0;u<i.length;u+=1){let f=UA(o,i,u);a[u]?(a[u].p(f,l),U(a[u],1)):(a[u]=QA(f),a[u].c(),U(a[u],1),a[u].m(t.parentNode,t))}for(Ce(),u=i.length;u<a.length;u+=1)s(u);Fe()}let c={};l[0]&128&&(c.files=o[7]),n.$set(c)},i(o){if(!r){for(let l=0;l<i.length;l+=1)U(a[l]);U(n.$$.fragment,o),r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)X(a[l]);X(n.$$.fragment,o),r=!1},d(o){o&&ne(t),ln(a,o),Be(n,o)}}}function sD(e){let t,n;return t=new pu({props:{hierarchy:e[11],plugin:e[0],view:e[1],fileType:2,topLevel:!0}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i[0]&2048&&(a.hierarchy=r[11]),i[0]&1&&(a.plugin=r[0]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function QA(e){let t,n;return t=new fu({props:{change:e[42],view:e[1]}}),{c(){Ge(t.$$.fragment)},m(r,i){De(t,r,i),n=!0},p(r,i){let a={};i[0]&128&&(a.change=r[42]),i[0]&2&&(a.view=r[1]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){X(t.$$.fragment,r),n=!1},d(r){Be(t,r)}}}function oD(e){let t,n,r,i,a,s,o,l,c,u,f,h,d,p,g,m,w,b,S,A,x,k,y,E,_,C,P,L,N=e[2]&&VA(e),j=e[6]&&e[10]&&e[9]&&WA(e);return{c(){t=I("main"),n=I("div"),r=I("div"),i=I("div"),a=J(),s=I("div"),o=J(),l=I("div"),c=J(),u=I("div"),f=J(),h=I("div"),d=J(),p=I("div"),g=J(),m=I("div"),w=J(),b=I("div"),S=J(),A=I("div"),x=I("textarea"),k=J(),N&&N.c(),y=J(),E=I("div"),j&&j.c(),T(i,"id","backup-btn"),T(i,"data-icon","arrow-up-circle"),T(i,"class","clickable-icon nav-action-button"),T(i,"aria-label","Commit-and-sync"),T(s,"id","commit-btn"),T(s,"data-icon","check"),T(s,"class","clickable-icon nav-action-button"),T(s,"aria-label","Commit"),T(l,"id","stage-all"),T(l,"class","clickable-icon nav-action-button"),T(l,"data-icon","plus-circle"),T(l,"aria-label","Stage all"),T(u,"id","unstage-all"),T(u,"class","clickable-icon nav-action-button"),T(u,"data-icon","minus-circle"),T(u,"aria-label","Unstage all"),T(h,"id","push"),T(h,"class","clickable-icon nav-action-button"),T(h,"data-icon","upload"),T(h,"aria-label","Push"),T(p,"id","pull"),T(p,"class","clickable-icon nav-action-button"),T(p,"data-icon","download"),T(p,"aria-label","Pull"),T(m,"id","layoutChange"),T(m,"class","clickable-icon nav-action-button"),T(m,"aria-label","Change Layout"),T(b,"id","refresh"),T(b,"class","clickable-icon nav-action-button"),T(b,"data-icon","refresh-cw"),T(b,"aria-label","Refresh"),Yt(b,"margin","1px"),ce(b,"loading",e[5]),T(r,"class","nav-buttons-container"),T(n,"class","nav-header"),T(x,"rows",e[15]),T(x,"class","commit-msg-input svelte-11adhly"),T(x,"spellcheck","true"),T(x,"placeholder","Commit Message"),T(A,"class","git-commit-msg svelte-11adhly"),T(E,"class","nav-files-container"),Yt(E,"position","relative"),T(t,"data-type",_=pt.type),T(t,"class","svelte-11adhly")},m(Y,le){re(Y,t,le),M(t,n),M(n,r),M(r,i),e[24](i),M(r,a),M(r,s),e[25](s),M(r,o),M(r,l),e[26](l),M(r,c),M(r,u),e[27](u),M(r,f),M(r,h),e[28](h),M(r,d),M(r,p),e[29](p),M(r,g),M(r,m),e[30](m),M(r,w),M(r,b),e[32](b),M(t,S),M(t,A),M(A,x),Kp(x,e[2]),M(A,k),N&&N.m(A,null),M(t,y),M(t,E),j&&j.m(E,null),C=!0,P||(L=[te(i,"click",e[17]),te(s,"click",e[16]),te(l,"click",e[19]),te(u,"click",e[20]),te(h,"click",e[21]),te(p,"click",e[22]),te(m,"click",e[31]),te(b,"click",e[18]),te(x,"input",e[33])],P=!0)},p(Y,le){(!C||le[0]&32)&&ce(b,"loading",Y[5]),(!C||le[0]&32768)&&T(x,"rows",Y[15]),le[0]&4&&Kp(x,Y[2]),Y[2]?N?N.p(Y,le):(N=VA(Y),N.c(),N.m(A,null)):N&&(N.d(1),N=null),Y[6]&&Y[10]&&Y[9]?j?(j.p(Y,le),le[0]&1600&&U(j,1)):(j=WA(Y),j.c(),U(j,1),j.m(E,null)):j&&(Ce(),X(j,1,1,()=>{j=null}),Fe())},i(Y){C||(U(j),C=!0)},o(Y){X(j),C=!1},d(Y){Y&&ne(t),e[24](null),e[25](null),e[26](null),e[27](null),e[28](null),e[29](null),e[30](null),e[32](null),N&&N.d(),j&&j.d(),P=!1,ke(L)}}}function lD(e,t,n){let r,{plugin:i}=t,{view:a}=t,s,o,l=[],c=i.settings.commitMessage,u=[],f,h,d,p=!0,g=!0,m=!0,w=i.settings.treeStructure,b,S;S=a.app.workspace.on("obsidian-git:view-refresh",()=>void k().catch(console.error)),k().catch(console.error),i.app.workspace.onLayoutReady(()=>{window.setTimeout(()=>{u.forEach(ee=>(0,Fa.setIcon)(ee,ee.getAttr("data-icon"))),(0,Fa.setIcon)(b,w?"list":"folder")},0)}),io(()=>{a.app.workspace.offref(S)});function A(){return Ea(this,void 0,void 0,function*(){if(n(5,s=!0),o){if(yield i.tools.hasTooBigFiles(o.staged))return i.setPluginState({gitAction:0}),!1;i.promiseQueue.addTask(()=>i.gitManager.commit({message:c}).then(()=>Ea(this,void 0,void 0,function*(){c!==i.settings.commitMessage&&n(2,c=""),yield i.automaticsManager.setUpAutoCommitAndSync()})).finally(y))}})}function x(){n(5,s=!0),o&&i.promiseQueue.addTask(()=>i.commitAndSync(!1,!1,c).then(()=>{c!==i.settings.commitMessage&&n(2,c="")}).finally(y))}function k(){return Ea(this,void 0,void 0,function*(){if(!i.gitReady){n(6,o=void 0);return}let ee=yield i.gitManager.getUnpushedCommits();if(u.forEach(Ie=>{var Ee,G;Ie&&(Fa.Platform.isMobile?(Ie.removeClass("button-border"),Ie.id=="push"&&ee>0&&Ie.addClass("button-border")):((Ee=Ie.firstElementChild)===null||Ee===void 0||Ee.removeAttribute("color"),Ie.id=="push"&&ee>0&&((G=Ie.firstElementChild)===null||G===void 0||G.setAttr("color","var(--text-accent)"))))}),n(6,o=i.cachedStatus),i.lastPulledFiles&&i.lastPulledFiles!=l&&(n(7,l=i.lastPulledFiles),n(11,d={title:"",path:"",vaultPath:"",children:i.gitManager.getTreeStructure(l)})),o){let Ie=(Ee,G)=>Ee.vault_path.split("/").last().localeCompare(Bt(G.vault_path));o.changed.sort(Ie),o.staged.sort(Ie),n(9,f={title:"",path:"",vaultPath:"",children:i.gitManager.getTreeStructure(o.changed)}),n(10,h={title:"",path:"",vaultPath:"",children:i.gitManager.getTreeStructure(o.staged)})}else n(9,f=void 0),n(10,h=void 0);n(5,s=i.loading)})}function y(){a.app.workspace.trigger("obsidian-git:refresh")}function E(){n(5,s=!0),i.promiseQueue.addTask(()=>i.gitManager.stageAll({status:o}).finally(y))}function _(){n(5,s=!0),i.promiseQueue.addTask(()=>i.gitManager.unstageAll({status:o}).finally(y))}function C(){n(5,s=!0),i.promiseQueue.addTask(()=>i.push().finally(y))}function P(){n(5,s=!0),i.promiseQueue.addTask(()=>i.pullChangesFromRemote().finally(y))}function L(){new Tr(a.app,!1,i.gitManager.getRelativeVaultPath("/")).myOpen().then(ee=>{ee===!0&&i.promiseQueue.addTask(()=>i.gitManager.discardAll({status:i.cachedStatus}).finally(()=>{a.app.workspace.trigger("obsidian-git:refresh")}))},console.error)}function N(ee){je[ee?"unshift":"push"](()=>{u[5]=ee,n(8,u)})}function j(ee){je[ee?"unshift":"push"](()=>{u[0]=ee,n(8,u)})}function Y(ee){je[ee?"unshift":"push"](()=>{u[1]=ee,n(8,u)})}function le(ee){je[ee?"unshift":"push"](()=>{u[2]=ee,n(8,u)})}function he(ee){je[ee?"unshift":"push"](()=>{u[3]=ee,n(8,u)})}function ae(ee){je[ee?"unshift":"push"](()=>{u[4]=ee,n(8,u)})}function Pe(ee){je[ee?"unshift":"push"](()=>{b=ee,n(4,b)})}let de=()=>{n(3,w=!w),n(0,i.settings.treeStructure=w,i),i.saveSettings()};function $(ee){je[ee?"unshift":"push"](()=>{u[6]=ee,n(8,u)})}function z(){c=this.value,n(2,c)}let D=()=>n(2,c="");function se(ee){je[ee?"unshift":"push"](()=>{u[8]=ee,n(8,u)})}let Se=()=>n(13,g=!g);function gt(ee){je[ee?"unshift":"push"](()=>{u[9]=ee,n(8,u)})}let be=()=>n(12,p=!p),ot=()=>n(14,m=!m);return e.$$set=ee=>{"plugin"in ee&&n(0,i=ee.plugin),"view"in ee&&n(1,a=ee.view)},e.$$.update=()=>{e.$$.dirty[0]&24&&b&&(b.empty(),(0,Fa.setIcon)(b,w?"list":"folder")),e.$$.dirty[0]&4&&n(15,r=(c.match(/\n/g)||[]).length+1||1)},[i,a,c,w,b,s,o,l,u,f,h,d,p,g,m,r,A,x,y,E,_,C,P,L,N,j,Y,le,he,ae,Pe,de,$,z,D,se,Se,gt,be,ot]}var fm=class extends qe{constructor(t){super(),st(this,t,lD,oD,at,{plugin:0,view:1},eD,[-1,-1])}},ek=fm;var co=class extends tk.ItemView{constructor(t,n){super(t),this.plugin=n,this.hoverPopover=null}getViewType(){return pt.type}getDisplayText(){return pt.name}getIcon(){return pt.icon}onClose(){var t;return(t=this._view)==null||t.$destroy(),super.onClose()}reload(){var t;(t=this._view)==null||t.$destroy(),this._view=new ek({target:this.contentEl,props:{plugin:this.plugin,view:this}})}onOpen(){return this.reload(),super.onOpen()}};v();var mu=class{constructor(t,n){this.statusBarEl=t;this.plugin=n;this.statusBarEl.addClass("mod-clickable"),this.statusBarEl.onClickEvent(r=>{this.plugin.switchBranch().catch(i=>n.displayError(i))})}async display(){if(this.plugin.gitReady){let t=await this.plugin.gitManager.branchInfo();t.current!=null?this.statusBarEl.setText(t.current):this.statusBarEl.empty()}else this.statusBarEl.empty()}remove(){this.statusBarEl.remove()}};v();var nk=require("obsidian");var uo=class{constructor(t){this.plugin=t}async hasTooBigFiles(t){let n=await this.plugin.gitManager.branchInfo(),r=n.tracking?xr(n.tracking)[0]:null;if(r){let i=await this.plugin.gitManager.getRemoteUrl(r);if(i!=null&&i.includes("github.com")){let a=t.filter(s=>{let o=this.plugin.app.vault.getAbstractFileByPath(s.vault_path);return o instanceof nk.TFile?o.stat.size>=1e8:!1});if(a.length>0)return this.plugin.displayError(`Did not commit, because following files are too big: ${a.map(s=>s.vault_path).join(`
`)}. Please remove them.`),!0}}return!1}async writeAndOpenFile(t){t!==void 0&&await this.plugin.app.vault.adapter.write(Wi,t);let n=!1;this.plugin.app.workspace.iterateAllLeaves(r=>{r.getDisplayText()!=""&&Wi.startsWith(r.getDisplayText())&&(n=!0)}),n||await this.plugin.app.workspace.openLinkText(Wi,"/",!0)}};var gu=class extends _e.Plugin{constructor(){super(...arguments);this.tools=new uo(this);this.state={gitAction:0,loading:!1,offlineMode:!1};this.gitReady=!1;this.promiseQueue=new Nc(this);this.loading=!1;this.intervalsToClear=[];this.lineAuthoringFeature=new Bc(this)}setPluginState(n){var r;this.state=Object.assign(this.state,n),(r=this.statusBar)==null||r.display()}async updateCachedStatus(){var n,r;return this.cachedStatus=await this.gitManager.status(),this.cachedStatus.conflicted.length>0?(this.localStorage.setConflict(!0),await((n=this.branchBar)==null?void 0:n.display())):(this.localStorage.setConflict(!1),await((r=this.branchBar)==null?void 0:r.display())),this.cachedStatus}async refresh(){if(!this.gitReady)return;let n=this.app.workspace.getLeavesOfType(pt.type),r=this.app.workspace.getLeavesOfType(nn.type);(this.settings.changedFilesInStatusBar||n.some(i=>{var a;return!((a=i.isDeferred)!=null&&a)})||r.some(i=>{var a;return!((a=i.isDeferred)!=null&&a)}))&&(this.loading=!0,this.app.workspace.trigger("obsidian-git:view-refresh"),await this.updateCachedStatus().catch(i=>this.displayError(i)),this.loading=!1,this.app.workspace.trigger("obsidian-git:view-refresh"))}refreshUpdatedHead(){this.lineAuthoringFeature.refreshLineAuthorViews()}async onload(){console.log("loading "+this.manifest.name+" plugin: v"+this.manifest.version),Ws.plugin=this,this.localStorage=new Vc(this),this.localStorage.migrate(),await this.loadSettings(),await this.migrateSettings(),this.settingsTab=new Ec(this.app,this),this.addSettingTab(this.settingsTab),this.localStorage.getPluginDisabled()||(this.registerStuff(),this.app.workspace.onLayoutReady(()=>this.init({fromReload:!1}).catch(n=>this.displayError(n))))}onExternalSettingsChange(){this.reloadSettings().catch(n=>this.displayError(n))}async reloadSettings(){let n=JSON.stringify(this.settings);await this.loadSettings();let r=JSON.stringify(this.settings);n!==r&&(this.log("Reloading settings"),this.unloadPlugin(),await this.init({fromReload:!0}),this.app.workspace.getLeavesOfType(pt.type).forEach(i=>{var a;if(!((a=i.isDeferred)!=null&&a))return i.view.reload()}),this.app.workspace.getLeavesOfType(nn.type).forEach(i=>{var a;if(!((a=i.isDeferred)!=null&&a))return i.view.reload()}))}registerStuff(){this.registerEvent(this.app.workspace.on("obsidian-git:refresh",()=>{this.refresh().catch(n=>this.displayError(n))})),this.registerEvent(this.app.workspace.on("obsidian-git:head-change",()=>{this.refreshUpdatedHead()})),this.registerEvent(this.app.workspace.on("file-menu",(n,r,i)=>{this.handleFileMenu(n,r,i)})),this.registerEvent(this.app.workspace.on("active-leaf-change",n=>{this.handleViewActiveState(n)})),this.registerEvent(this.app.vault.on("modify",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerEvent(this.app.vault.on("delete",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerEvent(this.app.vault.on("create",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerEvent(this.app.vault.on("rename",()=>{var n;this.debRefresh(),(n=this.autoCommitDebouncer)==null||n.call(this)})),this.registerView(pt.type,n=>new co(n,this)),this.registerView(nn.type,n=>new oo(n,this)),this.registerView(Ct.type,n=>new va(n,this)),this.addRibbonIcon("git-pull-request","Open Git source control",async()=>{var i;let n=this.app.workspace.getLeavesOfType(pt.type),r;n.length===0?(r=(i=this.app.workspace.getRightLeaf(!1))!=null?i:this.app.workspace.getLeaf(),await r.setViewState({type:pt.type})):r=n.first(),await this.app.workspace.revealLeaf(r),this.app.workspace.trigger("obsidian-git:refresh")}),this.registerHoverLinkSource(pt.type,{display:"Git View",defaultMod:!0}),this.lineAuthoringFeature.onLoadPlugin(),this.setRefreshDebouncer(),ME(this)}setRefreshDebouncer(){var n;(n=this.debRefresh)==null||n.cancel(),this.debRefresh=(0,_e.debounce)(()=>{this.settings.refreshSourceControl&&this.refresh().catch(console.error)},this.settings.refreshSourceControlTimer,!0)}async addFileToGitignore(n){return await this.app.vault.adapter.append(this.gitManager.getRelativeVaultPath(".gitignore"),`
`+this.gitManager.getRelativeRepoPath(n.path,!0)),this.refresh()}handleFileMenu(n,r,i){this.gitReady&&this.settings.showFileMenu&&r&&(this.settings.showFileMenu&&i=="file-explorer-context-menu"&&(n.addItem(a=>{a.setTitle("Git: Stage").setIcon("plus-circle").setSection("action").onClick(s=>{this.promiseQueue.addTask(async()=>{r instanceof _e.TFile?await this.gitManager.stage(r.path,!0):await this.gitManager.stageAll({dir:this.gitManager.getRelativeRepoPath(r.path,!0)}),this.displayMessage(`Staged ${r.path}`)})})}),n.addItem(a=>{a.setTitle("Git: Unstage").setIcon("minus-circle").setSection("action").onClick(s=>{this.promiseQueue.addTask(async()=>{r instanceof _e.TFile?await this.gitManager.unstage(r.path,!0):await this.gitManager.unstageAll({dir:this.gitManager.getRelativeRepoPath(r.path,!0)}),this.displayMessage(`Unstaged ${r.path}`)})})}),n.addItem(a=>{a.setTitle("Git: Add to .gitignore").setIcon("file-x").setSection("action").onClick(s=>{this.addFileToGitignore(r).catch(o=>this.displayError(o))})})),i=="git-source-control"&&n.addItem(a=>{a.setTitle("Git: Add to .gitignore").setIcon("file-x").setSection("action").onClick(s=>{this.addFileToGitignore(r).catch(o=>this.displayError(o))})}))}async migrateSettings(){this.settings.mergeOnPull!=null&&(this.settings.syncMethod=this.settings.mergeOnPull?"merge":"rebase",this.settings.mergeOnPull=void 0,await this.saveSettings()),this.settings.autoCommitMessage===void 0&&(this.settings.autoCommitMessage=this.settings.commitMessage,await this.saveSettings()),this.settings.gitPath!=null&&(this.localStorage.setGitPath(this.settings.gitPath),this.settings.gitPath=void 0,await this.saveSettings()),this.settings.username!=null&&(this.localStorage.setPassword(this.settings.username),this.settings.username=void 0,await this.saveSettings())}unloadPlugin(){var n,r;this.gitReady=!1,this.app.workspace.trigger("obsidian-git:refresh"),this.lineAuthoringFeature.deactivateFeature(),this.automaticsManager.unload(),(n=this.branchBar)==null||n.remove(),(r=this.statusBar)==null||r.remove(),this.gitManager.unload(),this.promiseQueue.clear();for(let i of this.intervalsToClear)window.clearInterval(i);this.intervalsToClear=[],this.debRefresh.cancel()}onunload(){this.unloadPlugin(),console.log("unloading "+this.manifest.name+" plugin")}async loadSettings(){let n=await this.loadData();n==null&&(n={showedMobileNotice:!0}),this.settings=Xw(Pn,n)}async saveSettings(){var n;(n=this.settingsTab)==null||n.beforeSaveSettings(),await this.saveData(this.settings)}get useSimpleGit(){return _e.Platform.isDesktopApp}async init({fromReload:n=!1}){var r;if(this.settings.showStatusBar){let i=this.addStatusBarItem();this.statusBar=new $c(i,this),this.intervalsToClear.push(window.setInterval(()=>{var a;return(a=this.statusBar)==null?void 0:a.display()},1e3))}try{this.useSimpleGit?(this.gitManager=new Le(this),await this.gitManager.setGitInstance()):this.gitManager=new yn(this);let i=await this.gitManager.checkRequirements();switch(i){case"missing-git":this.displayError(`Cannot run git command. Trying to run: '${this.localStorage.getGitPath()||"git"}' .`);break;case"missing-repo":new _e.Notice("Can't find a valid git repository. Please create one via the given command or clone an existing repo.",1e4);break;case"valid":if(this.gitReady=!0,this.setPluginState({gitAction:0}),_e.Platform.isDesktop&&this.settings.showBranchStatusBar){let a=this.addStatusBarItem();this.branchBar=new mu(a,this),this.intervalsToClear.push(window.setInterval(()=>{var s;return void((s=this.branchBar)==null?void 0:s.display().catch(console.error))},6e4))}await((r=this.branchBar)==null?void 0:r.display()),this.lineAuthoringFeature.conditionallyActivateBySettings(),this.app.workspace.trigger("obsidian-git:refresh"),!n&&this.settings.autoPullOnBoot&&this.promiseQueue.addTask(()=>this.pullChangesFromRemote()),this.automaticsManager=new qs(this),await this.automaticsManager.init();break;default:this.log("Something weird happened. The 'checkRequirements' result is "+i)}}catch(i){this.displayError(i),console.error(i)}}async createNewRepo(){try{await this.gitManager.init(),new _e.Notice("Initialized new repo"),await this.init({fromReload:!0})}catch(n){this.displayError(n)}}async cloneNewRepo(){let r=await new $e(this,{placeholder:"Enter remote URL"}).openAndGetResult();if(r){let i="Vault Root",a=await new $e(this,{options:this.gitManager instanceof yn?[i]:[],placeholder:"Enter directory for clone. It needs to be empty or not existent.",allowEmpty:this.gitManager instanceof yn}).openAndGetResult();if(a==null)return;if(a===i&&(a="."),a=(0,_e.normalizePath)(a),a==="/"&&(a="."),a==="."){let f=await new $e(this,{options:["NO","YES"],placeholder:`Does your remote repo contain a ${this.app.vault.configDir} directory at the root?`,onlySelection:!0}).openAndGetResult();if(f===void 0){new _e.Notice("Aborted clone");return}else if(f==="YES"){let h="DELETE ALL YOUR LOCAL CONFIG AND PLUGINS";if(await new $e(this,{options:["Abort clone",h],placeholder:`To avoid conflicts, the local ${this.app.vault.configDir} directory needs to be deleted.`,onlySelection:!0}).openAndGetResult()===h)await this.app.vault.adapter.rmdir(this.app.vault.configDir,!0);else{new _e.Notice("Aborted clone");return}}}let s=await new $e(this,{placeholder:"Specify depth of clone. Leave empty for full clone.",allowEmpty:!0}).openAndGetResult(),o;if(s!==""&&(o=parseInt(s),isNaN(o))){new _e.Notice("Invalid depth. Aborting clone.");return}new _e.Notice(`Cloning new repo into "${a}"`);let l=this.settings.basePath,c=a&&a!==".";c&&(this.settings.basePath=a);try{await this.gitManager.clone(r,a,o),new _e.Notice("Cloned new repo."),new _e.Notice("Please restart Obsidian"),c&&await this.saveSettings()}catch(u){this.displayError(u),this.settings.basePath=l,await this.saveSettings()}}}async isAllInitialized(){return this.gitReady||await this.init({fromReload:!0}),this.gitReady}async pullChangesFromRemote(){if(!await this.isAllInitialized())return;let n=await this.pull();if(await this.automaticsManager.setUpAutoCommitAndSync(),n!==!1){if(n||this.displayMessage("Pull: Everything is up-to-date"),this.gitManager instanceof Le){let r=await this.updateCachedStatus();r.conflicted.length>0&&(this.displayError(`You have conflicts in ${r.conflicted.length} ${r.conflicted.length==1?"file":"files"}`),await this.handleConflict(r.conflicted))}this.app.workspace.trigger("obsidian-git:refresh"),this.setPluginState({gitAction:0})}}async commitAndSync(n,r=!1,i){!await this.isAllInitialized()||(this.settings.syncMethod=="reset"&&this.settings.pullBeforePush&&await this.pull(),!await this.commit({fromAuto:n,requestCustomMessage:r,commitMessage:i}))||(this.settings.syncMethod!="reset"&&this.settings.pullBeforePush&&await this.pull(),this.settings.disablePush||(await this.remotesAreSet()&&await this.gitManager.canPush()?await this.push():this.displayMessage("No commits to push")),this.setPluginState({gitAction:0}))}async commit({fromAuto:n,requestCustomMessage:r=!1,onlyStaged:i=!1,commitMessage:a,amend:s=!1}){if(!await this.isAllInitialized())return!1;try{let o=this.localStorage.getConflict(),l,c,u;if(this.gitManager instanceof Le){if(await this.mayDeleteConflictFile(),c=await this.updateCachedStatus(),c.conflicted.length==0&&(o=!1),n&&c.conflicted.length>0)return this.displayError(`Did not commit, because you have conflicts in ${c.conflicted.length} ${c.conflicted.length==1?"file":"files"}. Please resolve them and commit per command.`),await this.handleConflict(c.conflicted),!1;l=[...c.changed,...c.staged]}else{if(n&&o)return this.displayError("Did not commit, because you have conflicts. Please resolve them and commit per command."),!1;if(o)await this.mayDeleteConflictFile(),c=await this.updateCachedStatus(),l=[...c.changed,...c.staged];else{let f=this.gitManager;i?l=await f.getStagedFiles():(u=await f.getUnstagedFiles(),l=u.map(({filepath:h})=>({vault_path:this.gitManager.getRelativeVaultPath(h)})))}}if(await this.tools.hasTooBigFiles(l))return this.setPluginState({gitAction:0}),!1;if(l.length!==0||o){let f=a!=null?a:a=n?this.settings.autoCommitMessage:this.settings.commitMessage;if(n&&this.settings.customMessageOnAutoBackup||r){!this.settings.disablePopups&&n&&new _e.Notice("Auto backup: Please enter a custom commit message. Leave empty to abort");let p=await new Hc(this).openAndGetResult();if(p!=null&&p!=""&&p!="...")f=p;else return this.setPluginState({gitAction:0}),!1}let h;i?h=await this.gitManager.commit({message:f,amend:s}):h=await this.gitManager.commitAll({message:f,status:c,unstagedFiles:u,amend:s}),this.gitManager instanceof Le&&await this.updateCachedStatus();let d=!1;h===void 0&&(d=!0,h=l.length),await this.automaticsManager.setUpAutoCommitAndSync(),this.displayMessage(`Committed${d?" approx.":""} ${h} ${h==1?"file":"files"}`)}else this.displayMessage("No changes to commit");return this.app.workspace.trigger("obsidian-git:refresh"),!0}catch(o){return this.displayError(o),!1}}async push(){if(!await this.isAllInitialized()||!await this.remotesAreSet())return!1;let n=this.localStorage.getConflict();try{this.gitManager instanceof Le&&await this.mayDeleteConflictFile();let r;if(this.gitManager instanceof Le&&(r=await this.updateCachedStatus()).conflicted.length>0)return this.displayError(`Cannot push. You have conflicts in ${r.conflicted.length} ${r.conflicted.length==1?"file":"files"}`),await this.handleConflict(r.conflicted),!1;if(this.gitManager instanceof yn&&n)return this.displayError("Cannot push. You have conflicts"),!1;this.log("Pushing....");let i=await this.gitManager.push();return i!==void 0&&(i>0?this.displayMessage(`Pushed ${i} ${i==1?"file":"files"} to remote`):this.displayMessage("No commits to push")),this.setPluginState({offlineMode:!1}),this.app.workspace.trigger("obsidian-git:refresh"),!0}catch(r){return r instanceof Xi?this.handleNoNetworkError(r):this.displayError(r),!1}}async pull(){if(!await this.remotesAreSet())return!1;try{this.log("Pulling....");let n=await this.gitManager.pull()||[];return this.setPluginState({offlineMode:!1}),n.length>0&&(this.displayMessage(`Pulled ${n.length} ${n.length==1?"file":"files"} from remote`),this.lastPulledFiles=n),n.length}catch(n){return this.displayError(n),!1}}async fetch(){if(await this.remotesAreSet())try{await this.gitManager.fetch(),this.displayMessage("Fetched from remote"),this.setPluginState({offlineMode:!1}),this.app.workspace.trigger("obsidian-git:refresh")}catch(n){this.displayError(n)}}async mayDeleteConflictFile(){let n=this.app.vault.getAbstractFileByPath(Wi);n&&(this.app.workspace.iterateAllLeaves(r=>{var i;r.view instanceof _e.MarkdownView&&((i=r.view.file)==null?void 0:i.path)==n.path&&r.detach()}),await this.app.vault.delete(n))}async stageFile(n){return await this.isAllInitialized()?(await this.gitManager.stage(n.path,!0),this.displayMessage(`Staged ${n.path}`),this.app.workspace.trigger("obsidian-git:refresh"),this.setPluginState({gitAction:0}),!0):!1}async unstageFile(n){return await this.isAllInitialized()?(await this.gitManager.unstage(n.path,!0),this.displayMessage(`Unstaged ${n.path}`),this.app.workspace.trigger("obsidian-git:refresh"),this.setPluginState({gitAction:0}),!0):!1}async switchBranch(){var i;if(!await this.isAllInitialized())return;let n=await this.gitManager.branchInfo(),r=await new cu(this,n.branches).openAndGetReslt();if(r!=null)return await this.gitManager.checkout(r),this.displayMessage(`Switched to ${r}`),await((i=this.branchBar)==null?void 0:i.display()),r}async switchRemoteBranch(){var a;if(!await this.isAllInitialized())return;let n=await this.selectRemoteBranch()||"",[r,i]=xr(n);if(i!=null&&r!=null)return await this.gitManager.checkout(i,r),this.displayMessage(`Switched to ${n}`),await((a=this.branchBar)==null?void 0:a.display()),n}async createBranch(){var r;if(!await this.isAllInitialized())return;let n=await new $e(this,{placeholder:"Create new branch"}).openAndGetResult();if(n!=null)return await this.gitManager.createBranch(n),this.displayMessage(`Created new branch ${n}`),await((r=this.branchBar)==null?void 0:r.display()),n}async deleteBranch(){var i;if(!await this.isAllInitialized())return;let n=await this.gitManager.branchInfo();n.current&&n.branches.remove(n.current);let r=await new $e(this,{options:n.branches,placeholder:"Delete branch",onlySelection:!0}).openAndGetResult();if(r!=null){let a=!1;if(!await this.gitManager.branchIsMerged(r)){let o=await new $e(this,{options:["YES","NO"],placeholder:"This branch isn't merged into HEAD. Force delete?",onlySelection:!0}).openAndGetResult();if(o!=="YES")return;a=o==="YES"}return await this.gitManager.deleteBranch(r,a),this.displayMessage(`Deleted branch ${r}`),await((i=this.branchBar)==null?void 0:i.display()),r}}async remotesAreSet(){return this.settings.updateSubmodules||(await this.gitManager.branchInfo()).tracking?!0:(new _e.Notice("No upstream branch is set. Please select one."),await this.setUpstreamBranch())}async setUpstreamBranch(){let n=await this.selectRemoteBranch();return n==null?(this.displayError("Aborted. No upstream-branch is set!",1e4),this.setPluginState({gitAction:0}),!1):(await this.gitManager.updateUpstreamBranch(n),this.displayMessage(`Set upstream branch to ${n}`),this.setPluginState({gitAction:0}),!0)}async discardAll(){await this.gitManager.discardAll({status:this.cachedStatus}),new _e.Notice("All local changes have been discarded. New files remain untouched.")}async handleConflict(n){this.localStorage.setConflict(!0);let r;n!==void 0&&(r=["# Conflicts","Please resolve them and commit them using the commands `Git: Commit all changes` followed by `Git: Push`","(This file will automatically be deleted before commit)","[[#Additional Instructions]] available below file list","",...n.map(i=>{let a=this.app.vault.getAbstractFileByPath(i);return a instanceof _e.TFile?`- [[${this.app.metadataCache.fileToLinktext(a,"/")}]]`:`- Not a file: ${i}`}),`
# Additional Instructions
I strongly recommend to use "Source mode" for viewing the conflicted files. For simple conflicts, in each file listed above replace every occurrence of the following text blocks with the desired text.

\`\`\`diff
<<<<<<< HEAD
    File changes in local repository
=======
    File changes in remote repository
>>>>>>> origin/main
\`\`\``]),await this.tools.writeAndOpenFile(r==null?void 0:r.join(`
`))}async editRemotes(){if(!await this.isAllInitialized())return;let n=await this.gitManager.getRemotes(),i=await new $e(this,{options:n,placeholder:"Select or create a new remote by typing its name and selecting it"}).openAndGetResult();if(i){let a=await this.gitManager.getRemoteUrl(i),o=await new $e(this,{initialValue:a}).openAndGetResult();if(o)return await this.gitManager.setRemote(i,o),i}}async selectRemoteBranch(){let n=await this.gitManager.getRemotes(),r;n.length===0&&(r=await this.editRemotes(),r==null&&(n=await this.gitManager.getRemotes()));let i=new $e(this,{options:n,placeholder:"Select or create a new remote by typing its name and selecting it"}),a=r!=null?r:await i.openAndGetResult();if(a){this.displayMessage("Fetching remote branches"),await this.gitManager.fetch(a);let s=await this.gitManager.getRemoteBranches(a);return await new $e(this,{options:s,placeholder:"Select or create a new remote branch by typing its name and selecting it"}).openAndGetResult()}}async removeRemote(){if(!await this.isAllInitialized())return;let n=await this.gitManager.getRemotes(),i=await new $e(this,{options:n,placeholder:"Select a remote"}).openAndGetResult();i&&await this.gitManager.removeRemote(i)}handleViewActiveState(n){var a,s;if(!(n!=null&&n.view.getState().file))return;let r=this.app.workspace.getLeavesOfType(pt.type).first(),i=this.app.workspace.getLeavesOfType(nn.type).first();if((a=r==null?void 0:r.view.containerEl.querySelector("div.nav-file-title.is-active"))==null||a.removeClass("is-active"),(s=i==null?void 0:i.view.containerEl.querySelector("div.nav-file-title.is-active"))==null||s.removeClass("is-active"),(n==null?void 0:n.view)instanceof va){let o=n.view.state.file;this.lastDiffViewState=n.view.getState();let l;r&&n.view.state.staged?l=r.view.containerEl.querySelector(`div.staged div.nav-file-title[data-path='${o}']`):r&&n.view.state.staged===!1&&!n.view.state.hash?l=r.view.containerEl.querySelector(`div.changes div.nav-file-title[data-path='${o}']`):i&&n.view.state.hash&&(l=i.view.containerEl.querySelector(`div.nav-file-title[data-path='${o}']`)),l==null||l.addClass("is-active")}else this.lastDiffViewState=void 0}handleNoNetworkError(n){this.state.offlineMode?this.log("Encountered network error, but already in offline mode"):this.displayError("Git: Going into offline mode. Future network errors will no longer be displayed.",2e3),this.setPluginState({gitAction:0,offlineMode:!0})}displayMessage(n,r=4*1e3){var i;(i=this.statusBar)==null||i.displayMessage(n.toLowerCase(),r),this.settings.disablePopups||(!this.settings.disablePopupsForNoChanges||!n.startsWith("No changes"))&&new _e.Notice(n,5*1e3),this.log(n)}displayError(n,r=10*1e3){var a;if(n instanceof ps.UserCanceledError){new _e.Notice("Aborted");return}let i;n instanceof Error?i=n:i=new Error(String(n)),this.setPluginState({gitAction:0}),new _e.Notice(i.message,r),console.error(`${this.manifest.id}:`,i.stack),(a=this.statusBar)==null||a.displayMessage(i.message.toLowerCase(),r)}log(...n){console.log(`${this.manifest.id}:`,...n)}};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.9.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2017
   * @license MIT
   *)

feather-icons/dist/feather.js:
  (*!
    Copyright (c) 2016 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  *)
*/

/* nosourcemap */