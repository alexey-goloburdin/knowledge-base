# Все книги в базе

```dataviewjs
let book_pages = dv.pages("").where(page => {
  if (page["Тип"] && page["Тип"].path == "types/Книга.md" && page["Название"] != "{{title}}") return page;
});
// Формируем таблицу с нужными колонками: "Ссылка" и "Ссылки"
book_pages.sort((book1, book2) => {
  if (book1["Когда прочитана"] === null) return 1;  // null значения в конец
  if (book2["Когда прочитана"] === null) return -1; // null значения в конец
  //if (book1["Когда прочитана"] === null || book2["Когда прочитана"] === null)  return 1;  // null значения в конец
  console.log(book1["Когда прочитана"] - book2["Когда прочитана"]);
  return book1["Когда прочитана"] - book2["Когда прочитана"];
});
//book_pages.map(b => console.log(b["Закончил читать"]));
/*
dv.table(
  ["Название", "Прочитана", "Когда прочитана"],
  book_pages.map(p => [
    `<a href="{p.file.link.path}">${p["Название"]}</a>`,
    p.Прочитана ? "✓" : "",
    p["Закончил читать"] !== null ? p["Закончил читать"] : "—"])
);
*/
```


